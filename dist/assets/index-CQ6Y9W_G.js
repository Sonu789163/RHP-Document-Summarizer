var J1=e=>{throw TypeError(e)};var zp=(e,t,n)=>t.has(e)||J1("Cannot "+n);var de=(e,t,n)=>(zp(e,t,"read from private field"),n?n.call(e):t.get(e)),mt=(e,t,n)=>t.has(e)?J1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),qe=(e,t,n,r)=>(zp(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Vn=(e,t,n)=>(zp(e,t,"access private method"),n);var ef=(e,t,n,r)=>({set _(s){qe(e,t,s,n)},get _(){return de(e,t,r)}});function hR(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zN={exports:{}},xm={},WN={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Td=Symbol.for("react.element"),mR=Symbol.for("react.portal"),pR=Symbol.for("react.fragment"),gR=Symbol.for("react.strict_mode"),xR=Symbol.for("react.profiler"),yR=Symbol.for("react.provider"),bR=Symbol.for("react.context"),vR=Symbol.for("react.forward_ref"),wR=Symbol.for("react.suspense"),ER=Symbol.for("react.memo"),NR=Symbol.for("react.lazy"),ev=Symbol.iterator;function TR(e){return e===null||typeof e!="object"?null:(e=ev&&e[ev]||e["@@iterator"],typeof e=="function"?e:null)}var VN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},YN=Object.assign,qN={};function wc(e,t,n){this.props=e,this.context=t,this.refs=qN,this.updater=n||VN}wc.prototype.isReactComponent={};wc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function GN(){}GN.prototype=wc.prototype;function uy(e,t,n){this.props=e,this.context=t,this.refs=qN,this.updater=n||VN}var dy=uy.prototype=new GN;dy.constructor=uy;YN(dy,wc.prototype);dy.isPureReactComponent=!0;var tv=Array.isArray,KN=Object.prototype.hasOwnProperty,fy={current:null},QN={key:!0,ref:!0,__self:!0,__source:!0};function XN(e,t,n){var r,s={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)KN.call(t,r)&&!QN.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Td,type:e,key:a,ref:i,props:s,_owner:fy.current}}function SR(e,t){return{$$typeof:Td,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Td}function kR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var nv=/\/+/g;function Wp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kR(""+e.key):t.toString(36)}function Mf(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Td:case mR:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Wp(i,0):r,tv(s)?(n="",e!=null&&(n=e.replace(nv,"$&/")+"/"),Mf(s,t,n,"",function(u){return u})):s!=null&&(hy(s)&&(s=SR(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(nv,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",tv(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+Wp(a,l);i+=Mf(a,t,n,c,s)}else if(c=TR(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+Wp(a,l++),i+=Mf(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function tf(e,t,n){if(e==null)return e;var r=[],s=0;return Mf(e,r,"","",function(a){return t.call(n,a,s++)}),r}function CR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wr={current:null},Ff={transition:null},AR={ReactCurrentDispatcher:wr,ReactCurrentBatchConfig:Ff,ReactCurrentOwner:fy};function ZN(){throw Error("act(...) is not supported in production builds of React.")}dt.Children={map:tf,forEach:function(e,t,n){tf(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return tf(e,function(){t++}),t},toArray:function(e){return tf(e,function(t){return t})||[]},only:function(e){if(!hy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};dt.Component=wc;dt.Fragment=pR;dt.Profiler=xR;dt.PureComponent=uy;dt.StrictMode=gR;dt.Suspense=wR;dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AR;dt.act=ZN;dt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=YN({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=fy.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)KN.call(t,c)&&!QN.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Td,type:e.type,key:s,ref:a,props:r,_owner:i}};dt.createContext=function(e){return e={$$typeof:bR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yR,_context:e},e.Consumer=e};dt.createElement=XN;dt.createFactory=function(e){var t=XN.bind(null,e);return t.type=e,t};dt.createRef=function(){return{current:null}};dt.forwardRef=function(e){return{$$typeof:vR,render:e}};dt.isValidElement=hy;dt.lazy=function(e){return{$$typeof:NR,_payload:{_status:-1,_result:e},_init:CR}};dt.memo=function(e,t){return{$$typeof:ER,type:e,compare:t===void 0?null:t}};dt.startTransition=function(e){var t=Ff.transition;Ff.transition={};try{e()}finally{Ff.transition=t}};dt.unstable_act=ZN;dt.useCallback=function(e,t){return wr.current.useCallback(e,t)};dt.useContext=function(e){return wr.current.useContext(e)};dt.useDebugValue=function(){};dt.useDeferredValue=function(e){return wr.current.useDeferredValue(e)};dt.useEffect=function(e,t){return wr.current.useEffect(e,t)};dt.useId=function(){return wr.current.useId()};dt.useImperativeHandle=function(e,t,n){return wr.current.useImperativeHandle(e,t,n)};dt.useInsertionEffect=function(e,t){return wr.current.useInsertionEffect(e,t)};dt.useLayoutEffect=function(e,t){return wr.current.useLayoutEffect(e,t)};dt.useMemo=function(e,t){return wr.current.useMemo(e,t)};dt.useReducer=function(e,t,n){return wr.current.useReducer(e,t,n)};dt.useRef=function(e){return wr.current.useRef(e)};dt.useState=function(e){return wr.current.useState(e)};dt.useSyncExternalStore=function(e,t,n){return wr.current.useSyncExternalStore(e,t,n)};dt.useTransition=function(){return wr.current.useTransition()};dt.version="18.3.1";WN.exports=dt;var h=WN.exports;const oe=gm(h),my=hR({__proto__:null,default:oe},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _R=h,jR=Symbol.for("react.element"),IR=Symbol.for("react.fragment"),RR=Object.prototype.hasOwnProperty,PR=_R.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DR={key:!0,ref:!0,__self:!0,__source:!0};function JN(e,t,n){var r,s={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)RR.call(t,r)&&!DR.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:jR,type:e,key:a,ref:i,props:s,_owner:PR.current}}xm.Fragment=IR;xm.jsx=JN;xm.jsxs=JN;zN.exports=xm;var o=zN.exports,eT={exports:{}},ss={},tT={exports:{}},nT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,D){var T=F.length;F.push(D);e:for(;0<T;){var G=T-1>>>1,ne=F[G];if(0<s(ne,D))F[G]=D,F[T]=ne,T=G;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var D=F[0],T=F.pop();if(T!==D){F[0]=T;e:for(var G=0,ne=F.length,A=ne>>>1;G<A;){var W=2*(G+1)-1,z=F[W],ae=W+1,J=F[ae];if(0>s(z,T))ae<ne&&0>s(J,z)?(F[G]=J,F[ae]=T,G=ae):(F[G]=z,F[W]=T,G=W);else if(ae<ne&&0>s(J,T))F[G]=J,F[ae]=T,G=ae;else break e}}return D}function s(F,D){var T=F.sortIndex-D.sortIndex;return T!==0?T:F.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,m=3,p=!1,g=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(F){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=F)r(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=n(u)}}function N(F){if(y=!1,E(F),!g)if(n(c)!==null)g=!0,M(C);else{var D=n(u);D!==null&&K(N,D.startTime-F)}}function C(F,D){g=!1,y&&(y=!1,v(H),H=-1),p=!0;var T=m;try{for(E(D),f=n(c);f!==null&&(!(f.expirationTime>D)||F&&!$());){var G=f.callback;if(typeof G=="function"){f.callback=null,m=f.priorityLevel;var ne=G(f.expirationTime<=D);D=e.unstable_now(),typeof ne=="function"?f.callback=ne:f===n(c)&&r(c),E(D)}else r(c);f=n(c)}if(f!==null)var A=!0;else{var W=n(u);W!==null&&K(N,W.startTime-D),A=!1}return A}finally{f=null,m=T,p=!1}}var S=!1,_=null,H=-1,V=5,k=-1;function $(){return!(e.unstable_now()-k<V)}function I(){if(_!==null){var F=e.unstable_now();k=F;var D=!0;try{D=_(!0,F)}finally{D?Y():(S=!1,_=null)}}else S=!1}var Y;if(typeof b=="function")Y=function(){b(I)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,L=P.port2;P.port1.onmessage=I,Y=function(){L.postMessage(null)}}else Y=function(){w(I,0)};function M(F){_=F,S||(S=!0,Y())}function K(F,D){H=w(function(){F(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,M(C))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(F){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var T=m;m=D;try{return F()}finally{m=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,D){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var T=m;m=F;try{return D()}finally{m=T}},e.unstable_scheduleCallback=function(F,D,T){var G=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?G+T:G):T=G,F){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=T+ne,F={id:d++,callback:D,priorityLevel:F,startTime:T,expirationTime:ne,sortIndex:-1},T>G?(F.sortIndex=T,t(u,F),n(c)===null&&F===n(u)&&(y?(v(H),H=-1):y=!0,K(N,T-G))):(F.sortIndex=ne,t(c,F),g||p||(g=!0,M(C))),F},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(F){var D=m;return function(){var T=m;m=D;try{return F.apply(this,arguments)}finally{m=T}}}})(nT);tT.exports=nT;var OR=tT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LR=h,ns=OR;function be(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rT=new Set,Fu={};function Vi(e,t){Xl(e,t),Xl(e+"Capture",t)}function Xl(e,t){for(Fu[e]=t,e=0;e<t.length;e++)rT.add(t[e])}var Ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),i0=Object.prototype.hasOwnProperty,MR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rv={},sv={};function FR(e){return i0.call(sv,e)?!0:i0.call(rv,e)?!1:MR.test(e)?sv[e]=!0:(rv[e]=!0,!1)}function BR(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function UR(e,t,n,r){if(t===null||typeof t>"u"||BR(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Er(e,t,n,r,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var zn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){zn[e]=new Er(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];zn[t]=new Er(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){zn[e]=new Er(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){zn[e]=new Er(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){zn[e]=new Er(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){zn[e]=new Er(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){zn[e]=new Er(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){zn[e]=new Er(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){zn[e]=new Er(e,5,!1,e.toLowerCase(),null,!1,!1)});var py=/[\-:]([a-z])/g;function gy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(py,gy);zn[t]=new Er(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(py,gy);zn[t]=new Er(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(py,gy);zn[t]=new Er(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){zn[e]=new Er(e,1,!1,e.toLowerCase(),null,!1,!1)});zn.xlinkHref=new Er("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){zn[e]=new Er(e,1,!1,e.toLowerCase(),null,!0,!0)});function xy(e,t,n,r){var s=zn.hasOwnProperty(t)?zn[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(UR(t,n,s,r)&&(n=null),r||s===null?FR(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Wa=LR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nf=Symbol.for("react.element"),pl=Symbol.for("react.portal"),gl=Symbol.for("react.fragment"),yy=Symbol.for("react.strict_mode"),l0=Symbol.for("react.profiler"),sT=Symbol.for("react.provider"),aT=Symbol.for("react.context"),by=Symbol.for("react.forward_ref"),c0=Symbol.for("react.suspense"),u0=Symbol.for("react.suspense_list"),vy=Symbol.for("react.memo"),so=Symbol.for("react.lazy"),oT=Symbol.for("react.offscreen"),av=Symbol.iterator;function Hc(e){return e===null||typeof e!="object"?null:(e=av&&e[av]||e["@@iterator"],typeof e=="function"?e:null)}var Zt=Object.assign,Vp;function iu(e){if(Vp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vp=t&&t[1]||""}return`
`+Vp+e}var Yp=!1;function qp(e,t){if(!e||Yp)return"";Yp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Yp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?iu(e):""}function HR(e){switch(e.tag){case 5:return iu(e.type);case 16:return iu("Lazy");case 13:return iu("Suspense");case 19:return iu("SuspenseList");case 0:case 2:case 15:return e=qp(e.type,!1),e;case 11:return e=qp(e.type.render,!1),e;case 1:return e=qp(e.type,!0),e;default:return""}}function d0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gl:return"Fragment";case pl:return"Portal";case l0:return"Profiler";case yy:return"StrictMode";case c0:return"Suspense";case u0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case aT:return(e.displayName||"Context")+".Consumer";case sT:return(e._context.displayName||"Context")+".Provider";case by:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vy:return t=e.displayName||null,t!==null?t:d0(e.type)||"Memo";case so:t=e._payload,e=e._init;try{return d0(e(t))}catch{}}return null}function $R(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return d0(t);case 8:return t===yy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Oo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function iT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zR(e){var t=iT(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rf(e){e._valueTracker||(e._valueTracker=zR(e))}function lT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=iT(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function f0(e,t){var n=t.checked;return Zt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ov(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Oo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cT(e,t){t=t.checked,t!=null&&xy(e,"checked",t,!1)}function h0(e,t){cT(e,t);var n=Oo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?m0(e,t.type,n):t.hasOwnProperty("defaultValue")&&m0(e,t.type,Oo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function iv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function m0(e,t,n){(t!=="number"||fh(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var lu=Array.isArray;function _l(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Oo(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function p0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(be(91));return Zt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(be(92));if(lu(n)){if(1<n.length)throw Error(be(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Oo(n)}}function uT(e,t){var n=Oo(t.value),r=Oo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function cv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dT(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function g0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dT(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var sf,fT=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(sf=sf||document.createElement("div"),sf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=sf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var yu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WR=["Webkit","ms","Moz","O"];Object.keys(yu).forEach(function(e){WR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yu[t]=yu[e]})});function hT(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||yu.hasOwnProperty(e)&&yu[e]?(""+t).trim():t+"px"}function mT(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=hT(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var VR=Zt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function x0(e,t){if(t){if(VR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(be(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(be(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(be(61))}if(t.style!=null&&typeof t.style!="object")throw Error(be(62))}}function y0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var b0=null;function wy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var v0=null,jl=null,Il=null;function uv(e){if(e=Cd(e)){if(typeof v0!="function")throw Error(be(280));var t=e.stateNode;t&&(t=Em(t),v0(e.stateNode,e.type,t))}}function pT(e){jl?Il?Il.push(e):Il=[e]:jl=e}function gT(){if(jl){var e=jl,t=Il;if(Il=jl=null,uv(e),t)for(e=0;e<t.length;e++)uv(t[e])}}function xT(e,t){return e(t)}function yT(){}var Gp=!1;function bT(e,t,n){if(Gp)return e(t,n);Gp=!0;try{return xT(e,t,n)}finally{Gp=!1,(jl!==null||Il!==null)&&(yT(),gT())}}function Uu(e,t){var n=e.stateNode;if(n===null)return null;var r=Em(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(be(231,t,typeof n));return n}var w0=!1;if(Ma)try{var $c={};Object.defineProperty($c,"passive",{get:function(){w0=!0}}),window.addEventListener("test",$c,$c),window.removeEventListener("test",$c,$c)}catch{w0=!1}function YR(e,t,n,r,s,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var bu=!1,hh=null,mh=!1,E0=null,qR={onError:function(e){bu=!0,hh=e}};function GR(e,t,n,r,s,a,i,l,c){bu=!1,hh=null,YR.apply(qR,arguments)}function KR(e,t,n,r,s,a,i,l,c){if(GR.apply(this,arguments),bu){if(bu){var u=hh;bu=!1,hh=null}else throw Error(be(198));mh||(mh=!0,E0=u)}}function Yi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function vT(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dv(e){if(Yi(e)!==e)throw Error(be(188))}function QR(e){var t=e.alternate;if(!t){if(t=Yi(e),t===null)throw Error(be(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return dv(s),e;if(a===r)return dv(s),t;a=a.sibling}throw Error(be(188))}if(n.return!==r.return)n=s,r=a;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=a;break}if(l===r){i=!0,r=s,n=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===n){i=!0,n=a,r=s;break}if(l===r){i=!0,r=a,n=s;break}l=l.sibling}if(!i)throw Error(be(189))}}if(n.alternate!==r)throw Error(be(190))}if(n.tag!==3)throw Error(be(188));return n.stateNode.current===n?e:t}function wT(e){return e=QR(e),e!==null?ET(e):null}function ET(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ET(e);if(t!==null)return t;e=e.sibling}return null}var NT=ns.unstable_scheduleCallback,fv=ns.unstable_cancelCallback,XR=ns.unstable_shouldYield,ZR=ns.unstable_requestPaint,un=ns.unstable_now,JR=ns.unstable_getCurrentPriorityLevel,Ey=ns.unstable_ImmediatePriority,TT=ns.unstable_UserBlockingPriority,ph=ns.unstable_NormalPriority,eP=ns.unstable_LowPriority,ST=ns.unstable_IdlePriority,ym=null,ca=null;function tP(e){if(ca&&typeof ca.onCommitFiberRoot=="function")try{ca.onCommitFiberRoot(ym,e,void 0,(e.current.flags&128)===128)}catch{}}var Ms=Math.clz32?Math.clz32:sP,nP=Math.log,rP=Math.LN2;function sP(e){return e>>>=0,e===0?32:31-(nP(e)/rP|0)|0}var af=64,of=4194304;function cu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gh(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=cu(l):(a&=i,a!==0&&(r=cu(a)))}else i=n&~s,i!==0?r=cu(i):a!==0&&(r=cu(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ms(t),s=1<<n,r|=e[n],t&=~s;return r}function aP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oP(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Ms(a),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=aP(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function N0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kT(){var e=af;return af<<=1,!(af&4194240)&&(af=64),e}function Kp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Sd(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ms(t),e[t]=n}function iP(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ms(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function Ny(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ms(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var At=0;function CT(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var AT,Ty,_T,jT,IT,T0=!1,lf=[],wo=null,Eo=null,No=null,Hu=new Map,$u=new Map,io=[],lP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hv(e,t){switch(e){case"focusin":case"focusout":wo=null;break;case"dragenter":case"dragleave":Eo=null;break;case"mouseover":case"mouseout":No=null;break;case"pointerover":case"pointerout":Hu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$u.delete(t.pointerId)}}function zc(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Cd(t),t!==null&&Ty(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function cP(e,t,n,r,s){switch(t){case"focusin":return wo=zc(wo,e,t,n,r,s),!0;case"dragenter":return Eo=zc(Eo,e,t,n,r,s),!0;case"mouseover":return No=zc(No,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Hu.set(a,zc(Hu.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,$u.set(a,zc($u.get(a)||null,e,t,n,r,s)),!0}return!1}function RT(e){var t=hi(e.target);if(t!==null){var n=Yi(t);if(n!==null){if(t=n.tag,t===13){if(t=vT(n),t!==null){e.blockedOn=t,IT(e.priority,function(){_T(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=S0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);b0=r,n.target.dispatchEvent(r),b0=null}else return t=Cd(n),t!==null&&Ty(t),e.blockedOn=n,!1;t.shift()}return!0}function mv(e,t,n){Bf(e)&&n.delete(t)}function uP(){T0=!1,wo!==null&&Bf(wo)&&(wo=null),Eo!==null&&Bf(Eo)&&(Eo=null),No!==null&&Bf(No)&&(No=null),Hu.forEach(mv),$u.forEach(mv)}function Wc(e,t){e.blockedOn===t&&(e.blockedOn=null,T0||(T0=!0,ns.unstable_scheduleCallback(ns.unstable_NormalPriority,uP)))}function zu(e){function t(s){return Wc(s,e)}if(0<lf.length){Wc(lf[0],e);for(var n=1;n<lf.length;n++){var r=lf[n];r.blockedOn===e&&(r.blockedOn=null)}}for(wo!==null&&Wc(wo,e),Eo!==null&&Wc(Eo,e),No!==null&&Wc(No,e),Hu.forEach(t),$u.forEach(t),n=0;n<io.length;n++)r=io[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<io.length&&(n=io[0],n.blockedOn===null);)RT(n),n.blockedOn===null&&io.shift()}var Rl=Wa.ReactCurrentBatchConfig,xh=!0;function dP(e,t,n,r){var s=At,a=Rl.transition;Rl.transition=null;try{At=1,Sy(e,t,n,r)}finally{At=s,Rl.transition=a}}function fP(e,t,n,r){var s=At,a=Rl.transition;Rl.transition=null;try{At=4,Sy(e,t,n,r)}finally{At=s,Rl.transition=a}}function Sy(e,t,n,r){if(xh){var s=S0(e,t,n,r);if(s===null)ag(e,t,r,yh,n),hv(e,r);else if(cP(s,e,t,n,r))r.stopPropagation();else if(hv(e,r),t&4&&-1<lP.indexOf(e)){for(;s!==null;){var a=Cd(s);if(a!==null&&AT(a),a=S0(e,t,n,r),a===null&&ag(e,t,r,yh,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else ag(e,t,r,null,n)}}var yh=null;function S0(e,t,n,r){if(yh=null,e=wy(r),e=hi(e),e!==null)if(t=Yi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=vT(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yh=e,null}function PT(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JR()){case Ey:return 1;case TT:return 4;case ph:case eP:return 16;case ST:return 536870912;default:return 16}default:return 16}}var go=null,ky=null,Uf=null;function DT(){if(Uf)return Uf;var e,t=ky,n=t.length,r,s="value"in go?go.value:go.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[a-r];r++);return Uf=s.slice(e,1<r?1-r:void 0)}function Hf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cf(){return!0}function pv(){return!1}function as(e){function t(n,r,s,a,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?cf:pv,this.isPropagationStopped=pv,this}return Zt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cf)},persist:function(){},isPersistent:cf}),t}var Ec={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cy=as(Ec),kd=Zt({},Ec,{view:0,detail:0}),hP=as(kd),Qp,Xp,Vc,bm=Zt({},kd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ay,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vc&&(Vc&&e.type==="mousemove"?(Qp=e.screenX-Vc.screenX,Xp=e.screenY-Vc.screenY):Xp=Qp=0,Vc=e),Qp)},movementY:function(e){return"movementY"in e?e.movementY:Xp}}),gv=as(bm),mP=Zt({},bm,{dataTransfer:0}),pP=as(mP),gP=Zt({},kd,{relatedTarget:0}),Zp=as(gP),xP=Zt({},Ec,{animationName:0,elapsedTime:0,pseudoElement:0}),yP=as(xP),bP=Zt({},Ec,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vP=as(bP),wP=Zt({},Ec,{data:0}),xv=as(wP),EP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TP[e])?!!t[e]:!1}function Ay(){return SP}var kP=Zt({},kd,{key:function(e){if(e.key){var t=EP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?NP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ay,charCode:function(e){return e.type==="keypress"?Hf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),CP=as(kP),AP=Zt({},bm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yv=as(AP),_P=Zt({},kd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ay}),jP=as(_P),IP=Zt({},Ec,{propertyName:0,elapsedTime:0,pseudoElement:0}),RP=as(IP),PP=Zt({},bm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),DP=as(PP),OP=[9,13,27,32],_y=Ma&&"CompositionEvent"in window,vu=null;Ma&&"documentMode"in document&&(vu=document.documentMode);var LP=Ma&&"TextEvent"in window&&!vu,OT=Ma&&(!_y||vu&&8<vu&&11>=vu),bv=" ",vv=!1;function LT(e,t){switch(e){case"keyup":return OP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MT(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xl=!1;function MP(e,t){switch(e){case"compositionend":return MT(t);case"keypress":return t.which!==32?null:(vv=!0,bv);case"textInput":return e=t.data,e===bv&&vv?null:e;default:return null}}function FP(e,t){if(xl)return e==="compositionend"||!_y&&LT(e,t)?(e=DT(),Uf=ky=go=null,xl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return OT&&t.locale!=="ko"?null:t.data;default:return null}}var BP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!BP[e.type]:t==="textarea"}function FT(e,t,n,r){pT(r),t=bh(t,"onChange"),0<t.length&&(n=new Cy("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var wu=null,Wu=null;function UP(e){KT(e,0)}function vm(e){var t=vl(e);if(lT(t))return e}function HP(e,t){if(e==="change")return t}var BT=!1;if(Ma){var Jp;if(Ma){var eg="oninput"in document;if(!eg){var Ev=document.createElement("div");Ev.setAttribute("oninput","return;"),eg=typeof Ev.oninput=="function"}Jp=eg}else Jp=!1;BT=Jp&&(!document.documentMode||9<document.documentMode)}function Nv(){wu&&(wu.detachEvent("onpropertychange",UT),Wu=wu=null)}function UT(e){if(e.propertyName==="value"&&vm(Wu)){var t=[];FT(t,Wu,e,wy(e)),bT(UP,t)}}function $P(e,t,n){e==="focusin"?(Nv(),wu=t,Wu=n,wu.attachEvent("onpropertychange",UT)):e==="focusout"&&Nv()}function zP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vm(Wu)}function WP(e,t){if(e==="click")return vm(t)}function VP(e,t){if(e==="input"||e==="change")return vm(t)}function YP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $s=typeof Object.is=="function"?Object.is:YP;function Vu(e,t){if($s(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!i0.call(t,s)||!$s(e[s],t[s]))return!1}return!0}function Tv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sv(e,t){var n=Tv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tv(n)}}function HT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?HT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $T(){for(var e=window,t=fh();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fh(e.document)}return t}function jy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qP(e){var t=$T(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&HT(n.ownerDocument.documentElement,n)){if(r!==null&&jy(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=Sv(n,a);var i=Sv(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var GP=Ma&&"documentMode"in document&&11>=document.documentMode,yl=null,k0=null,Eu=null,C0=!1;function kv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;C0||yl==null||yl!==fh(r)||(r=yl,"selectionStart"in r&&jy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Eu&&Vu(Eu,r)||(Eu=r,r=bh(k0,"onSelect"),0<r.length&&(t=new Cy("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yl)))}function uf(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var bl={animationend:uf("Animation","AnimationEnd"),animationiteration:uf("Animation","AnimationIteration"),animationstart:uf("Animation","AnimationStart"),transitionend:uf("Transition","TransitionEnd")},tg={},zT={};Ma&&(zT=document.createElement("div").style,"AnimationEvent"in window||(delete bl.animationend.animation,delete bl.animationiteration.animation,delete bl.animationstart.animation),"TransitionEvent"in window||delete bl.transitionend.transition);function wm(e){if(tg[e])return tg[e];if(!bl[e])return e;var t=bl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in zT)return tg[e]=t[n];return e}var WT=wm("animationend"),VT=wm("animationiteration"),YT=wm("animationstart"),qT=wm("transitionend"),GT=new Map,Cv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Go(e,t){GT.set(e,t),Vi(t,[e])}for(var ng=0;ng<Cv.length;ng++){var rg=Cv[ng],KP=rg.toLowerCase(),QP=rg[0].toUpperCase()+rg.slice(1);Go(KP,"on"+QP)}Go(WT,"onAnimationEnd");Go(VT,"onAnimationIteration");Go(YT,"onAnimationStart");Go("dblclick","onDoubleClick");Go("focusin","onFocus");Go("focusout","onBlur");Go(qT,"onTransitionEnd");Xl("onMouseEnter",["mouseout","mouseover"]);Xl("onMouseLeave",["mouseout","mouseover"]);Xl("onPointerEnter",["pointerout","pointerover"]);Xl("onPointerLeave",["pointerout","pointerover"]);Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XP=new Set("cancel close invalid load scroll toggle".split(" ").concat(uu));function Av(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,KR(r,t,void 0,e),e.currentTarget=null}function KT(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Av(s,l,u),a=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Av(s,l,u),a=c}}}if(mh)throw e=E0,mh=!1,E0=null,e}function Ft(e,t){var n=t[R0];n===void 0&&(n=t[R0]=new Set);var r=e+"__bubble";n.has(r)||(QT(t,e,2,!1),n.add(r))}function sg(e,t,n){var r=0;t&&(r|=4),QT(n,e,r,t)}var df="_reactListening"+Math.random().toString(36).slice(2);function Yu(e){if(!e[df]){e[df]=!0,rT.forEach(function(n){n!=="selectionchange"&&(XP.has(n)||sg(n,!1,e),sg(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[df]||(t[df]=!0,sg("selectionchange",!1,t))}}function QT(e,t,n,r){switch(PT(t)){case 1:var s=dP;break;case 4:s=fP;break;default:s=Sy}n=s.bind(null,t,n,e),s=void 0,!w0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ag(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=hi(l),i===null)return;if(c=i.tag,c===5||c===6){r=a=i;continue e}l=l.parentNode}}r=r.return}bT(function(){var u=a,d=wy(n),f=[];e:{var m=GT.get(e);if(m!==void 0){var p=Cy,g=e;switch(e){case"keypress":if(Hf(n)===0)break e;case"keydown":case"keyup":p=CP;break;case"focusin":g="focus",p=Zp;break;case"focusout":g="blur",p=Zp;break;case"beforeblur":case"afterblur":p=Zp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=gv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=pP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=jP;break;case WT:case VT:case YT:p=yP;break;case qT:p=RP;break;case"scroll":p=hP;break;case"wheel":p=DP;break;case"copy":case"cut":case"paste":p=vP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=yv}var y=(t&4)!==0,w=!y&&e==="scroll",v=y?m!==null?m+"Capture":null:m;y=[];for(var b=u,E;b!==null;){E=b;var N=E.stateNode;if(E.tag===5&&N!==null&&(E=N,v!==null&&(N=Uu(b,v),N!=null&&y.push(qu(b,N,E)))),w)break;b=b.return}0<y.length&&(m=new p(m,g,null,n,d),f.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&n!==b0&&(g=n.relatedTarget||n.fromElement)&&(hi(g)||g[Fa]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?hi(g):null,g!==null&&(w=Yi(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(y=gv,N="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=yv,N="onPointerLeave",v="onPointerEnter",b="pointer"),w=p==null?m:vl(p),E=g==null?m:vl(g),m=new y(N,b+"leave",p,n,d),m.target=w,m.relatedTarget=E,N=null,hi(d)===u&&(y=new y(v,b+"enter",g,n,d),y.target=E,y.relatedTarget=w,N=y),w=N,p&&g)t:{for(y=p,v=g,b=0,E=y;E;E=al(E))b++;for(E=0,N=v;N;N=al(N))E++;for(;0<b-E;)y=al(y),b--;for(;0<E-b;)v=al(v),E--;for(;b--;){if(y===v||v!==null&&y===v.alternate)break t;y=al(y),v=al(v)}y=null}else y=null;p!==null&&_v(f,m,p,y,!1),g!==null&&w!==null&&_v(f,w,g,y,!0)}}e:{if(m=u?vl(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var C=HP;else if(wv(m))if(BT)C=VP;else{C=zP;var S=$P}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=WP);if(C&&(C=C(e,u))){FT(f,C,n,d);break e}S&&S(e,m,u),e==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&m0(m,"number",m.value)}switch(S=u?vl(u):window,e){case"focusin":(wv(S)||S.contentEditable==="true")&&(yl=S,k0=u,Eu=null);break;case"focusout":Eu=k0=yl=null;break;case"mousedown":C0=!0;break;case"contextmenu":case"mouseup":case"dragend":C0=!1,kv(f,n,d);break;case"selectionchange":if(GP)break;case"keydown":case"keyup":kv(f,n,d)}var _;if(_y)e:{switch(e){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else xl?LT(e,n)&&(H="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(H="onCompositionStart");H&&(OT&&n.locale!=="ko"&&(xl||H!=="onCompositionStart"?H==="onCompositionEnd"&&xl&&(_=DT()):(go=d,ky="value"in go?go.value:go.textContent,xl=!0)),S=bh(u,H),0<S.length&&(H=new xv(H,e,null,n,d),f.push({event:H,listeners:S}),_?H.data=_:(_=MT(n),_!==null&&(H.data=_)))),(_=LP?MP(e,n):FP(e,n))&&(u=bh(u,"onBeforeInput"),0<u.length&&(d=new xv("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=_))}KT(f,t)})}function qu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bh(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Uu(e,n),a!=null&&r.unshift(qu(e,a,s)),a=Uu(e,t),a!=null&&r.push(qu(e,a,s))),e=e.return}return r}function al(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _v(e,t,n,r,s){for(var a=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Uu(n,a),c!=null&&i.unshift(qu(n,c,l))):s||(c=Uu(n,a),c!=null&&i.push(qu(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var ZP=/\r\n?/g,JP=/\u0000|\uFFFD/g;function jv(e){return(typeof e=="string"?e:""+e).replace(ZP,`
`).replace(JP,"")}function ff(e,t,n){if(t=jv(t),jv(e)!==t&&n)throw Error(be(425))}function vh(){}var A0=null,_0=null;function j0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var I0=typeof setTimeout=="function"?setTimeout:void 0,e6=typeof clearTimeout=="function"?clearTimeout:void 0,Iv=typeof Promise=="function"?Promise:void 0,t6=typeof queueMicrotask=="function"?queueMicrotask:typeof Iv<"u"?function(e){return Iv.resolve(null).then(e).catch(n6)}:I0;function n6(e){setTimeout(function(){throw e})}function og(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),zu(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);zu(t)}function To(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Rv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Nc=Math.random().toString(36).slice(2),sa="__reactFiber$"+Nc,Gu="__reactProps$"+Nc,Fa="__reactContainer$"+Nc,R0="__reactEvents$"+Nc,r6="__reactListeners$"+Nc,s6="__reactHandles$"+Nc;function hi(e){var t=e[sa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fa]||n[sa]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Rv(e);e!==null;){if(n=e[sa])return n;e=Rv(e)}return t}e=n,n=e.parentNode}return null}function Cd(e){return e=e[sa]||e[Fa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(be(33))}function Em(e){return e[Gu]||null}var P0=[],wl=-1;function Ko(e){return{current:e}}function Bt(e){0>wl||(e.current=P0[wl],P0[wl]=null,wl--)}function Ot(e,t){wl++,P0[wl]=e.current,e.current=t}var Lo={},nr=Ko(Lo),Lr=Ko(!1),Ii=Lo;function Zl(e,t){var n=e.type.contextTypes;if(!n)return Lo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Mr(e){return e=e.childContextTypes,e!=null}function wh(){Bt(Lr),Bt(nr)}function Pv(e,t,n){if(nr.current!==Lo)throw Error(be(168));Ot(nr,t),Ot(Lr,n)}function XT(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(be(108,$R(e)||"Unknown",s));return Zt({},n,r)}function Eh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Lo,Ii=nr.current,Ot(nr,e),Ot(Lr,Lr.current),!0}function Dv(e,t,n){var r=e.stateNode;if(!r)throw Error(be(169));n?(e=XT(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,Bt(Lr),Bt(nr),Ot(nr,e)):Bt(Lr),Ot(Lr,n)}var Ca=null,Nm=!1,ig=!1;function ZT(e){Ca===null?Ca=[e]:Ca.push(e)}function a6(e){Nm=!0,ZT(e)}function Qo(){if(!ig&&Ca!==null){ig=!0;var e=0,t=At;try{var n=Ca;for(At=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ca=null,Nm=!1}catch(s){throw Ca!==null&&(Ca=Ca.slice(e+1)),NT(Ey,Qo),s}finally{At=t,ig=!1}}return null}var El=[],Nl=0,Nh=null,Th=0,ds=[],fs=0,Ri=null,Ra=1,Pa="";function ci(e,t){El[Nl++]=Th,El[Nl++]=Nh,Nh=e,Th=t}function JT(e,t,n){ds[fs++]=Ra,ds[fs++]=Pa,ds[fs++]=Ri,Ri=e;var r=Ra;e=Pa;var s=32-Ms(r)-1;r&=~(1<<s),n+=1;var a=32-Ms(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Ra=1<<32-Ms(t)+s|n<<s|r,Pa=a+e}else Ra=1<<a|n<<s|r,Pa=e}function Iy(e){e.return!==null&&(ci(e,1),JT(e,1,0))}function Ry(e){for(;e===Nh;)Nh=El[--Nl],El[Nl]=null,Th=El[--Nl],El[Nl]=null;for(;e===Ri;)Ri=ds[--fs],ds[fs]=null,Pa=ds[--fs],ds[fs]=null,Ra=ds[--fs],ds[fs]=null}var Jr=null,Qr=null,Vt=!1,Ps=null;function eS(e,t){var n=gs(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ov(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jr=e,Qr=To(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jr=e,Qr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ri!==null?{id:Ra,overflow:Pa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=gs(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Jr=e,Qr=null,!0):!1;default:return!1}}function D0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function O0(e){if(Vt){var t=Qr;if(t){var n=t;if(!Ov(e,t)){if(D0(e))throw Error(be(418));t=To(n.nextSibling);var r=Jr;t&&Ov(e,t)?eS(r,n):(e.flags=e.flags&-4097|2,Vt=!1,Jr=e)}}else{if(D0(e))throw Error(be(418));e.flags=e.flags&-4097|2,Vt=!1,Jr=e}}}function Lv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jr=e}function hf(e){if(e!==Jr)return!1;if(!Vt)return Lv(e),Vt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!j0(e.type,e.memoizedProps)),t&&(t=Qr)){if(D0(e))throw tS(),Error(be(418));for(;t;)eS(e,t),t=To(t.nextSibling)}if(Lv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(be(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Qr=To(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Qr=null}}else Qr=Jr?To(e.stateNode.nextSibling):null;return!0}function tS(){for(var e=Qr;e;)e=To(e.nextSibling)}function Jl(){Qr=Jr=null,Vt=!1}function Py(e){Ps===null?Ps=[e]:Ps.push(e)}var o6=Wa.ReactCurrentBatchConfig;function Yc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(be(309));var r=n.stateNode}if(!r)throw Error(be(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(be(284));if(!n._owner)throw Error(be(290,e))}return e}function mf(e,t){throw e=Object.prototype.toString.call(t),Error(be(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Mv(e){var t=e._init;return t(e._payload)}function nS(e){function t(v,b){if(e){var E=v.deletions;E===null?(v.deletions=[b],v.flags|=16):E.push(b)}}function n(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function s(v,b){return v=Ao(v,b),v.index=0,v.sibling=null,v}function a(v,b,E){return v.index=E,e?(E=v.alternate,E!==null?(E=E.index,E<b?(v.flags|=2,b):E):(v.flags|=2,b)):(v.flags|=1048576,b)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,b,E,N){return b===null||b.tag!==6?(b=mg(E,v.mode,N),b.return=v,b):(b=s(b,E),b.return=v,b)}function c(v,b,E,N){var C=E.type;return C===gl?d(v,b,E.props.children,N,E.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===so&&Mv(C)===b.type)?(N=s(b,E.props),N.ref=Yc(v,b,E),N.return=v,N):(N=Gf(E.type,E.key,E.props,null,v.mode,N),N.ref=Yc(v,b,E),N.return=v,N)}function u(v,b,E,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==E.containerInfo||b.stateNode.implementation!==E.implementation?(b=pg(E,v.mode,N),b.return=v,b):(b=s(b,E.children||[]),b.return=v,b)}function d(v,b,E,N,C){return b===null||b.tag!==7?(b=ki(E,v.mode,N,C),b.return=v,b):(b=s(b,E),b.return=v,b)}function f(v,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return b=mg(""+b,v.mode,E),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case nf:return E=Gf(b.type,b.key,b.props,null,v.mode,E),E.ref=Yc(v,null,b),E.return=v,E;case pl:return b=pg(b,v.mode,E),b.return=v,b;case so:var N=b._init;return f(v,N(b._payload),E)}if(lu(b)||Hc(b))return b=ki(b,v.mode,E,null),b.return=v,b;mf(v,b)}return null}function m(v,b,E,N){var C=b!==null?b.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return C!==null?null:l(v,b,""+E,N);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case nf:return E.key===C?c(v,b,E,N):null;case pl:return E.key===C?u(v,b,E,N):null;case so:return C=E._init,m(v,b,C(E._payload),N)}if(lu(E)||Hc(E))return C!==null?null:d(v,b,E,N,null);mf(v,E)}return null}function p(v,b,E,N,C){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(E)||null,l(b,v,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case nf:return v=v.get(N.key===null?E:N.key)||null,c(b,v,N,C);case pl:return v=v.get(N.key===null?E:N.key)||null,u(b,v,N,C);case so:var S=N._init;return p(v,b,E,S(N._payload),C)}if(lu(N)||Hc(N))return v=v.get(E)||null,d(b,v,N,C,null);mf(b,N)}return null}function g(v,b,E,N){for(var C=null,S=null,_=b,H=b=0,V=null;_!==null&&H<E.length;H++){_.index>H?(V=_,_=null):V=_.sibling;var k=m(v,_,E[H],N);if(k===null){_===null&&(_=V);break}e&&_&&k.alternate===null&&t(v,_),b=a(k,b,H),S===null?C=k:S.sibling=k,S=k,_=V}if(H===E.length)return n(v,_),Vt&&ci(v,H),C;if(_===null){for(;H<E.length;H++)_=f(v,E[H],N),_!==null&&(b=a(_,b,H),S===null?C=_:S.sibling=_,S=_);return Vt&&ci(v,H),C}for(_=r(v,_);H<E.length;H++)V=p(_,v,H,E[H],N),V!==null&&(e&&V.alternate!==null&&_.delete(V.key===null?H:V.key),b=a(V,b,H),S===null?C=V:S.sibling=V,S=V);return e&&_.forEach(function($){return t(v,$)}),Vt&&ci(v,H),C}function y(v,b,E,N){var C=Hc(E);if(typeof C!="function")throw Error(be(150));if(E=C.call(E),E==null)throw Error(be(151));for(var S=C=null,_=b,H=b=0,V=null,k=E.next();_!==null&&!k.done;H++,k=E.next()){_.index>H?(V=_,_=null):V=_.sibling;var $=m(v,_,k.value,N);if($===null){_===null&&(_=V);break}e&&_&&$.alternate===null&&t(v,_),b=a($,b,H),S===null?C=$:S.sibling=$,S=$,_=V}if(k.done)return n(v,_),Vt&&ci(v,H),C;if(_===null){for(;!k.done;H++,k=E.next())k=f(v,k.value,N),k!==null&&(b=a(k,b,H),S===null?C=k:S.sibling=k,S=k);return Vt&&ci(v,H),C}for(_=r(v,_);!k.done;H++,k=E.next())k=p(_,v,H,k.value,N),k!==null&&(e&&k.alternate!==null&&_.delete(k.key===null?H:k.key),b=a(k,b,H),S===null?C=k:S.sibling=k,S=k);return e&&_.forEach(function(I){return t(v,I)}),Vt&&ci(v,H),C}function w(v,b,E,N){if(typeof E=="object"&&E!==null&&E.type===gl&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case nf:e:{for(var C=E.key,S=b;S!==null;){if(S.key===C){if(C=E.type,C===gl){if(S.tag===7){n(v,S.sibling),b=s(S,E.props.children),b.return=v,v=b;break e}}else if(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===so&&Mv(C)===S.type){n(v,S.sibling),b=s(S,E.props),b.ref=Yc(v,S,E),b.return=v,v=b;break e}n(v,S);break}else t(v,S);S=S.sibling}E.type===gl?(b=ki(E.props.children,v.mode,N,E.key),b.return=v,v=b):(N=Gf(E.type,E.key,E.props,null,v.mode,N),N.ref=Yc(v,b,E),N.return=v,v=N)}return i(v);case pl:e:{for(S=E.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===E.containerInfo&&b.stateNode.implementation===E.implementation){n(v,b.sibling),b=s(b,E.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else t(v,b);b=b.sibling}b=pg(E,v.mode,N),b.return=v,v=b}return i(v);case so:return S=E._init,w(v,b,S(E._payload),N)}if(lu(E))return g(v,b,E,N);if(Hc(E))return y(v,b,E,N);mf(v,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,b!==null&&b.tag===6?(n(v,b.sibling),b=s(b,E),b.return=v,v=b):(n(v,b),b=mg(E,v.mode,N),b.return=v,v=b),i(v)):n(v,b)}return w}var ec=nS(!0),rS=nS(!1),Sh=Ko(null),kh=null,Tl=null,Dy=null;function Oy(){Dy=Tl=kh=null}function Ly(e){var t=Sh.current;Bt(Sh),e._currentValue=t}function L0(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pl(e,t){kh=e,Dy=Tl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Or=!0),e.firstContext=null)}function bs(e){var t=e._currentValue;if(Dy!==e)if(e={context:e,memoizedValue:t,next:null},Tl===null){if(kh===null)throw Error(be(308));Tl=e,kh.dependencies={lanes:0,firstContext:e}}else Tl=Tl.next=e;return t}var mi=null;function My(e){mi===null?mi=[e]:mi.push(e)}function sS(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,My(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ba(e,r)}function Ba(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ao=!1;function Fy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function So(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,bt&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ba(e,n)}return s=r.interleaved,s===null?(t.next=t,My(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ba(e,n)}function $f(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ny(e,n)}}function Fv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ch(e,t,n,r){var s=e.updateQueue;ao=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;i=0,d=u=c=null,l=a;do{var m=l.lane,p=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,y=l;switch(m=t,p=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(p,f,m);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,m=typeof g=="function"?g.call(p,f,m):g,m==null)break e;f=Zt({},f,m);break e;case 2:ao=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,i|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Di|=i,e.lanes=i,e.memoizedState=f}}function Bv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(be(191,s));s.call(r)}}}var Ad={},ua=Ko(Ad),Ku=Ko(Ad),Qu=Ko(Ad);function pi(e){if(e===Ad)throw Error(be(174));return e}function By(e,t){switch(Ot(Qu,t),Ot(Ku,e),Ot(ua,Ad),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:g0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=g0(t,e)}Bt(ua),Ot(ua,t)}function tc(){Bt(ua),Bt(Ku),Bt(Qu)}function oS(e){pi(Qu.current);var t=pi(ua.current),n=g0(t,e.type);t!==n&&(Ot(Ku,e),Ot(ua,n))}function Uy(e){Ku.current===e&&(Bt(ua),Bt(Ku))}var Qt=Ko(0);function Ah(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lg=[];function Hy(){for(var e=0;e<lg.length;e++)lg[e]._workInProgressVersionPrimary=null;lg.length=0}var zf=Wa.ReactCurrentDispatcher,cg=Wa.ReactCurrentBatchConfig,Pi=0,Xt=null,Cn=null,Pn=null,_h=!1,Nu=!1,Xu=0,i6=0;function Yn(){throw Error(be(321))}function $y(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$s(e[n],t[n]))return!1;return!0}function zy(e,t,n,r,s,a){if(Pi=a,Xt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zf.current=e===null||e.memoizedState===null?d6:f6,e=n(r,s),Nu){a=0;do{if(Nu=!1,Xu=0,25<=a)throw Error(be(301));a+=1,Pn=Cn=null,t.updateQueue=null,zf.current=h6,e=n(r,s)}while(Nu)}if(zf.current=jh,t=Cn!==null&&Cn.next!==null,Pi=0,Pn=Cn=Xt=null,_h=!1,t)throw Error(be(300));return e}function Wy(){var e=Xu!==0;return Xu=0,e}function Zs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?Xt.memoizedState=Pn=e:Pn=Pn.next=e,Pn}function vs(){if(Cn===null){var e=Xt.alternate;e=e!==null?e.memoizedState:null}else e=Cn.next;var t=Pn===null?Xt.memoizedState:Pn.next;if(t!==null)Pn=t,Cn=e;else{if(e===null)throw Error(be(310));Cn=e,e={memoizedState:Cn.memoizedState,baseState:Cn.baseState,baseQueue:Cn.baseQueue,queue:Cn.queue,next:null},Pn===null?Xt.memoizedState=Pn=e:Pn=Pn.next=e}return Pn}function Zu(e,t){return typeof t=="function"?t(e):t}function ug(e){var t=vs(),n=t.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=e;var r=Cn,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=i=null,c=null,u=a;do{var d=u.lane;if((Pi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=r):c=c.next=f,Xt.lanes|=d,Di|=d}u=u.next}while(u!==null&&u!==a);c===null?i=r:c.next=l,$s(r,t.memoizedState)||(Or=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,Xt.lanes|=a,Di|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function dg(e){var t=vs(),n=t.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);$s(a,t.memoizedState)||(Or=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function iS(){}function lS(e,t){var n=Xt,r=vs(),s=t(),a=!$s(r.memoizedState,s);if(a&&(r.memoizedState=s,Or=!0),r=r.queue,Vy(dS.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Pn!==null&&Pn.memoizedState.tag&1){if(n.flags|=2048,Ju(9,uS.bind(null,n,r,s,t),void 0,null),Ln===null)throw Error(be(349));Pi&30||cS(n,t,s)}return s}function cS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Xt.updateQueue,t===null?(t={lastEffect:null,stores:null},Xt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function uS(e,t,n,r){t.value=n,t.getSnapshot=r,fS(t)&&hS(e)}function dS(e,t,n){return n(function(){fS(t)&&hS(e)})}function fS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$s(e,n)}catch{return!0}}function hS(e){var t=Ba(e,1);t!==null&&Fs(t,e,1,-1)}function Uv(e){var t=Zs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zu,lastRenderedState:e},t.queue=e,e=e.dispatch=u6.bind(null,Xt,e),[t.memoizedState,e]}function Ju(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Xt.updateQueue,t===null?(t={lastEffect:null,stores:null},Xt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function mS(){return vs().memoizedState}function Wf(e,t,n,r){var s=Zs();Xt.flags|=e,s.memoizedState=Ju(1|t,n,void 0,r===void 0?null:r)}function Tm(e,t,n,r){var s=vs();r=r===void 0?null:r;var a=void 0;if(Cn!==null){var i=Cn.memoizedState;if(a=i.destroy,r!==null&&$y(r,i.deps)){s.memoizedState=Ju(t,n,a,r);return}}Xt.flags|=e,s.memoizedState=Ju(1|t,n,a,r)}function Hv(e,t){return Wf(8390656,8,e,t)}function Vy(e,t){return Tm(2048,8,e,t)}function pS(e,t){return Tm(4,2,e,t)}function gS(e,t){return Tm(4,4,e,t)}function xS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yS(e,t,n){return n=n!=null?n.concat([e]):null,Tm(4,4,xS.bind(null,t,e),n)}function Yy(){}function bS(e,t){var n=vs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$y(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function vS(e,t){var n=vs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$y(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function wS(e,t,n){return Pi&21?($s(n,t)||(n=kT(),Xt.lanes|=n,Di|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Or=!0),e.memoizedState=n)}function l6(e,t){var n=At;At=n!==0&&4>n?n:4,e(!0);var r=cg.transition;cg.transition={};try{e(!1),t()}finally{At=n,cg.transition=r}}function ES(){return vs().memoizedState}function c6(e,t,n){var r=Co(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},NS(e))TS(t,n);else if(n=sS(e,t,n,r),n!==null){var s=br();Fs(n,e,r,s),SS(n,t,r)}}function u6(e,t,n){var r=Co(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(NS(e))TS(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,n);if(s.hasEagerState=!0,s.eagerState=l,$s(l,i)){var c=t.interleaved;c===null?(s.next=s,My(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=sS(e,t,s,r),n!==null&&(s=br(),Fs(n,e,r,s),SS(n,t,r))}}function NS(e){var t=e.alternate;return e===Xt||t!==null&&t===Xt}function TS(e,t){Nu=_h=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function SS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ny(e,n)}}var jh={readContext:bs,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useInsertionEffect:Yn,useLayoutEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useMutableSource:Yn,useSyncExternalStore:Yn,useId:Yn,unstable_isNewReconciler:!1},d6={readContext:bs,useCallback:function(e,t){return Zs().memoizedState=[e,t===void 0?null:t],e},useContext:bs,useEffect:Hv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Wf(4194308,4,xS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wf(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wf(4,2,e,t)},useMemo:function(e,t){var n=Zs();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Zs();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=c6.bind(null,Xt,e),[r.memoizedState,e]},useRef:function(e){var t=Zs();return e={current:e},t.memoizedState=e},useState:Uv,useDebugValue:Yy,useDeferredValue:function(e){return Zs().memoizedState=e},useTransition:function(){var e=Uv(!1),t=e[0];return e=l6.bind(null,e[1]),Zs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Xt,s=Zs();if(Vt){if(n===void 0)throw Error(be(407));n=n()}else{if(n=t(),Ln===null)throw Error(be(349));Pi&30||cS(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Hv(dS.bind(null,r,a,e),[e]),r.flags|=2048,Ju(9,uS.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Zs(),t=Ln.identifierPrefix;if(Vt){var n=Pa,r=Ra;n=(r&~(1<<32-Ms(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=i6++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},f6={readContext:bs,useCallback:bS,useContext:bs,useEffect:Vy,useImperativeHandle:yS,useInsertionEffect:pS,useLayoutEffect:gS,useMemo:vS,useReducer:ug,useRef:mS,useState:function(){return ug(Zu)},useDebugValue:Yy,useDeferredValue:function(e){var t=vs();return wS(t,Cn.memoizedState,e)},useTransition:function(){var e=ug(Zu)[0],t=vs().memoizedState;return[e,t]},useMutableSource:iS,useSyncExternalStore:lS,useId:ES,unstable_isNewReconciler:!1},h6={readContext:bs,useCallback:bS,useContext:bs,useEffect:Vy,useImperativeHandle:yS,useInsertionEffect:pS,useLayoutEffect:gS,useMemo:vS,useReducer:dg,useRef:mS,useState:function(){return dg(Zu)},useDebugValue:Yy,useDeferredValue:function(e){var t=vs();return Cn===null?t.memoizedState=e:wS(t,Cn.memoizedState,e)},useTransition:function(){var e=dg(Zu)[0],t=vs().memoizedState;return[e,t]},useMutableSource:iS,useSyncExternalStore:lS,useId:ES,unstable_isNewReconciler:!1};function Cs(e,t){if(e&&e.defaultProps){t=Zt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function M0(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Zt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Sm={isMounted:function(e){return(e=e._reactInternals)?Yi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=br(),s=Co(e),a=Da(r,s);a.payload=t,n!=null&&(a.callback=n),t=So(e,a,s),t!==null&&(Fs(t,e,s,r),$f(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=br(),s=Co(e),a=Da(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=So(e,a,s),t!==null&&(Fs(t,e,s,r),$f(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=br(),r=Co(e),s=Da(n,r);s.tag=2,t!=null&&(s.callback=t),t=So(e,s,r),t!==null&&(Fs(t,e,r,n),$f(t,e,r))}};function $v(e,t,n,r,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!Vu(n,r)||!Vu(s,a):!0}function kS(e,t,n){var r=!1,s=Lo,a=t.contextType;return typeof a=="object"&&a!==null?a=bs(a):(s=Mr(t)?Ii:nr.current,r=t.contextTypes,a=(r=r!=null)?Zl(e,s):Lo),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sm,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function zv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Sm.enqueueReplaceState(t,t.state,null)}function F0(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Fy(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=bs(a):(a=Mr(t)?Ii:nr.current,s.context=Zl(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(M0(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Sm.enqueueReplaceState(s,s.state,null),Ch(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function nc(e,t){try{var n="",r=t;do n+=HR(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function fg(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function B0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var m6=typeof WeakMap=="function"?WeakMap:Map;function CS(e,t,n){n=Da(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Rh||(Rh=!0,K0=r),B0(e,t)},n}function AS(e,t,n){n=Da(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){B0(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){B0(e,t),typeof r!="function"&&(ko===null?ko=new Set([this]):ko.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Wv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new m6;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=A6.bind(null,e,t,n),t.then(e,e))}function Vv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Yv(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Da(-1,1),t.tag=2,So(n,t,1))),n.lanes|=1),e)}var p6=Wa.ReactCurrentOwner,Or=!1;function dr(e,t,n,r){t.child=e===null?rS(t,null,n,r):ec(t,e.child,n,r)}function qv(e,t,n,r,s){n=n.render;var a=t.ref;return Pl(t,s),r=zy(e,t,n,r,a,s),n=Wy(),e!==null&&!Or?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ua(e,t,s)):(Vt&&n&&Iy(t),t.flags|=1,dr(e,t,r,s),t.child)}function Gv(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!eb(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,_S(e,t,a,r,s)):(e=Gf(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:Vu,n(i,r)&&e.ref===t.ref)return Ua(e,t,s)}return t.flags|=1,e=Ao(a,r),e.ref=t.ref,e.return=t,t.child=e}function _S(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(Vu(a,r)&&e.ref===t.ref)if(Or=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(Or=!0);else return t.lanes=e.lanes,Ua(e,t,s)}return U0(e,t,n,r,s)}function jS(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot(kl,Wr),Wr|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ot(kl,Wr),Wr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ot(kl,Wr),Wr|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ot(kl,Wr),Wr|=r;return dr(e,t,s,n),t.child}function IS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function U0(e,t,n,r,s){var a=Mr(n)?Ii:nr.current;return a=Zl(t,a),Pl(t,s),n=zy(e,t,n,r,a,s),r=Wy(),e!==null&&!Or?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ua(e,t,s)):(Vt&&r&&Iy(t),t.flags|=1,dr(e,t,n,s),t.child)}function Kv(e,t,n,r,s){if(Mr(n)){var a=!0;Eh(t)}else a=!1;if(Pl(t,s),t.stateNode===null)Vf(e,t),kS(t,n,r),F0(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=bs(u):(u=Mr(n)?Ii:nr.current,u=Zl(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&zv(t,i,r,u),ao=!1;var m=t.memoizedState;i.state=m,Ch(t,r,i,s),c=t.memoizedState,l!==r||m!==c||Lr.current||ao?(typeof d=="function"&&(M0(t,n,d,r),c=t.memoizedState),(l=ao||$v(t,n,l,r,m,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,aS(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Cs(t.type,l),i.props=u,f=t.pendingProps,m=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=bs(c):(c=Mr(n)?Ii:nr.current,c=Zl(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||m!==c)&&zv(t,i,r,c),ao=!1,m=t.memoizedState,i.state=m,Ch(t,r,i,s);var g=t.memoizedState;l!==f||m!==g||Lr.current||ao?(typeof p=="function"&&(M0(t,n,p,r),g=t.memoizedState),(u=ao||$v(t,n,u,r,m,g,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,g,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),i.props=r,i.state=g,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return H0(e,t,n,r,a,s)}function H0(e,t,n,r,s,a){IS(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Dv(t,n,!1),Ua(e,t,a);r=t.stateNode,p6.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=ec(t,e.child,null,a),t.child=ec(t,null,l,a)):dr(e,t,l,a),t.memoizedState=r.state,s&&Dv(t,n,!0),t.child}function RS(e){var t=e.stateNode;t.pendingContext?Pv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pv(e,t.context,!1),By(e,t.containerInfo)}function Qv(e,t,n,r,s){return Jl(),Py(s),t.flags|=256,dr(e,t,n,r),t.child}var $0={dehydrated:null,treeContext:null,retryLane:0};function z0(e){return{baseLanes:e,cachePool:null,transitions:null}}function PS(e,t,n){var r=t.pendingProps,s=Qt.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ot(Qt,s&1),e===null)return O0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Am(i,r,0,null),e=ki(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=z0(n),t.memoizedState=$0,e):qy(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return g6(e,t,i,r,l,s,n);if(a){a=r.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ao(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Ao(l,a):(a=ki(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?z0(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=$0,r}return a=e.child,e=a.sibling,r=Ao(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function qy(e,t){return t=Am({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pf(e,t,n,r){return r!==null&&Py(r),ec(t,e.child,null,n),e=qy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function g6(e,t,n,r,s,a,i){if(n)return t.flags&256?(t.flags&=-257,r=fg(Error(be(422))),pf(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Am({mode:"visible",children:r.children},s,0,null),a=ki(a,s,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&ec(t,e.child,null,i),t.child.memoizedState=z0(i),t.memoizedState=$0,a);if(!(t.mode&1))return pf(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(be(419)),r=fg(a,r,void 0),pf(e,t,i,r)}if(l=(i&e.childLanes)!==0,Or||l){if(r=Ln,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Ba(e,s),Fs(r,e,s,-1))}return Jy(),r=fg(Error(be(421))),pf(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=_6.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Qr=To(s.nextSibling),Jr=t,Vt=!0,Ps=null,e!==null&&(ds[fs++]=Ra,ds[fs++]=Pa,ds[fs++]=Ri,Ra=e.id,Pa=e.overflow,Ri=t),t=qy(t,r.children),t.flags|=4096,t)}function Xv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),L0(e.return,t,n)}function hg(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function DS(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(dr(e,t,r.children,n),r=Qt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xv(e,n,t);else if(e.tag===19)Xv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ot(Qt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ah(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),hg(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ah(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}hg(t,!0,n,null,a);break;case"together":hg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ua(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Di|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(be(153));if(t.child!==null){for(e=t.child,n=Ao(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ao(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function x6(e,t,n){switch(t.tag){case 3:RS(t),Jl();break;case 5:oS(t);break;case 1:Mr(t.type)&&Eh(t);break;case 4:By(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ot(Sh,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ot(Qt,Qt.current&1),t.flags|=128,null):n&t.child.childLanes?PS(e,t,n):(Ot(Qt,Qt.current&1),e=Ua(e,t,n),e!==null?e.sibling:null);Ot(Qt,Qt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return DS(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ot(Qt,Qt.current),r)break;return null;case 22:case 23:return t.lanes=0,jS(e,t,n)}return Ua(e,t,n)}var OS,W0,LS,MS;OS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};W0=function(){};LS=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,pi(ua.current);var a=null;switch(n){case"input":s=f0(e,s),r=f0(e,r),a=[];break;case"select":s=Zt({},s,{value:void 0}),r=Zt({},r,{value:void 0}),a=[];break;case"textarea":s=p0(e,s),r=p0(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=vh)}x0(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fu.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fu.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ft("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};MS=function(e,t,n,r){n!==r&&(t.flags|=4)};function qc(e,t){if(!Vt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function y6(e,t,n){var r=t.pendingProps;switch(Ry(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qn(t),null;case 1:return Mr(t.type)&&wh(),qn(t),null;case 3:return r=t.stateNode,tc(),Bt(Lr),Bt(nr),Hy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(hf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ps!==null&&(Z0(Ps),Ps=null))),W0(e,t),qn(t),null;case 5:Uy(t);var s=pi(Qu.current);if(n=t.type,e!==null&&t.stateNode!=null)LS(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(be(166));return qn(t),null}if(e=pi(ua.current),hf(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[sa]=t,r[Gu]=a,e=(t.mode&1)!==0,n){case"dialog":Ft("cancel",r),Ft("close",r);break;case"iframe":case"object":case"embed":Ft("load",r);break;case"video":case"audio":for(s=0;s<uu.length;s++)Ft(uu[s],r);break;case"source":Ft("error",r);break;case"img":case"image":case"link":Ft("error",r),Ft("load",r);break;case"details":Ft("toggle",r);break;case"input":ov(r,a),Ft("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ft("invalid",r);break;case"textarea":lv(r,a),Ft("invalid",r)}x0(n,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&ff(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&ff(r.textContent,l,e),s=["children",""+l]):Fu.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Ft("scroll",r)}switch(n){case"input":rf(r),iv(r,a,!0);break;case"textarea":rf(r),cv(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=vh)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dT(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[sa]=t,e[Gu]=r,OS(e,t,!1,!1),t.stateNode=e;e:{switch(i=y0(n,r),n){case"dialog":Ft("cancel",e),Ft("close",e),s=r;break;case"iframe":case"object":case"embed":Ft("load",e),s=r;break;case"video":case"audio":for(s=0;s<uu.length;s++)Ft(uu[s],e);s=r;break;case"source":Ft("error",e),s=r;break;case"img":case"image":case"link":Ft("error",e),Ft("load",e),s=r;break;case"details":Ft("toggle",e),s=r;break;case"input":ov(e,r),s=f0(e,r),Ft("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Zt({},r,{value:void 0}),Ft("invalid",e);break;case"textarea":lv(e,r),s=p0(e,r),Ft("invalid",e);break;default:s=r}x0(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?mT(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&fT(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Bu(e,c):typeof c=="number"&&Bu(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Fu.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ft("scroll",e):c!=null&&xy(e,a,c,i))}switch(n){case"input":rf(e),iv(e,r,!1);break;case"textarea":rf(e),cv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Oo(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?_l(e,!!r.multiple,a,!1):r.defaultValue!=null&&_l(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=vh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qn(t),null;case 6:if(e&&t.stateNode!=null)MS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(be(166));if(n=pi(Qu.current),pi(ua.current),hf(t)){if(r=t.stateNode,n=t.memoizedProps,r[sa]=t,(a=r.nodeValue!==n)&&(e=Jr,e!==null))switch(e.tag){case 3:ff(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ff(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sa]=t,t.stateNode=r}return qn(t),null;case 13:if(Bt(Qt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Vt&&Qr!==null&&t.mode&1&&!(t.flags&128))tS(),Jl(),t.flags|=98560,a=!1;else if(a=hf(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(be(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(be(317));a[sa]=t}else Jl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qn(t),a=!1}else Ps!==null&&(Z0(Ps),Ps=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Qt.current&1?_n===0&&(_n=3):Jy())),t.updateQueue!==null&&(t.flags|=4),qn(t),null);case 4:return tc(),W0(e,t),e===null&&Yu(t.stateNode.containerInfo),qn(t),null;case 10:return Ly(t.type._context),qn(t),null;case 17:return Mr(t.type)&&wh(),qn(t),null;case 19:if(Bt(Qt),a=t.memoizedState,a===null)return qn(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)qc(a,!1);else{if(_n!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ah(e),i!==null){for(t.flags|=128,qc(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ot(Qt,Qt.current&1|2),t.child}e=e.sibling}a.tail!==null&&un()>rc&&(t.flags|=128,r=!0,qc(a,!1),t.lanes=4194304)}else{if(!r)if(e=Ah(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),qc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Vt)return qn(t),null}else 2*un()-a.renderingStartTime>rc&&n!==1073741824&&(t.flags|=128,r=!0,qc(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=un(),t.sibling=null,n=Qt.current,Ot(Qt,r?n&1|2:n&1),t):(qn(t),null);case 22:case 23:return Zy(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Wr&1073741824&&(qn(t),t.subtreeFlags&6&&(t.flags|=8192)):qn(t),null;case 24:return null;case 25:return null}throw Error(be(156,t.tag))}function b6(e,t){switch(Ry(t),t.tag){case 1:return Mr(t.type)&&wh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tc(),Bt(Lr),Bt(nr),Hy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Uy(t),null;case 13:if(Bt(Qt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(be(340));Jl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Bt(Qt),null;case 4:return tc(),null;case 10:return Ly(t.type._context),null;case 22:case 23:return Zy(),null;case 24:return null;default:return null}}var gf=!1,Gn=!1,v6=typeof WeakSet=="function"?WeakSet:Set,De=null;function Sl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){en(e,t,r)}else n.current=null}function V0(e,t,n){try{n()}catch(r){en(e,t,r)}}var Zv=!1;function w6(e,t){if(A0=xh,e=$T(),jy(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(l=i+s),f!==a||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===n&&++u===s&&(l=i),m===a&&++d===r&&(c=i),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(_0={focusedElem:e,selectionRange:n},xh=!1,De=t;De!==null;)if(t=De,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,De=e;else for(;De!==null;){t=De;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,w=g.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:Cs(t.type,y),w);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(be(163))}}catch(N){en(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,De=e;break}De=t.return}return g=Zv,Zv=!1,g}function Tu(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&V0(t,n,a)}s=s.next}while(s!==r)}}function km(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Y0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function FS(e){var t=e.alternate;t!==null&&(e.alternate=null,FS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[sa],delete t[Gu],delete t[R0],delete t[r6],delete t[s6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function BS(e){return e.tag===5||e.tag===3||e.tag===4}function Jv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||BS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function q0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vh));else if(r!==4&&(e=e.child,e!==null))for(q0(e,t,n),e=e.sibling;e!==null;)q0(e,t,n),e=e.sibling}function G0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(G0(e,t,n),e=e.sibling;e!==null;)G0(e,t,n),e=e.sibling}var Fn=null,Is=!1;function Ka(e,t,n){for(n=n.child;n!==null;)US(e,t,n),n=n.sibling}function US(e,t,n){if(ca&&typeof ca.onCommitFiberUnmount=="function")try{ca.onCommitFiberUnmount(ym,n)}catch{}switch(n.tag){case 5:Gn||Sl(n,t);case 6:var r=Fn,s=Is;Fn=null,Ka(e,t,n),Fn=r,Is=s,Fn!==null&&(Is?(e=Fn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Fn.removeChild(n.stateNode));break;case 18:Fn!==null&&(Is?(e=Fn,n=n.stateNode,e.nodeType===8?og(e.parentNode,n):e.nodeType===1&&og(e,n),zu(e)):og(Fn,n.stateNode));break;case 4:r=Fn,s=Is,Fn=n.stateNode.containerInfo,Is=!0,Ka(e,t,n),Fn=r,Is=s;break;case 0:case 11:case 14:case 15:if(!Gn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&V0(n,t,i),s=s.next}while(s!==r)}Ka(e,t,n);break;case 1:if(!Gn&&(Sl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){en(n,t,l)}Ka(e,t,n);break;case 21:Ka(e,t,n);break;case 22:n.mode&1?(Gn=(r=Gn)||n.memoizedState!==null,Ka(e,t,n),Gn=r):Ka(e,t,n);break;default:Ka(e,t,n)}}function ew(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new v6),t.forEach(function(r){var s=j6.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ns(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Fn=l.stateNode,Is=!1;break e;case 3:Fn=l.stateNode.containerInfo,Is=!0;break e;case 4:Fn=l.stateNode.containerInfo,Is=!0;break e}l=l.return}if(Fn===null)throw Error(be(160));US(a,i,s),Fn=null,Is=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){en(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)HS(t,e),t=t.sibling}function HS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ns(t,e),Qs(e),r&4){try{Tu(3,e,e.return),km(3,e)}catch(y){en(e,e.return,y)}try{Tu(5,e,e.return)}catch(y){en(e,e.return,y)}}break;case 1:Ns(t,e),Qs(e),r&512&&n!==null&&Sl(n,n.return);break;case 5:if(Ns(t,e),Qs(e),r&512&&n!==null&&Sl(n,n.return),e.flags&32){var s=e.stateNode;try{Bu(s,"")}catch(y){en(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&cT(s,a),y0(l,i);var u=y0(l,a);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?mT(s,f):d==="dangerouslySetInnerHTML"?fT(s,f):d==="children"?Bu(s,f):xy(s,d,f,u)}switch(l){case"input":h0(s,a);break;case"textarea":uT(s,a);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?_l(s,!!a.multiple,p,!1):m!==!!a.multiple&&(a.defaultValue!=null?_l(s,!!a.multiple,a.defaultValue,!0):_l(s,!!a.multiple,a.multiple?[]:"",!1))}s[Gu]=a}catch(y){en(e,e.return,y)}}break;case 6:if(Ns(t,e),Qs(e),r&4){if(e.stateNode===null)throw Error(be(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(y){en(e,e.return,y)}}break;case 3:if(Ns(t,e),Qs(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zu(t.containerInfo)}catch(y){en(e,e.return,y)}break;case 4:Ns(t,e),Qs(e);break;case 13:Ns(t,e),Qs(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Qy=un())),r&4&&ew(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Gn=(u=Gn)||d,Ns(t,e),Gn=u):Ns(t,e),Qs(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(De=e,d=e.child;d!==null;){for(f=De=d;De!==null;){switch(m=De,p=m.child,m.tag){case 0:case 11:case 14:case 15:Tu(4,m,m.return);break;case 1:Sl(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){en(r,n,y)}}break;case 5:Sl(m,m.return);break;case 22:if(m.memoizedState!==null){nw(f);continue}}p!==null?(p.return=m,De=p):nw(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=hT("display",i))}catch(y){en(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){en(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ns(t,e),Qs(e),r&4&&ew(e);break;case 21:break;default:Ns(t,e),Qs(e)}}function Qs(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(BS(n)){var r=n;break e}n=n.return}throw Error(be(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Bu(s,""),r.flags&=-33);var a=Jv(e);G0(e,a,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=Jv(e);q0(e,l,i);break;default:throw Error(be(161))}}catch(c){en(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function E6(e,t,n){De=e,$S(e)}function $S(e,t,n){for(var r=(e.mode&1)!==0;De!==null;){var s=De,a=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||gf;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Gn;l=gf;var u=Gn;if(gf=i,(Gn=c)&&!u)for(De=s;De!==null;)i=De,c=i.child,i.tag===22&&i.memoizedState!==null?rw(s):c!==null?(c.return=i,De=c):rw(s);for(;a!==null;)De=a,$S(a),a=a.sibling;De=s,gf=l,Gn=u}tw(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,De=a):tw(e)}}function tw(e){for(;De!==null;){var t=De;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Gn||km(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Gn)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Cs(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Bv(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Bv(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&zu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(be(163))}Gn||t.flags&512&&Y0(t)}catch(m){en(t,t.return,m)}}if(t===e){De=null;break}if(n=t.sibling,n!==null){n.return=t.return,De=n;break}De=t.return}}function nw(e){for(;De!==null;){var t=De;if(t===e){De=null;break}var n=t.sibling;if(n!==null){n.return=t.return,De=n;break}De=t.return}}function rw(e){for(;De!==null;){var t=De;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{km(4,t)}catch(c){en(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){en(t,s,c)}}var a=t.return;try{Y0(t)}catch(c){en(t,a,c)}break;case 5:var i=t.return;try{Y0(t)}catch(c){en(t,i,c)}}}catch(c){en(t,t.return,c)}if(t===e){De=null;break}var l=t.sibling;if(l!==null){l.return=t.return,De=l;break}De=t.return}}var N6=Math.ceil,Ih=Wa.ReactCurrentDispatcher,Gy=Wa.ReactCurrentOwner,xs=Wa.ReactCurrentBatchConfig,bt=0,Ln=null,vn=null,Un=0,Wr=0,kl=Ko(0),_n=0,ed=null,Di=0,Cm=0,Ky=0,Su=null,Dr=null,Qy=0,rc=1/0,ka=null,Rh=!1,K0=null,ko=null,xf=!1,xo=null,Ph=0,ku=0,Q0=null,Yf=-1,qf=0;function br(){return bt&6?un():Yf!==-1?Yf:Yf=un()}function Co(e){return e.mode&1?bt&2&&Un!==0?Un&-Un:o6.transition!==null?(qf===0&&(qf=kT()),qf):(e=At,e!==0||(e=window.event,e=e===void 0?16:PT(e.type)),e):1}function Fs(e,t,n,r){if(50<ku)throw ku=0,Q0=null,Error(be(185));Sd(e,n,r),(!(bt&2)||e!==Ln)&&(e===Ln&&(!(bt&2)&&(Cm|=n),_n===4&&lo(e,Un)),Fr(e,r),n===1&&bt===0&&!(t.mode&1)&&(rc=un()+500,Nm&&Qo()))}function Fr(e,t){var n=e.callbackNode;oP(e,t);var r=gh(e,e===Ln?Un:0);if(r===0)n!==null&&fv(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&fv(n),t===1)e.tag===0?a6(sw.bind(null,e)):ZT(sw.bind(null,e)),t6(function(){!(bt&6)&&Qo()}),n=null;else{switch(CT(r)){case 1:n=Ey;break;case 4:n=TT;break;case 16:n=ph;break;case 536870912:n=ST;break;default:n=ph}n=QS(n,zS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function zS(e,t){if(Yf=-1,qf=0,bt&6)throw Error(be(327));var n=e.callbackNode;if(Dl()&&e.callbackNode!==n)return null;var r=gh(e,e===Ln?Un:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Dh(e,r);else{t=r;var s=bt;bt|=2;var a=VS();(Ln!==e||Un!==t)&&(ka=null,rc=un()+500,Si(e,t));do try{k6();break}catch(l){WS(e,l)}while(!0);Oy(),Ih.current=a,bt=s,vn!==null?t=0:(Ln=null,Un=0,t=_n)}if(t!==0){if(t===2&&(s=N0(e),s!==0&&(r=s,t=X0(e,s))),t===1)throw n=ed,Si(e,0),lo(e,r),Fr(e,un()),n;if(t===6)lo(e,r);else{if(s=e.current.alternate,!(r&30)&&!T6(s)&&(t=Dh(e,r),t===2&&(a=N0(e),a!==0&&(r=a,t=X0(e,a))),t===1))throw n=ed,Si(e,0),lo(e,r),Fr(e,un()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(be(345));case 2:ui(e,Dr,ka);break;case 3:if(lo(e,r),(r&130023424)===r&&(t=Qy+500-un(),10<t)){if(gh(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){br(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=I0(ui.bind(null,e,Dr,ka),t);break}ui(e,Dr,ka);break;case 4:if(lo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-Ms(r);a=1<<i,i=t[i],i>s&&(s=i),r&=~a}if(r=s,r=un()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*N6(r/1960))-r,10<r){e.timeoutHandle=I0(ui.bind(null,e,Dr,ka),r);break}ui(e,Dr,ka);break;case 5:ui(e,Dr,ka);break;default:throw Error(be(329))}}}return Fr(e,un()),e.callbackNode===n?zS.bind(null,e):null}function X0(e,t){var n=Su;return e.current.memoizedState.isDehydrated&&(Si(e,t).flags|=256),e=Dh(e,t),e!==2&&(t=Dr,Dr=n,t!==null&&Z0(t)),e}function Z0(e){Dr===null?Dr=e:Dr.push.apply(Dr,e)}function T6(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!$s(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function lo(e,t){for(t&=~Ky,t&=~Cm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ms(t),r=1<<n;e[n]=-1,t&=~r}}function sw(e){if(bt&6)throw Error(be(327));Dl();var t=gh(e,0);if(!(t&1))return Fr(e,un()),null;var n=Dh(e,t);if(e.tag!==0&&n===2){var r=N0(e);r!==0&&(t=r,n=X0(e,r))}if(n===1)throw n=ed,Si(e,0),lo(e,t),Fr(e,un()),n;if(n===6)throw Error(be(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ui(e,Dr,ka),Fr(e,un()),null}function Xy(e,t){var n=bt;bt|=1;try{return e(t)}finally{bt=n,bt===0&&(rc=un()+500,Nm&&Qo())}}function Oi(e){xo!==null&&xo.tag===0&&!(bt&6)&&Dl();var t=bt;bt|=1;var n=xs.transition,r=At;try{if(xs.transition=null,At=1,e)return e()}finally{At=r,xs.transition=n,bt=t,!(bt&6)&&Qo()}}function Zy(){Wr=kl.current,Bt(kl)}function Si(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,e6(n)),vn!==null)for(n=vn.return;n!==null;){var r=n;switch(Ry(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wh();break;case 3:tc(),Bt(Lr),Bt(nr),Hy();break;case 5:Uy(r);break;case 4:tc();break;case 13:Bt(Qt);break;case 19:Bt(Qt);break;case 10:Ly(r.type._context);break;case 22:case 23:Zy()}n=n.return}if(Ln=e,vn=e=Ao(e.current,null),Un=Wr=t,_n=0,ed=null,Ky=Cm=Di=0,Dr=Su=null,mi!==null){for(t=0;t<mi.length;t++)if(n=mi[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=s,r.next=i}n.pending=r}mi=null}return e}function WS(e,t){do{var n=vn;try{if(Oy(),zf.current=jh,_h){for(var r=Xt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}_h=!1}if(Pi=0,Pn=Cn=Xt=null,Nu=!1,Xu=0,Gy.current=null,n===null||n.return===null){_n=1,ed=t,vn=null;break}e:{var a=e,i=n.return,l=n,c=t;if(t=Un,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Vv(i);if(p!==null){p.flags&=-257,Yv(p,i,l,a,t),p.mode&1&&Wv(a,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(c),t.updateQueue=y}else g.add(c);break e}else{if(!(t&1)){Wv(a,u,t),Jy();break e}c=Error(be(426))}}else if(Vt&&l.mode&1){var w=Vv(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Yv(w,i,l,a,t),Py(nc(c,l));break e}}a=c=nc(c,l),_n!==4&&(_n=2),Su===null?Su=[a]:Su.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=CS(a,c,t);Fv(a,v);break e;case 1:l=c;var b=a.type,E=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ko===null||!ko.has(E)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=AS(a,l,t);Fv(a,N);break e}}a=a.return}while(a!==null)}qS(n)}catch(C){t=C,vn===n&&n!==null&&(vn=n=n.return);continue}break}while(!0)}function VS(){var e=Ih.current;return Ih.current=jh,e===null?jh:e}function Jy(){(_n===0||_n===3||_n===2)&&(_n=4),Ln===null||!(Di&268435455)&&!(Cm&268435455)||lo(Ln,Un)}function Dh(e,t){var n=bt;bt|=2;var r=VS();(Ln!==e||Un!==t)&&(ka=null,Si(e,t));do try{S6();break}catch(s){WS(e,s)}while(!0);if(Oy(),bt=n,Ih.current=r,vn!==null)throw Error(be(261));return Ln=null,Un=0,_n}function S6(){for(;vn!==null;)YS(vn)}function k6(){for(;vn!==null&&!XR();)YS(vn)}function YS(e){var t=KS(e.alternate,e,Wr);e.memoizedProps=e.pendingProps,t===null?qS(e):vn=t,Gy.current=null}function qS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=b6(n,t),n!==null){n.flags&=32767,vn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_n=6,vn=null;return}}else if(n=y6(n,t,Wr),n!==null){vn=n;return}if(t=t.sibling,t!==null){vn=t;return}vn=t=e}while(t!==null);_n===0&&(_n=5)}function ui(e,t,n){var r=At,s=xs.transition;try{xs.transition=null,At=1,C6(e,t,n,r)}finally{xs.transition=s,At=r}return null}function C6(e,t,n,r){do Dl();while(xo!==null);if(bt&6)throw Error(be(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(be(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(iP(e,a),e===Ln&&(vn=Ln=null,Un=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xf||(xf=!0,QS(ph,function(){return Dl(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=xs.transition,xs.transition=null;var i=At;At=1;var l=bt;bt|=4,Gy.current=null,w6(e,n),HS(n,e),qP(_0),xh=!!A0,_0=A0=null,e.current=n,E6(n),ZR(),bt=l,At=i,xs.transition=a}else e.current=n;if(xf&&(xf=!1,xo=e,Ph=s),a=e.pendingLanes,a===0&&(ko=null),tP(n.stateNode),Fr(e,un()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Rh)throw Rh=!1,e=K0,K0=null,e;return Ph&1&&e.tag!==0&&Dl(),a=e.pendingLanes,a&1?e===Q0?ku++:(ku=0,Q0=e):ku=0,Qo(),null}function Dl(){if(xo!==null){var e=CT(Ph),t=xs.transition,n=At;try{if(xs.transition=null,At=16>e?16:e,xo===null)var r=!1;else{if(e=xo,xo=null,Ph=0,bt&6)throw Error(be(331));var s=bt;for(bt|=4,De=e.current;De!==null;){var a=De,i=a.child;if(De.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(De=u;De!==null;){var d=De;switch(d.tag){case 0:case 11:case 15:Tu(8,d,a)}var f=d.child;if(f!==null)f.return=d,De=f;else for(;De!==null;){d=De;var m=d.sibling,p=d.return;if(FS(d),d===u){De=null;break}if(m!==null){m.return=p,De=m;break}De=p}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}De=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,De=i;else e:for(;De!==null;){if(a=De,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Tu(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,De=v;break e}De=a.return}}var b=e.current;for(De=b;De!==null;){i=De;var E=i.child;if(i.subtreeFlags&2064&&E!==null)E.return=i,De=E;else e:for(i=b;De!==null;){if(l=De,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:km(9,l)}}catch(C){en(l,l.return,C)}if(l===i){De=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,De=N;break e}De=l.return}}if(bt=s,Qo(),ca&&typeof ca.onPostCommitFiberRoot=="function")try{ca.onPostCommitFiberRoot(ym,e)}catch{}r=!0}return r}finally{At=n,xs.transition=t}}return!1}function aw(e,t,n){t=nc(n,t),t=CS(e,t,1),e=So(e,t,1),t=br(),e!==null&&(Sd(e,1,t),Fr(e,t))}function en(e,t,n){if(e.tag===3)aw(e,e,n);else for(;t!==null;){if(t.tag===3){aw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ko===null||!ko.has(r))){e=nc(n,e),e=AS(t,e,1),t=So(t,e,1),e=br(),t!==null&&(Sd(t,1,e),Fr(t,e));break}}t=t.return}}function A6(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=br(),e.pingedLanes|=e.suspendedLanes&n,Ln===e&&(Un&n)===n&&(_n===4||_n===3&&(Un&130023424)===Un&&500>un()-Qy?Si(e,0):Ky|=n),Fr(e,t)}function GS(e,t){t===0&&(e.mode&1?(t=of,of<<=1,!(of&130023424)&&(of=4194304)):t=1);var n=br();e=Ba(e,t),e!==null&&(Sd(e,t,n),Fr(e,n))}function _6(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),GS(e,n)}function j6(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(be(314))}r!==null&&r.delete(t),GS(e,n)}var KS;KS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Lr.current)Or=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Or=!1,x6(e,t,n);Or=!!(e.flags&131072)}else Or=!1,Vt&&t.flags&1048576&&JT(t,Th,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vf(e,t),e=t.pendingProps;var s=Zl(t,nr.current);Pl(t,n),s=zy(null,t,r,e,s,n);var a=Wy();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mr(r)?(a=!0,Eh(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Fy(t),s.updater=Sm,t.stateNode=s,s._reactInternals=t,F0(t,r,e,n),t=H0(null,t,r,!0,a,n)):(t.tag=0,Vt&&a&&Iy(t),dr(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vf(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=R6(r),e=Cs(r,e),s){case 0:t=U0(null,t,r,e,n);break e;case 1:t=Kv(null,t,r,e,n);break e;case 11:t=qv(null,t,r,e,n);break e;case 14:t=Gv(null,t,r,Cs(r.type,e),n);break e}throw Error(be(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Cs(r,s),U0(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Cs(r,s),Kv(e,t,r,s,n);case 3:e:{if(RS(t),e===null)throw Error(be(387));r=t.pendingProps,a=t.memoizedState,s=a.element,aS(e,t),Ch(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=nc(Error(be(423)),t),t=Qv(e,t,r,n,s);break e}else if(r!==s){s=nc(Error(be(424)),t),t=Qv(e,t,r,n,s);break e}else for(Qr=To(t.stateNode.containerInfo.firstChild),Jr=t,Vt=!0,Ps=null,n=rS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jl(),r===s){t=Ua(e,t,n);break e}dr(e,t,r,n)}t=t.child}return t;case 5:return oS(t),e===null&&O0(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,j0(r,s)?i=null:a!==null&&j0(r,a)&&(t.flags|=32),IS(e,t),dr(e,t,i,n),t.child;case 6:return e===null&&O0(t),null;case 13:return PS(e,t,n);case 4:return By(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ec(t,null,r,n):dr(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Cs(r,s),qv(e,t,r,s,n);case 7:return dr(e,t,t.pendingProps,n),t.child;case 8:return dr(e,t,t.pendingProps.children,n),t.child;case 12:return dr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,Ot(Sh,r._currentValue),r._currentValue=i,a!==null)if($s(a.value,i)){if(a.children===s.children&&!Lr.current){t=Ua(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Da(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),L0(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(be(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),L0(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}dr(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Pl(t,n),s=bs(s),r=r(s),t.flags|=1,dr(e,t,r,n),t.child;case 14:return r=t.type,s=Cs(r,t.pendingProps),s=Cs(r.type,s),Gv(e,t,r,s,n);case 15:return _S(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Cs(r,s),Vf(e,t),t.tag=1,Mr(r)?(e=!0,Eh(t)):e=!1,Pl(t,n),kS(t,r,s),F0(t,r,s,n),H0(null,t,r,!0,e,n);case 19:return DS(e,t,n);case 22:return jS(e,t,n)}throw Error(be(156,t.tag))};function QS(e,t){return NT(e,t)}function I6(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gs(e,t,n,r){return new I6(e,t,n,r)}function eb(e){return e=e.prototype,!(!e||!e.isReactComponent)}function R6(e){if(typeof e=="function")return eb(e)?1:0;if(e!=null){if(e=e.$$typeof,e===by)return 11;if(e===vy)return 14}return 2}function Ao(e,t){var n=e.alternate;return n===null?(n=gs(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gf(e,t,n,r,s,a){var i=2;if(r=e,typeof e=="function")eb(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case gl:return ki(n.children,s,a,t);case yy:i=8,s|=8;break;case l0:return e=gs(12,n,t,s|2),e.elementType=l0,e.lanes=a,e;case c0:return e=gs(13,n,t,s),e.elementType=c0,e.lanes=a,e;case u0:return e=gs(19,n,t,s),e.elementType=u0,e.lanes=a,e;case oT:return Am(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case sT:i=10;break e;case aT:i=9;break e;case by:i=11;break e;case vy:i=14;break e;case so:i=16,r=null;break e}throw Error(be(130,e==null?e:typeof e,""))}return t=gs(i,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function ki(e,t,n,r){return e=gs(7,e,r,t),e.lanes=n,e}function Am(e,t,n,r){return e=gs(22,e,r,t),e.elementType=oT,e.lanes=n,e.stateNode={isHidden:!1},e}function mg(e,t,n){return e=gs(6,e,null,t),e.lanes=n,e}function pg(e,t,n){return t=gs(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function P6(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kp(0),this.expirationTimes=Kp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function tb(e,t,n,r,s,a,i,l,c){return e=new P6(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=gs(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fy(a),e}function D6(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pl,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function XS(e){if(!e)return Lo;e=e._reactInternals;e:{if(Yi(e)!==e||e.tag!==1)throw Error(be(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(be(171))}if(e.tag===1){var n=e.type;if(Mr(n))return XT(e,n,t)}return t}function ZS(e,t,n,r,s,a,i,l,c){return e=tb(n,r,!0,e,s,a,i,l,c),e.context=XS(null),n=e.current,r=br(),s=Co(n),a=Da(r,s),a.callback=t??null,So(n,a,s),e.current.lanes=s,Sd(e,s,r),Fr(e,r),e}function _m(e,t,n,r){var s=t.current,a=br(),i=Co(s);return n=XS(n),t.context===null?t.context=n:t.pendingContext=n,t=Da(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=So(s,t,i),e!==null&&(Fs(e,s,i,a),$f(e,s,i)),i}function Oh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ow(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function nb(e,t){ow(e,t),(e=e.alternate)&&ow(e,t)}function O6(){return null}var JS=typeof reportError=="function"?reportError:function(e){console.error(e)};function rb(e){this._internalRoot=e}jm.prototype.render=rb.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(be(409));_m(e,t,null,null)};jm.prototype.unmount=rb.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Oi(function(){_m(null,e,null,null)}),t[Fa]=null}};function jm(e){this._internalRoot=e}jm.prototype.unstable_scheduleHydration=function(e){if(e){var t=jT();e={blockedOn:null,target:e,priority:t};for(var n=0;n<io.length&&t!==0&&t<io[n].priority;n++);io.splice(n,0,e),n===0&&RT(e)}};function sb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Im(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function iw(){}function L6(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=Oh(i);a.call(u)}}var i=ZS(t,r,e,0,null,!1,!1,"",iw);return e._reactRootContainer=i,e[Fa]=i.current,Yu(e.nodeType===8?e.parentNode:e),Oi(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Oh(c);l.call(u)}}var c=tb(e,0,!1,null,null,!1,!1,"",iw);return e._reactRootContainer=c,e[Fa]=c.current,Yu(e.nodeType===8?e.parentNode:e),Oi(function(){_m(t,c,n,r)}),c}function Rm(e,t,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=Oh(i);l.call(c)}}_m(t,i,e,s)}else i=L6(n,t,e,s,r);return Oh(i)}AT=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=cu(t.pendingLanes);n!==0&&(Ny(t,n|1),Fr(t,un()),!(bt&6)&&(rc=un()+500,Qo()))}break;case 13:Oi(function(){var r=Ba(e,1);if(r!==null){var s=br();Fs(r,e,1,s)}}),nb(e,1)}};Ty=function(e){if(e.tag===13){var t=Ba(e,134217728);if(t!==null){var n=br();Fs(t,e,134217728,n)}nb(e,134217728)}};_T=function(e){if(e.tag===13){var t=Co(e),n=Ba(e,t);if(n!==null){var r=br();Fs(n,e,t,r)}nb(e,t)}};jT=function(){return At};IT=function(e,t){var n=At;try{return At=e,t()}finally{At=n}};v0=function(e,t,n){switch(t){case"input":if(h0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Em(r);if(!s)throw Error(be(90));lT(r),h0(r,s)}}}break;case"textarea":uT(e,n);break;case"select":t=n.value,t!=null&&_l(e,!!n.multiple,t,!1)}};xT=Xy;yT=Oi;var M6={usingClientEntryPoint:!1,Events:[Cd,vl,Em,pT,gT,Xy]},Gc={findFiberByHostInstance:hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F6={bundleType:Gc.bundleType,version:Gc.version,rendererPackageName:Gc.rendererPackageName,rendererConfig:Gc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wT(e),e===null?null:e.stateNode},findFiberByHostInstance:Gc.findFiberByHostInstance||O6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yf.isDisabled&&yf.supportsFiber)try{ym=yf.inject(F6),ca=yf}catch{}}ss.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M6;ss.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sb(t))throw Error(be(200));return D6(e,t,null,n)};ss.createRoot=function(e,t){if(!sb(e))throw Error(be(299));var n=!1,r="",s=JS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=tb(e,1,!1,null,null,n,!1,r,s),e[Fa]=t.current,Yu(e.nodeType===8?e.parentNode:e),new rb(t)};ss.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(be(188)):(e=Object.keys(e).join(","),Error(be(268,e)));return e=wT(t),e=e===null?null:e.stateNode,e};ss.flushSync=function(e){return Oi(e)};ss.hydrate=function(e,t,n){if(!Im(t))throw Error(be(200));return Rm(null,e,t,!0,n)};ss.hydrateRoot=function(e,t,n){if(!sb(e))throw Error(be(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",i=JS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=ZS(t,null,e,1,n??null,s,!1,a,i),e[Fa]=t.current,Yu(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new jm(t)};ss.render=function(e,t,n){if(!Im(t))throw Error(be(200));return Rm(null,e,t,!1,n)};ss.unmountComponentAtNode=function(e){if(!Im(e))throw Error(be(40));return e._reactRootContainer?(Oi(function(){Rm(null,null,e,!1,function(){e._reactRootContainer=null,e[Fa]=null})}),!0):!1};ss.unstable_batchedUpdates=Xy;ss.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Im(n))throw Error(be(200));if(e==null||e._reactInternals===void 0)throw Error(be(38));return Rm(e,t,n,!1,r)};ss.version="18.3.1-next-f1338f8080-20240426";function ek(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ek)}catch(e){console.error(e)}}ek(),eT.exports=ss;var qi=eT.exports;const ab=gm(qi);var tk,lw=qi;tk=lw.createRoot,lw.hydrateRoot;const B6=1,U6=1e7;let gg=0;function H6(){return gg=(gg+1)%Number.MAX_SAFE_INTEGER,gg.toString()}const xg=new Map,cw=e=>{if(xg.has(e))return;const t=setTimeout(()=>{xg.delete(e),Cu({type:"REMOVE_TOAST",toastId:e})},U6);xg.set(e,t)},$6=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,B6)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?cw(n):e.toasts.forEach(r=>{cw(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Kf=[];let Qf={toasts:[]};function Cu(e){Qf=$6(Qf,e),Kf.forEach(t=>{t(Qf)})}function z6({...e}){const t=H6(),n=s=>Cu({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Cu({type:"DISMISS_TOAST",toastId:t});return Cu({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function W6(){const[e,t]=h.useState(Qf);return h.useEffect(()=>(Kf.push(t),()=>{const n=Kf.indexOf(t);n>-1&&Kf.splice(n,1)}),[e]),{...e,toast:z6,dismiss:n=>Cu({type:"DISMISS_TOAST",toastId:n})}}function ke(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function uw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Pm(...e){return t=>{let n=!1;const r=e.map(s=>{const a=uw(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():uw(e[s],null)}}}}function st(...e){return h.useCallback(Pm(...e),e)}function V6(e,t){const n=h.createContext(t),r=a=>{const{children:i,...l}=a,c=h.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(a){const i=h.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function os(e,t=[]){let n=[];function r(a,i){const l=h.createContext(i),c=n.length;n=[...n,i];const u=f=>{var v;const{scope:m,children:p,...g}=f,y=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,w=h.useMemo(()=>g,Object.values(g));return o.jsx(y.Provider,{value:w,children:p})};u.displayName=a+"Provider";function d(f,m){var y;const p=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,g=h.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=n.map(i=>h.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,Y6(s,...t)]}function Y6(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Mo(e){const t=q6(e),n=h.forwardRef((r,s)=>{const{children:a,...i}=r,l=h.Children.toArray(a),c=l.find(G6);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}var nk=Mo("Slot");function q6(e){const t=h.forwardRef((n,r)=>{const{children:s,...a}=n;if(h.isValidElement(s)){const i=Q6(s),l=K6(a,s.props);return s.type!==h.Fragment&&(l.ref=r?Pm(r,i):i),h.cloneElement(s,l)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rk=Symbol("radix.slottable");function sk(e){const t=({children:n})=>o.jsx(o.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=rk,t}function G6(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rk}function K6(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function Q6(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Dm(e){const t=e+"CollectionProvider",[n,r]=os(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=y=>{const{scope:w,children:v}=y,b=oe.useRef(null),E=oe.useRef(new Map).current;return o.jsx(s,{scope:w,itemMap:E,collectionRef:b,children:v})};i.displayName=t;const l=e+"CollectionSlot",c=Mo(l),u=oe.forwardRef((y,w)=>{const{scope:v,children:b}=y,E=a(l,v),N=st(w,E.collectionRef);return o.jsx(c,{ref:N,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=Mo(d),p=oe.forwardRef((y,w)=>{const{scope:v,children:b,...E}=y,N=oe.useRef(null),C=st(w,N),S=a(d,v);return oe.useEffect(()=>(S.itemMap.set(N,{ref:N,...E}),()=>void S.itemMap.delete(N))),o.jsx(m,{[f]:"",ref:C,children:b})});p.displayName=d;function g(y){const w=a(e+"CollectionConsumer",y);return oe.useCallback(()=>{const b=w.collectionRef.current;if(!b)return[];const E=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((S,_)=>E.indexOf(S.ref.current)-E.indexOf(_.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},g,r]}var X6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ue=X6.reduce((e,t)=>{const n=Mo(`Primitive.${t}`),r=h.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function ob(e,t){e&&qi.flushSync(()=>e.dispatchEvent(t))}function rn(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Z6(e,t=globalThis==null?void 0:globalThis.document){const n=rn(e);h.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var J6="DismissableLayer",J0="dismissableLayer.update",eD="dismissableLayer.pointerDownOutside",tD="dismissableLayer.focusOutside",dw,ak=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Gi=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=h.useContext(ak),[d,f]=h.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),g=st(t,_=>f(_)),y=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(w),b=d?y.indexOf(d):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,N=b>=v,C=rD(_=>{const H=_.target,V=[...u.branches].some(k=>k.contains(H));!N||V||(s==null||s(_),i==null||i(_),_.defaultPrevented||l==null||l())},m),S=sD(_=>{const H=_.target;[...u.branches].some(k=>k.contains(H))||(a==null||a(_),i==null||i(_),_.defaultPrevented||l==null||l())},m);return Z6(_=>{b===u.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},m),h.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(dw=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),fw(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=dw)}},[d,m,n,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),fw())},[d,u]),h.useEffect(()=>{const _=()=>p({});return document.addEventListener(J0,_),()=>document.removeEventListener(J0,_)},[]),o.jsx(Ue.div,{...c,ref:g,style:{pointerEvents:E?N?"auto":"none":void 0,...e.style},onFocusCapture:ke(e.onFocusCapture,S.onFocusCapture),onBlurCapture:ke(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ke(e.onPointerDownCapture,C.onPointerDownCapture)})});Gi.displayName=J6;var nD="DismissableLayerBranch",ok=h.forwardRef((e,t)=>{const n=h.useContext(ak),r=h.useRef(null),s=st(t,r);return h.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),o.jsx(Ue.div,{...e,ref:s})});ok.displayName=nD;function rD(e,t=globalThis==null?void 0:globalThis.document){const n=rn(e),r=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){ik(eD,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function sD(e,t=globalThis==null?void 0:globalThis.document){const n=rn(e),r=h.useRef(!1);return h.useEffect(()=>{const s=a=>{a.target&&!r.current&&ik(tD,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function fw(){const e=new CustomEvent(J0);document.dispatchEvent(e)}function ik(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?ob(s,a):s.dispatchEvent(a)}var aD=Gi,oD=ok,hn=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},iD="Portal",Tc=h.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,a]=h.useState(!1);hn(()=>a(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?ab.createPortal(o.jsx(Ue.div,{...r,ref:t}),i):null});Tc.displayName=iD;function lD(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var rr=e=>{const{present:t,children:n}=e,r=cD(t),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),a=st(r.ref,uD(s));return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:a}):null};rr.displayName="Presence";function cD(e){const[t,n]=h.useState(),r=h.useRef(null),s=h.useRef(e),a=h.useRef("none"),i=e?"mounted":"unmounted",[l,c]=lD(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=bf(r.current);a.current=l==="mounted"?u:"none"},[l]),hn(()=>{const u=r.current,d=s.current;if(d!==e){const m=a.current,p=bf(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),hn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const y=bf(r.current).includes(CSS.escape(p.animationName));if(p.target===t&&y&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},m=p=>{p.target===t&&(a.current=bf(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function bf(e){return(e==null?void 0:e.animationName)||"none"}function uD(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var dD=my[" useInsertionEffect ".trim().toString()]||hn;function Fo({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,a,i]=fD({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const d=h.useRef(e!==void 0);h.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=h.useCallback(d=>{var f;if(l){const m=hD(d)?d(e):d;m!==e&&((f=i.current)==null||f.call(i,m))}else a(d)},[l,e,a,i]);return[c,u]}function fD({defaultProp:e,onChange:t}){const[n,r]=h.useState(e),s=h.useRef(n),a=h.useRef(t);return dD(()=>{a.current=t},[t]),h.useEffect(()=>{var i;s.current!==n&&((i=a.current)==null||i.call(a,n),s.current=n)},[n,s]),[n,r,a]}function hD(e){return typeof e=="function"}var lk=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),mD="VisuallyHidden",Om=h.forwardRef((e,t)=>o.jsx(Ue.span,{...e,ref:t,style:{...lk,...e.style}}));Om.displayName=mD;var pD=Om,ib="ToastProvider",[lb,gD,xD]=Dm("Toast"),[ck]=os("Toast",[xD]),[yD,Lm]=ck(ib),uk=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:i}=e,[l,c]=h.useState(null),[u,d]=h.useState(0),f=h.useRef(!1),m=h.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ib}\`. Expected non-empty \`string\`.`),o.jsx(lb.Provider,{scope:t,children:o.jsx(yD,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>d(p=>p+1),[]),onToastRemove:h.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:i})})};uk.displayName=ib;var dk="ToastViewport",bD=["F8"],ex="toast.viewportPause",tx="toast.viewportResume",fk=h.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=bD,label:s="Notifications ({hotkey})",...a}=e,i=Lm(dk,n),l=gD(n),c=h.useRef(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),m=st(t,f,i.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=i.toastCount>0;h.useEffect(()=>{const w=v=>{var E;r.length!==0&&r.every(N=>v[N]||v.code===N)&&((E=f.current)==null||E.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),h.useEffect(()=>{const w=c.current,v=f.current;if(g&&w&&v){const b=()=>{if(!i.isClosePausedRef.current){const S=new CustomEvent(ex);v.dispatchEvent(S),i.isClosePausedRef.current=!0}},E=()=>{if(i.isClosePausedRef.current){const S=new CustomEvent(tx);v.dispatchEvent(S),i.isClosePausedRef.current=!1}},N=S=>{!w.contains(S.relatedTarget)&&E()},C=()=>{w.contains(document.activeElement)||E()};return w.addEventListener("focusin",b),w.addEventListener("focusout",N),w.addEventListener("pointermove",b),w.addEventListener("pointerleave",C),window.addEventListener("blur",b),window.addEventListener("focus",E),()=>{w.removeEventListener("focusin",b),w.removeEventListener("focusout",N),w.removeEventListener("pointermove",b),w.removeEventListener("pointerleave",C),window.removeEventListener("blur",b),window.removeEventListener("focus",E)}}},[g,i.isClosePausedRef]);const y=h.useCallback(({tabbingDirection:w})=>{const b=l().map(E=>{const N=E.ref.current,C=[N,...RD(N)];return w==="forwards"?C:C.reverse()});return(w==="forwards"?b.reverse():b).flat()},[l]);return h.useEffect(()=>{const w=f.current;if(w){const v=b=>{var C,S,_;const E=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!E){const H=document.activeElement,V=b.shiftKey;if(b.target===w&&V){(C=u.current)==null||C.focus();return}const I=y({tabbingDirection:V?"backwards":"forwards"}),Y=I.findIndex(P=>P===H);yg(I.slice(Y+1))?b.preventDefault():V?(S=u.current)==null||S.focus():(_=d.current)==null||_.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[l,y]),o.jsxs(oD,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&o.jsx(nx,{ref:u,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"forwards"});yg(w)}}),o.jsx(lb.Slot,{scope:n,children:o.jsx(Ue.ol,{tabIndex:-1,...a,ref:m})}),g&&o.jsx(nx,{ref:d,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"backwards"});yg(w)}})]})});fk.displayName=dk;var hk="ToastFocusProxy",nx=h.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,a=Lm(hk,n);return o.jsx(Om,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&r()}})});nx.displayName=hk;var _d="Toast",vD="toast.swipeStart",wD="toast.swipeMove",ED="toast.swipeCancel",ND="toast.swipeEnd",mk=h.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:a,...i}=e,[l,c]=Fo({prop:r,defaultProp:s??!0,onChange:a,caller:_d});return o.jsx(rr,{present:n||l,children:o.jsx(kD,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:rn(e.onPause),onResume:rn(e.onResume),onSwipeStart:ke(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ke(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ke(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ke(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});mk.displayName=_d;var[TD,SD]=ck(_d,{onClose(){}}),kD=h.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:a,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...g}=e,y=Lm(_d,n),[w,v]=h.useState(null),b=st(t,P=>v(P)),E=h.useRef(null),N=h.useRef(null),C=s||y.duration,S=h.useRef(0),_=h.useRef(C),H=h.useRef(0),{onToastAdd:V,onToastRemove:k}=y,$=rn(()=>{var L;(w==null?void 0:w.contains(document.activeElement))&&((L=y.viewport)==null||L.focus()),i()}),I=h.useCallback(P=>{!P||P===1/0||(window.clearTimeout(H.current),S.current=new Date().getTime(),H.current=window.setTimeout($,P))},[$]);h.useEffect(()=>{const P=y.viewport;if(P){const L=()=>{I(_.current),u==null||u()},M=()=>{const K=new Date().getTime()-S.current;_.current=_.current-K,window.clearTimeout(H.current),c==null||c()};return P.addEventListener(ex,M),P.addEventListener(tx,L),()=>{P.removeEventListener(ex,M),P.removeEventListener(tx,L)}}},[y.viewport,C,c,u,I]),h.useEffect(()=>{a&&!y.isClosePausedRef.current&&I(C)},[a,C,y.isClosePausedRef,I]),h.useEffect(()=>(V(),()=>k()),[V,k]);const Y=h.useMemo(()=>w?wk(w):null,[w]);return y.viewport?o.jsxs(o.Fragment,{children:[Y&&o.jsx(CD,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:Y}),o.jsx(TD,{scope:n,onClose:$,children:qi.createPortal(o.jsx(lb.ItemSlot,{scope:n,children:o.jsx(aD,{asChild:!0,onEscapeKeyDown:ke(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||$(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Ue.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":y.swipeDirection,...g,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ke(e.onKeyDown,P=>{P.key==="Escape"&&(l==null||l(P.nativeEvent),P.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:ke(e.onPointerDown,P=>{P.button===0&&(E.current={x:P.clientX,y:P.clientY})}),onPointerMove:ke(e.onPointerMove,P=>{if(!E.current)return;const L=P.clientX-E.current.x,M=P.clientY-E.current.y,K=!!N.current,F=["left","right"].includes(y.swipeDirection),D=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,T=F?D(0,L):0,G=F?0:D(0,M),ne=P.pointerType==="touch"?10:2,A={x:T,y:G},W={originalEvent:P,delta:A};K?(N.current=A,vf(wD,f,W,{discrete:!1})):hw(A,y.swipeDirection,ne)?(N.current=A,vf(vD,d,W,{discrete:!1}),P.target.setPointerCapture(P.pointerId)):(Math.abs(L)>ne||Math.abs(M)>ne)&&(E.current=null)}),onPointerUp:ke(e.onPointerUp,P=>{const L=N.current,M=P.target;if(M.hasPointerCapture(P.pointerId)&&M.releasePointerCapture(P.pointerId),N.current=null,E.current=null,L){const K=P.currentTarget,F={originalEvent:P,delta:L};hw(L,y.swipeDirection,y.swipeThreshold)?vf(ND,p,F,{discrete:!0}):vf(ED,m,F,{discrete:!0}),K.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),CD=e=>{const{__scopeToast:t,children:n,...r}=e,s=Lm(_d,t),[a,i]=h.useState(!1),[l,c]=h.useState(!1);return jD(()=>i(!0)),h.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(Tc,{asChild:!0,children:o.jsx(Om,{...r,children:a&&o.jsxs(o.Fragment,{children:[s.label," ",n]})})})},AD="ToastTitle",pk=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(Ue.div,{...r,ref:t})});pk.displayName=AD;var _D="ToastDescription",gk=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(Ue.div,{...r,ref:t})});gk.displayName=_D;var xk="ToastAction",yk=h.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?o.jsx(vk,{altText:n,asChild:!0,children:o.jsx(cb,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${xk}\`. Expected non-empty \`string\`.`),null)});yk.displayName=xk;var bk="ToastClose",cb=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=SD(bk,n);return o.jsx(vk,{asChild:!0,children:o.jsx(Ue.button,{type:"button",...r,ref:t,onClick:ke(e.onClick,s.onClose)})})});cb.displayName=bk;var vk=h.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return o.jsx(Ue.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function wk(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),ID(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...wk(r))}}),t}function vf(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?ob(s,a):s.dispatchEvent(a)}var hw=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),a=r>s;return t==="left"||t==="right"?a&&r>n:!a&&s>n};function jD(e=()=>{}){const t=rn(e);hn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function ID(e){return e.nodeType===e.ELEMENT_NODE}function RD(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function yg(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var PD=uk,Ek=fk,Nk=mk,Tk=pk,Sk=gk,kk=yk,Ck=cb;function Ak(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Ak(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function _k(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Ak(e))&&(r&&(r+=" "),r+=t);return r}const mw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,pw=_k,Mm=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return pw(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=a==null?void 0:a[u];if(d===null)return null;const m=mw(d)||mw(f);return s[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(g=>{let[y,w]=g;return Array.isArray(w)?w.includes({...a,...l}[y]):{...a,...l}[y]===w})?[...u,f,m]:u},[]);return pw(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jk=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:i,...l},c)=>h.createElement("svg",{ref:c,...OD,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:jk("lucide",s),...l},[...i.map(([u,d])=>h.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(e,t)=>{const n=h.forwardRef(({className:r,...s},a)=>h.createElement(LD,{ref:a,iconNode:t,className:jk(`lucide-${DD(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=Be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=Be("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=Be("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=Be("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=Be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=Be("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=Be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=Be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=Be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=Be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=Be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=Be("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=Be("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=Be("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=Be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=Be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=Be("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=Be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=Be("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=Be("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=Be("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=Be("FilePen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=Be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=Be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=Be("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=Be("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=Be("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=Be("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=Be("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=Be("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=Be("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=Be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=Be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=Be("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=Be("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=Be("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=Be("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=Be("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=Be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=Be("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=Be("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=Be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=Be("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=Be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=Be("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=Be("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=Be("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=Be("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=Be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=Be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=Be("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=Be("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=Be("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=Be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=Be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=Be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),fb="-",JD=e=>{const t=tO(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const l=i.split(fb);return l[0]===""&&l.length!==1&&l.shift(),Bk(l,t)||eO(i)},getConflictingClassGroupIds:(i,l)=>{const c=n[i]||[];return l&&r[i]?[...c,...r[i]]:c}}},Bk=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?Bk(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(fb);return(i=t.validators.find(({validator:l})=>l(a)))==null?void 0:i.classGroupId},xw=/^\[(.+)\]$/,eO=e=>{if(xw.test(e)){const t=xw.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},tO=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return rO(Object.entries(e.classGroups),n).forEach(([a,i])=>{sx(i,r,a,t)}),r},sx=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:yw(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(nO(s)){sx(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,i])=>{sx(i,yw(t,a),n,r)})})},yw=(e,t)=>{let n=e;return t.split(fb).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},nO=e=>e.isThemeGetter,rO=(e,t)=>t?e.map(([n,r])=>{const s=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,l])=>[t+i,l])):a);return[n,s]}):e,sO=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(a,i)=>{n.set(a,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let i=n.get(a);if(i!==void 0)return i;if((i=r.get(a))!==void 0)return s(a,i),i},set(a,i){n.has(a)?n.set(a,i):s(a,i)}}},Uk="!",aO=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],a=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let w=0;w<l.length;w++){let v=l[w];if(u===0){if(v===s&&(r||l.slice(w,w+a)===t)){c.push(l.slice(d,w)),d=w+a;continue}if(v==="/"){f=w;continue}}v==="["?u++:v==="]"&&u--}const m=c.length===0?l:l.substring(d),p=m.startsWith(Uk),g=p?m.substring(1):m,y=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:y}};return n?l=>n({className:l,parseClassName:i}):i},oO=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},iO=e=>({cache:sO(e.cacheSize),parseClassName:aO(e),...JD(e)}),lO=/\s+/,cO=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,a=[],i=e.trim().split(lO);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=n(u);let g=!!p,y=r(g?m.substring(0,p):m);if(!y){if(!g){l=u+(l.length>0?" "+l:l);continue}if(y=r(m),!y){l=u+(l.length>0?" "+l:l);continue}g=!1}const w=oO(d).join(":"),v=f?w+Uk:w,b=v+y;if(a.includes(b))continue;a.push(b);const E=s(y,g);for(let N=0;N<E.length;++N){const C=E[N];a.push(v+C)}l=u+(l.length>0?" "+l:l)}return l};function uO(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Hk(t))&&(r&&(r+=" "),r+=n);return r}const Hk=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Hk(e[r]))&&(n&&(n+=" "),n+=t);return n};function dO(e,...t){let n,r,s,a=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return n=iO(u),r=n.cache.get,s=n.cache.set,a=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=cO(c,n);return s(c,d),d}return function(){return a(uO.apply(null,arguments))}}const Mt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},$k=/^\[(?:([a-z-]+):)?(.+)\]$/i,fO=/^\d+\/\d+$/,hO=new Set(["px","full","screen"]),mO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,xO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ea=e=>Ml(e)||hO.has(e)||fO.test(e),Qa=e=>kc(e,"length",kO),Ml=e=>!!e&&!Number.isNaN(Number(e)),bg=e=>kc(e,"number",Ml),Kc=e=>!!e&&Number.isInteger(Number(e)),bO=e=>e.endsWith("%")&&Ml(e.slice(0,-1)),nt=e=>$k.test(e),Xa=e=>mO.test(e),vO=new Set(["length","size","percentage"]),wO=e=>kc(e,vO,zk),EO=e=>kc(e,"position",zk),NO=new Set(["image","url"]),TO=e=>kc(e,NO,AO),SO=e=>kc(e,"",CO),Qc=()=>!0,kc=(e,t,n)=>{const r=$k.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},kO=e=>pO.test(e)&&!gO.test(e),zk=()=>!1,CO=e=>xO.test(e),AO=e=>yO.test(e),_O=()=>{const e=Mt("colors"),t=Mt("spacing"),n=Mt("blur"),r=Mt("brightness"),s=Mt("borderColor"),a=Mt("borderRadius"),i=Mt("borderSpacing"),l=Mt("borderWidth"),c=Mt("contrast"),u=Mt("grayscale"),d=Mt("hueRotate"),f=Mt("invert"),m=Mt("gap"),p=Mt("gradientColorStops"),g=Mt("gradientColorStopPositions"),y=Mt("inset"),w=Mt("margin"),v=Mt("opacity"),b=Mt("padding"),E=Mt("saturate"),N=Mt("scale"),C=Mt("sepia"),S=Mt("skew"),_=Mt("space"),H=Mt("translate"),V=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",nt,t],I=()=>[nt,t],Y=()=>["",Ea,Qa],P=()=>["auto",Ml,nt],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",nt],T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[Ml,nt];return{cacheSize:500,separator:":",theme:{colors:[Qc],spacing:[Ea,Qa],blur:["none","",Xa,nt],brightness:G(),borderColor:[e],borderRadius:["none","","full",Xa,nt],borderSpacing:I(),borderWidth:Y(),contrast:G(),grayscale:D(),hueRotate:G(),invert:D(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[bO,Qa],inset:$(),margin:$(),opacity:G(),padding:I(),saturate:G(),scale:G(),sepia:D(),skew:G(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",nt]}],container:["container"],columns:[{columns:[Xa]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),nt]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Kc,nt]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",nt]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Kc,nt]}],"grid-cols":[{"grid-cols":[Qc]}],"col-start-end":[{col:["auto",{span:["full",Kc,nt]},nt]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[Qc]}],"row-start-end":[{row:["auto",{span:[Kc,nt]},nt]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",nt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",nt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",nt,t]}],"min-w":[{"min-w":[nt,t,"min","max","fit"]}],"max-w":[{"max-w":[nt,t,"none","full","min","max","fit","prose",{screen:[Xa]},Xa]}],h:[{h:[nt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[nt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[nt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[nt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Xa,Qa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bg]}],"font-family":[{font:[Qc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",nt]}],"line-clamp":[{"line-clamp":["none",Ml,bg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ea,nt]}],"list-image":[{"list-image":["none",nt]}],"list-style-type":[{list:["none","disc","decimal",nt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ea,Qa]}],"underline-offset":[{"underline-offset":["auto",Ea,nt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),EO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",wO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},TO]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:M()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[Ea,nt]}],"outline-w":[{outline:[Ea,Qa]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Ea,Qa]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Xa,SO]}],"shadow-color":[{shadow:[Qc]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Xa,nt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[E]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",nt]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",nt]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",nt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Kc,nt]}],"translate-x":[{"translate-x":[H]}],"translate-y":[{"translate-y":[H]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",nt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ea,Qa,bg]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jO=dO(_O);function Oe(...e){return jO(_k(e))}const IO=PD,Wk=h.forwardRef(({className:e,...t},n)=>o.jsx(Ek,{ref:n,className:Oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Wk.displayName=Ek.displayName;const RO=Mm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Vk=h.forwardRef(({className:e,variant:t,...n},r)=>o.jsx(Nk,{ref:r,className:Oe(RO({variant:t}),e),...n}));Vk.displayName=Nk.displayName;const PO=h.forwardRef(({className:e,...t},n)=>o.jsx(kk,{ref:n,className:Oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));PO.displayName=kk.displayName;const Yk=h.forwardRef(({className:e,...t},n)=>o.jsx(Ck,{ref:n,className:Oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(Bn,{className:"h-4 w-4"})}));Yk.displayName=Ck.displayName;const qk=h.forwardRef(({className:e,...t},n)=>o.jsx(Tk,{ref:n,className:Oe("text-sm font-semibold",e),...t}));qk.displayName=Tk.displayName;const Gk=h.forwardRef(({className:e,...t},n)=>o.jsx(Sk,{ref:n,className:Oe("text-sm opacity-90",e),...t}));Gk.displayName=Sk.displayName;function DO(){const{toasts:e}=W6();return o.jsxs(IO,{children:[e.map(function({id:t,title:n,description:r,action:s,...a}){return o.jsxs(Vk,{...a,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(qk,{children:n}),r&&o.jsx(Gk,{children:r})]}),s,o.jsx(Yk,{})]},t)}),o.jsx(Wk,{})]})}var bw=["light","dark"],OO="(prefers-color-scheme: dark)",LO=h.createContext(void 0),MO={setTheme:e=>{},themes:[]},FO=()=>{var e;return(e=h.useContext(LO))!=null?e:MO};h.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:a,value:i,attrs:l,nonce:c})=>{let u=a==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?bw.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(g,y=!1,w=!0)=>{let v=i?i[g]:g,b=y?g+"|| ''":`'${v}'`,E="";return s&&w&&!y&&bw.includes(g)&&(E+=`d.style.colorScheme = '${g}';`),n==="class"?y||v?E+=`c.add(${b})`:E+="null":v&&(E+=`d[s](n,${b})`),E},p=e?`!function(){${d}${m(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${OO}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}${u?"":"else{"+m(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}else{${m(a,!1,!1)};}${f}}catch(t){}}();`;return h.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var BO=e=>{switch(e){case"success":return $O;case"info":return WO;case"warning":return zO;case"error":return VO;default:return null}},UO=Array(12).fill(0),HO=({visible:e,className:t})=>oe.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},oe.createElement("div",{className:"sonner-spinner"},UO.map((n,r)=>oe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),$O=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),zO=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),WO=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),VO=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),YO=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},oe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),oe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),qO=()=>{let[e,t]=oe.useState(document.hidden);return oe.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},ax=1,GO=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:ax++,a=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:i,title:n}):l):this.addToast({title:n,...r,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,a,i=r.then(async c=>{if(a=["resolve",c],oe.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(QO(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>i.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||ax++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Rr=new GO,KO=(e,t)=>{let n=(t==null?void 0:t.id)||ax++;return Rr.addToast({title:e,...t,id:n}),n},QO=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",XO=KO,ZO=()=>Rr.toasts,JO=()=>Rr.getActiveToasts(),O=Object.assign(XO,{success:Rr.success,info:Rr.info,warning:Rr.warning,error:Rr.error,custom:Rr.custom,message:Rr.message,promise:Rr.promise,dismiss:Rr.dismiss,loading:Rr.loading},{getHistory:ZO,getToasts:JO});function eL(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}eL(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function wf(e){return e.label!==void 0}var tL=3,nL="32px",rL="16px",vw=4e3,sL=356,aL=14,oL=20,iL=200;function Ts(...e){return e.filter(Boolean).join(" ")}function lL(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var cL=e=>{var t,n,r,s,a,i,l,c,u,d,f;let{invert:m,toast:p,unstyled:g,interacting:y,setHeights:w,visibleToasts:v,heights:b,index:E,toasts:N,expanded:C,removeToast:S,defaultRichColors:_,closeButton:H,style:V,cancelButtonStyle:k,actionButtonStyle:$,className:I="",descriptionClassName:Y="",duration:P,position:L,gap:M,loadingIcon:K,expandByDefault:F,classNames:D,icons:T,closeButtonAriaLabel:G="Close toast",pauseWhenPageIsHidden:ne}=e,[A,W]=oe.useState(null),[z,ae]=oe.useState(null),[J,ce]=oe.useState(!1),[xe,re]=oe.useState(!1),[_e,Ie]=oe.useState(!1),[Xe,tt]=oe.useState(!1),[Ut,ye]=oe.useState(!1),[Ce,He]=oe.useState(0),[Ge,U]=oe.useState(0),X=oe.useRef(p.duration||P||vw),le=oe.useRef(null),Ee=oe.useRef(null),Te=E===0,me=E+1<=v,q=p.type,ue=p.dismissible!==!1,ve=p.className||"",Fe=p.descriptionClassName||"",Je=oe.useMemo(()=>b.findIndex(We=>We.toastId===p.id)||0,[b,p.id]),_t=oe.useMemo(()=>{var We;return(We=p.closeButton)!=null?We:H},[p.closeButton,H]),Tn=oe.useMemo(()=>p.duration||P||vw,[p.duration,P]),Pt=oe.useRef(0),Lt=oe.useRef(0),jn=oe.useRef(0),Et=oe.useRef(null),[Gt,Kt]=L.split("-"),$r=oe.useMemo(()=>b.reduce((We,ht,Nt)=>Nt>=Je?We:We+ht.height,0),[b,Je]),el=qO(),ai=p.invert||m,oi=q==="loading";Lt.current=oe.useMemo(()=>Je*M+$r,[Je,$r]),oe.useEffect(()=>{X.current=Tn},[Tn]),oe.useEffect(()=>{ce(!0)},[]),oe.useEffect(()=>{let We=Ee.current;if(We){let ht=We.getBoundingClientRect().height;return U(ht),w(Nt=>[{toastId:p.id,height:ht,position:p.position},...Nt]),()=>w(Nt=>Nt.filter(Ht=>Ht.toastId!==p.id))}},[w,p.id]),oe.useLayoutEffect(()=>{if(!J)return;let We=Ee.current,ht=We.style.height;We.style.height="auto";let Nt=We.getBoundingClientRect().height;We.style.height=ht,U(Nt),w(Ht=>Ht.find(or=>or.toastId===p.id)?Ht.map(or=>or.toastId===p.id?{...or,height:Nt}:or):[{toastId:p.id,height:Nt,position:p.position},...Ht])},[J,p.title,p.description,w,p.id]);let Sr=oe.useCallback(()=>{re(!0),He(Lt.current),w(We=>We.filter(ht=>ht.toastId!==p.id)),setTimeout(()=>{S(p)},iL)},[p,S,w,Lt]);oe.useEffect(()=>{if(p.promise&&q==="loading"||p.duration===1/0||p.type==="loading")return;let We;return C||y||ne&&el?(()=>{if(jn.current<Pt.current){let ht=new Date().getTime()-Pt.current;X.current=X.current-ht}jn.current=new Date().getTime()})():X.current!==1/0&&(Pt.current=new Date().getTime(),We=setTimeout(()=>{var ht;(ht=p.onAutoClose)==null||ht.call(p,p),Sr()},X.current)),()=>clearTimeout(We)},[C,y,p,q,ne,el,Sr]),oe.useEffect(()=>{p.delete&&Sr()},[Sr,p.delete]);function qa(){var We,ht,Nt;return T!=null&&T.loading?oe.createElement("div",{className:Ts(D==null?void 0:D.loader,(We=p==null?void 0:p.classNames)==null?void 0:We.loader,"sonner-loader"),"data-visible":q==="loading"},T.loading):K?oe.createElement("div",{className:Ts(D==null?void 0:D.loader,(ht=p==null?void 0:p.classNames)==null?void 0:ht.loader,"sonner-loader"),"data-visible":q==="loading"},K):oe.createElement(HO,{className:Ts(D==null?void 0:D.loader,(Nt=p==null?void 0:p.classNames)==null?void 0:Nt.loader),visible:q==="loading"})}return oe.createElement("li",{tabIndex:0,ref:Ee,className:Ts(I,ve,D==null?void 0:D.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,D==null?void 0:D.default,D==null?void 0:D[q],(n=p==null?void 0:p.classNames)==null?void 0:n[q]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:_,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":J,"data-promise":!!p.promise,"data-swiped":Ut,"data-removed":xe,"data-visible":me,"data-y-position":Gt,"data-x-position":Kt,"data-index":E,"data-front":Te,"data-swiping":_e,"data-dismissible":ue,"data-type":q,"data-invert":ai,"data-swipe-out":Xe,"data-swipe-direction":z,"data-expanded":!!(C||F&&J),style:{"--index":E,"--toasts-before":E,"--z-index":N.length-E,"--offset":`${xe?Ce:Lt.current}px`,"--initial-height":F?"auto":`${Ge}px`,...V,...p.style},onDragEnd:()=>{Ie(!1),W(null),Et.current=null},onPointerDown:We=>{oi||!ue||(le.current=new Date,He(Lt.current),We.target.setPointerCapture(We.pointerId),We.target.tagName!=="BUTTON"&&(Ie(!0),Et.current={x:We.clientX,y:We.clientY}))},onPointerUp:()=>{var We,ht,Nt,Ht;if(Xe||!ue)return;Et.current=null;let or=Number(((We=Ee.current)==null?void 0:We.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),is=Number(((ht=Ee.current)==null?void 0:ht.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),kr=new Date().getTime()-((Nt=le.current)==null?void 0:Nt.getTime()),ir=A==="x"?or:is,Cr=Math.abs(ir)/kr;if(Math.abs(ir)>=oL||Cr>.11){He(Lt.current),(Ht=p.onDismiss)==null||Ht.call(p,p),ae(A==="x"?or>0?"right":"left":is>0?"down":"up"),Sr(),tt(!0),ye(!1);return}Ie(!1),W(null)},onPointerMove:We=>{var ht,Nt,Ht,or;if(!Et.current||!ue||((ht=window.getSelection())==null?void 0:ht.toString().length)>0)return;let is=We.clientY-Et.current.y,kr=We.clientX-Et.current.x,ir=(Nt=e.swipeDirections)!=null?Nt:lL(L);!A&&(Math.abs(kr)>1||Math.abs(is)>1)&&W(Math.abs(kr)>Math.abs(is)?"x":"y");let Cr={x:0,y:0};A==="y"?(ir.includes("top")||ir.includes("bottom"))&&(ir.includes("top")&&is<0||ir.includes("bottom")&&is>0)&&(Cr.y=is):A==="x"&&(ir.includes("left")||ir.includes("right"))&&(ir.includes("left")&&kr<0||ir.includes("right")&&kr>0)&&(Cr.x=kr),(Math.abs(Cr.x)>0||Math.abs(Cr.y)>0)&&ye(!0),(Ht=Ee.current)==null||Ht.style.setProperty("--swipe-amount-x",`${Cr.x}px`),(or=Ee.current)==null||or.style.setProperty("--swipe-amount-y",`${Cr.y}px`)}},_t&&!p.jsx?oe.createElement("button",{"aria-label":G,"data-disabled":oi,"data-close-button":!0,onClick:oi||!ue?()=>{}:()=>{var We;Sr(),(We=p.onDismiss)==null||We.call(p,p)},className:Ts(D==null?void 0:D.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(a=T==null?void 0:T.close)!=null?a:YO):null,p.jsx||h.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:oe.createElement(oe.Fragment,null,q||p.icon||p.promise?oe.createElement("div",{"data-icon":"",className:Ts(D==null?void 0:D.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||qa():null,p.type!=="loading"?p.icon||(T==null?void 0:T[q])||BO(q):null):null,oe.createElement("div",{"data-content":"",className:Ts(D==null?void 0:D.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},oe.createElement("div",{"data-title":"",className:Ts(D==null?void 0:D.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?oe.createElement("div",{"data-description":"",className:Ts(Y,Fe,D==null?void 0:D.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),h.isValidElement(p.cancel)?p.cancel:p.cancel&&wf(p.cancel)?oe.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||k,onClick:We=>{var ht,Nt;wf(p.cancel)&&ue&&((Nt=(ht=p.cancel).onClick)==null||Nt.call(ht,We),Sr())},className:Ts(D==null?void 0:D.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,h.isValidElement(p.action)?p.action:p.action&&wf(p.action)?oe.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||$,onClick:We=>{var ht,Nt;wf(p.action)&&((Nt=(ht=p.action).onClick)==null||Nt.call(ht,We),!We.defaultPrevented&&Sr())},className:Ts(D==null?void 0:D.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function ww(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function uL(e,t){let n={};return[e,t].forEach((r,s)=>{let a=s===1,i=a?"--mobile-offset":"--offset",l=a?rL:nL;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${i}-${u}`]=l:n[`${i}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var dL=h.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:i,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:m,style:p,visibleToasts:g=tL,toastOptions:y,dir:w=ww(),gap:v=aL,loadingIcon:b,icons:E,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:C}=e,[S,_]=oe.useState([]),H=oe.useMemo(()=>Array.from(new Set([r].concat(S.filter(ne=>ne.position).map(ne=>ne.position)))),[S,r]),[V,k]=oe.useState([]),[$,I]=oe.useState(!1),[Y,P]=oe.useState(!1),[L,M]=oe.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=oe.useRef(null),F=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=oe.useRef(null),T=oe.useRef(!1),G=oe.useCallback(ne=>{_(A=>{var W;return(W=A.find(z=>z.id===ne.id))!=null&&W.delete||Rr.dismiss(ne.id),A.filter(({id:z})=>z!==ne.id)})},[]);return oe.useEffect(()=>Rr.subscribe(ne=>{if(ne.dismiss){_(A=>A.map(W=>W.id===ne.id?{...W,delete:!0}:W));return}setTimeout(()=>{ab.flushSync(()=>{_(A=>{let W=A.findIndex(z=>z.id===ne.id);return W!==-1?[...A.slice(0,W),{...A[W],...ne},...A.slice(W+1)]:[ne,...A]})})})}),[]),oe.useEffect(()=>{if(d!=="system"){M(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window>"u")return;let ne=window.matchMedia("(prefers-color-scheme: dark)");try{ne.addEventListener("change",({matches:A})=>{M(A?"dark":"light")})}catch{ne.addListener(({matches:W})=>{try{M(W?"dark":"light")}catch(z){console.error(z)}})}},[d]),oe.useEffect(()=>{S.length<=1&&I(!1)},[S]),oe.useEffect(()=>{let ne=A=>{var W,z;s.every(ae=>A[ae]||A.code===ae)&&(I(!0),(W=K.current)==null||W.focus()),A.code==="Escape"&&(document.activeElement===K.current||(z=K.current)!=null&&z.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[s]),oe.useEffect(()=>{if(K.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,T.current=!1)}},[K.current]),oe.createElement("section",{ref:t,"aria-label":`${N} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},H.map((ne,A)=>{var W;let[z,ae]=ne.split("-");return S.length?oe.createElement("ol",{key:ne,dir:w==="auto"?ww():w,tabIndex:-1,ref:K,className:l,"data-sonner-toaster":!0,"data-theme":L,"data-y-position":z,"data-lifted":$&&S.length>1&&!a,"data-x-position":ae,style:{"--front-toast-height":`${((W=V[0])==null?void 0:W.height)||0}px`,"--width":`${sL}px`,"--gap":`${v}px`,...p,...uL(c,u)},onBlur:J=>{T.current&&!J.currentTarget.contains(J.relatedTarget)&&(T.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||T.current||(T.current=!0,D.current=J.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{Y||I(!1)},onDragEnd:()=>I(!1),onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},S.filter(J=>!J.position&&A===0||J.position===ne).map((J,ce)=>{var xe,re;return oe.createElement(cL,{key:J.id,icons:E,index:ce,toast:J,defaultRichColors:f,duration:(xe=y==null?void 0:y.duration)!=null?xe:m,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:g,closeButton:(re=y==null?void 0:y.closeButton)!=null?re:i,interacting:Y,position:ne,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:G,toasts:S.filter(_e=>_e.position==J.position),heights:V.filter(_e=>_e.position==J.position),setHeights:k,expandByDefault:a,gap:v,loadingIcon:b,expanded:$,pauseWhenPageIsHidden:C,swipeDirections:e.swipeDirections})})):null}))});const fL=({...e})=>{const{theme:t="system"}=FO();return o.jsx(dL,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var hL=my[" useId ".trim().toString()]||(()=>{}),mL=0;function Bs(e){const[t,n]=h.useState(hL());return hn(()=>{n(r=>r??String(mL++))},[e]),t?`radix-${t}`:""}const pL=["top","right","bottom","left"],Ho=Math.min,Yr=Math.max,Uh=Math.round,Ef=Math.floor,da=e=>({x:e,y:e}),gL={left:"right",right:"left",bottom:"top",top:"bottom"},xL={start:"end",end:"start"};function ox(e,t,n){return Yr(e,Ho(t,n))}function Ha(e,t){return typeof e=="function"?e(t):e}function $a(e){return e.split("-")[0]}function Cc(e){return e.split("-")[1]}function hb(e){return e==="x"?"y":"x"}function mb(e){return e==="y"?"height":"width"}const yL=new Set(["top","bottom"]);function ia(e){return yL.has($a(e))?"y":"x"}function pb(e){return hb(ia(e))}function bL(e,t,n){n===void 0&&(n=!1);const r=Cc(e),s=pb(e),a=mb(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=Hh(i)),[i,Hh(i)]}function vL(e){const t=Hh(e);return[ix(e),t,ix(t)]}function ix(e){return e.replace(/start|end/g,t=>xL[t])}const Ew=["left","right"],Nw=["right","left"],wL=["top","bottom"],EL=["bottom","top"];function NL(e,t,n){switch(e){case"top":case"bottom":return n?t?Nw:Ew:t?Ew:Nw;case"left":case"right":return t?wL:EL;default:return[]}}function TL(e,t,n,r){const s=Cc(e);let a=NL($a(e),n==="start",r);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(ix)))),a}function Hh(e){return e.replace(/left|right|bottom|top/g,t=>gL[t])}function SL(e){return{top:0,right:0,bottom:0,left:0,...e}}function Kk(e){return typeof e!="number"?SL(e):{top:e,right:e,bottom:e,left:e}}function $h(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Tw(e,t,n){let{reference:r,floating:s}=e;const a=ia(t),i=pb(t),l=mb(i),c=$a(t),u=a==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Cc(t)){case"start":p[i]-=m*(n&&u?-1:1);break;case"end":p[i]+=m*(n&&u?-1:1);break}return p}const kL=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:i}=n,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=Tw(u,r,c),m=r,p={},g=0;for(let y=0;y<l.length;y++){const{name:w,fn:v}=l[y],{x:b,y:E,data:N,reset:C}=await v({x:d,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});d=b??d,f=E??f,p={...p,[w]:{...p[w],...N}},C&&g<=50&&(g++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(u=C.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:d,y:f}=Tw(u,m,c)),y=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:p}};async function sd(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=Ha(t,e),g=Kk(p),w=l[m?f==="floating"?"reference":"floating":f],v=$h(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(w)))==null||n?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),N=await(a.isElement==null?void 0:a.isElement(E))?await(a.getScale==null?void 0:a.getScale(E))||{x:1,y:1}:{x:1,y:1},C=$h(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:E,strategy:c}):b);return{top:(v.top-C.top+g.top)/N.y,bottom:(C.bottom-v.bottom+g.bottom)/N.y,left:(v.left-C.left+g.left)/N.x,right:(C.right-v.right+g.right)/N.x}}const CL=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Ha(e,t)||{};if(u==null)return{};const f=Kk(d),m={x:n,y:r},p=pb(s),g=mb(p),y=await i.getDimensions(u),w=p==="y",v=w?"top":"left",b=w?"bottom":"right",E=w?"clientHeight":"clientWidth",N=a.reference[g]+a.reference[p]-m[p]-a.floating[g],C=m[p]-a.reference[p],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let _=S?S[E]:0;(!_||!await(i.isElement==null?void 0:i.isElement(S)))&&(_=l.floating[E]||a.floating[g]);const H=N/2-C/2,V=_/2-y[g]/2-1,k=Ho(f[v],V),$=Ho(f[b],V),I=k,Y=_-y[g]-$,P=_/2-y[g]/2+H,L=ox(I,P,Y),M=!c.arrow&&Cc(s)!=null&&P!==L&&a.reference[g]/2-(P<I?k:$)-y[g]/2<0,K=M?P<I?P-I:P-Y:0;return{[p]:m[p]+K,data:{[p]:L,centerOffset:P-L-K,...M&&{alignmentOffset:K}},reset:M}}}),AL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...w}=Ha(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const v=$a(s),b=ia(l),E=$a(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=m||(E||!y?[Hh(l)]:vL(l)),S=g!=="none";!m&&S&&C.push(...TL(l,y,g,N));const _=[l,...C],H=await sd(t,w),V=[];let k=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&V.push(H[v]),f){const P=bL(s,i,N);V.push(H[P[0]],H[P[1]])}if(k=[...k,{placement:s,overflows:V}],!V.every(P=>P<=0)){var $,I;const P=((($=a.flip)==null?void 0:$.index)||0)+1,L=_[P];if(L&&(!(f==="alignment"?b!==ia(L):!1)||k.every(F=>ia(F.placement)===b?F.overflows[0]>0:!0)))return{data:{index:P,overflows:k},reset:{placement:L}};let M=(I=k.filter(K=>K.overflows[0]<=0).sort((K,F)=>K.overflows[1]-F.overflows[1])[0])==null?void 0:I.placement;if(!M)switch(p){case"bestFit":{var Y;const K=(Y=k.filter(F=>{if(S){const D=ia(F.placement);return D===b||D==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(D=>D>0).reduce((D,T)=>D+T,0)]).sort((F,D)=>F[1]-D[1])[0])==null?void 0:Y[0];K&&(M=K);break}case"initialPlacement":M=l;break}if(s!==M)return{reset:{placement:M}}}return{}}}};function Sw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function kw(e){return pL.some(t=>e[t]>=0)}const _L=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Ha(e,t);switch(r){case"referenceHidden":{const a=await sd(t,{...s,elementContext:"reference"}),i=Sw(a,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:kw(i)}}}case"escaped":{const a=await sd(t,{...s,altBoundary:!0}),i=Sw(a,n.floating);return{data:{escapedOffsets:i,escaped:kw(i)}}}default:return{}}}}},Qk=new Set(["left","top"]);async function jL(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=$a(n),l=Cc(n),c=ia(n)==="y",u=Qk.has(i)?-1:1,d=a&&c?-1:1,f=Ha(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(p=l==="end"?g*-1:g),c?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const IL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:i,middlewareData:l}=t,c=await jL(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},RL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:w=>{let{x:v,y:b}=w;return{x:v,y:b}}},...c}=Ha(e,t),u={x:n,y:r},d=await sd(t,c),f=ia($a(s)),m=hb(f);let p=u[m],g=u[f];if(a){const w=m==="y"?"top":"left",v=m==="y"?"bottom":"right",b=p+d[w],E=p-d[v];p=ox(b,p,E)}if(i){const w=f==="y"?"top":"left",v=f==="y"?"bottom":"right",b=g+d[w],E=g-d[v];g=ox(b,g,E)}const y=l.fn({...t,[m]:p,[f]:g});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[m]:a,[f]:i}}}}}},PL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ha(e,t),d={x:n,y:r},f=ia(s),m=hb(f);let p=d[m],g=d[f];const y=Ha(l,t),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const E=m==="y"?"height":"width",N=a.reference[m]-a.floating[E]+w.mainAxis,C=a.reference[m]+a.reference[E]-w.mainAxis;p<N?p=N:p>C&&(p=C)}if(u){var v,b;const E=m==="y"?"width":"height",N=Qk.has($a(s)),C=a.reference[f]-a.floating[E]+(N&&((v=i.offset)==null?void 0:v[f])||0)+(N?0:w.crossAxis),S=a.reference[f]+a.reference[E]+(N?0:((b=i.offset)==null?void 0:b[f])||0)-(N?w.crossAxis:0);g<C?g=C:g>S&&(g=S)}return{[m]:p,[f]:g}}}},DL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...u}=Ha(e,t),d=await sd(t,u),f=$a(s),m=Cc(s),p=ia(s)==="y",{width:g,height:y}=a.floating;let w,v;f==="top"||f==="bottom"?(w=f,v=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,w=m==="end"?"top":"bottom");const b=y-d.top-d.bottom,E=g-d.left-d.right,N=Ho(y-d[w],b),C=Ho(g-d[v],E),S=!t.middlewareData.shift;let _=N,H=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(H=E),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(_=b),S&&!m){const k=Yr(d.left,0),$=Yr(d.right,0),I=Yr(d.top,0),Y=Yr(d.bottom,0);p?H=g-2*(k!==0||$!==0?k+$:Yr(d.left,d.right)):_=y-2*(I!==0||Y!==0?I+Y:Yr(d.top,d.bottom))}await c({...t,availableWidth:H,availableHeight:_});const V=await i.getDimensions(l.floating);return g!==V.width||y!==V.height?{reset:{rects:!0}}:{}}}};function Um(){return typeof window<"u"}function Ac(e){return Xk(e)?(e.nodeName||"").toLowerCase():"#document"}function es(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ga(e){var t;return(t=(Xk(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Xk(e){return Um()?e instanceof Node||e instanceof es(e).Node:!1}function zs(e){return Um()?e instanceof Element||e instanceof es(e).Element:!1}function ma(e){return Um()?e instanceof HTMLElement||e instanceof es(e).HTMLElement:!1}function Cw(e){return!Um()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof es(e).ShadowRoot}const OL=new Set(["inline","contents"]);function jd(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Ws(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!OL.has(s)}const LL=new Set(["table","td","th"]);function ML(e){return LL.has(Ac(e))}const FL=[":popover-open",":modal"];function Hm(e){return FL.some(t=>{try{return e.matches(t)}catch{return!1}})}const BL=["transform","translate","scale","rotate","perspective"],UL=["transform","translate","scale","rotate","perspective","filter"],HL=["paint","layout","strict","content"];function gb(e){const t=xb(),n=zs(e)?Ws(e):e;return BL.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||UL.some(r=>(n.willChange||"").includes(r))||HL.some(r=>(n.contain||"").includes(r))}function $L(e){let t=$o(e);for(;ma(t)&&!ic(t);){if(gb(t))return t;if(Hm(t))return null;t=$o(t)}return null}function xb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const zL=new Set(["html","body","#document"]);function ic(e){return zL.has(Ac(e))}function Ws(e){return es(e).getComputedStyle(e)}function $m(e){return zs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function $o(e){if(Ac(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Cw(e)&&e.host||ga(e);return Cw(t)?t.host:t}function Zk(e){const t=$o(e);return ic(t)?e.ownerDocument?e.ownerDocument.body:e.body:ma(t)&&jd(t)?t:Zk(t)}function ad(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Zk(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),i=es(s);if(a){const l=lx(i);return t.concat(i,i.visualViewport||[],jd(s)?s:[],l&&n?ad(l):[])}return t.concat(s,ad(s,[],n))}function lx(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Jk(e){const t=Ws(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=ma(e),a=s?e.offsetWidth:n,i=s?e.offsetHeight:r,l=Uh(n)!==a||Uh(r)!==i;return l&&(n=a,r=i),{width:n,height:r,$:l}}function yb(e){return zs(e)?e:e.contextElement}function Fl(e){const t=yb(e);if(!ma(t))return da(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=Jk(t);let i=(a?Uh(n.width):n.width)/r,l=(a?Uh(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const WL=da(0);function eC(e){const t=es(e);return!xb()||!t.visualViewport?WL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function VL(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==es(e)?!1:t}function Mi(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=yb(e);let i=da(1);t&&(r?zs(r)&&(i=Fl(r)):i=Fl(e));const l=VL(a,n,r)?eC(a):da(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(a){const m=es(a),p=r&&zs(r)?es(r):r;let g=m,y=lx(g);for(;y&&r&&p!==g;){const w=Fl(y),v=y.getBoundingClientRect(),b=Ws(y),E=v.left+(y.clientLeft+parseFloat(b.paddingLeft))*w.x,N=v.top+(y.clientTop+parseFloat(b.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=E,u+=N,g=es(y),y=lx(g)}}return $h({width:d,height:f,x:c,y:u})}function zm(e,t){const n=$m(e).scrollLeft;return t?t.left+n:Mi(ga(e)).left+n}function tC(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-zm(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function YL(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",i=ga(r),l=t?Hm(t.floating):!1;if(r===i||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=da(1);const d=da(0),f=ma(r);if((f||!f&&!a)&&((Ac(r)!=="body"||jd(i))&&(c=$m(r)),ma(r))){const p=Mi(r);u=Fl(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const m=i&&!f&&!a?tC(i,c):da(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function qL(e){return Array.from(e.getClientRects())}function GL(e){const t=ga(e),n=$m(e),r=e.ownerDocument.body,s=Yr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Yr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+zm(e);const l=-n.scrollTop;return Ws(r).direction==="rtl"&&(i+=Yr(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:i,y:l}}const Aw=25;function KL(e,t){const n=es(e),r=ga(e),s=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;const d=xb();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=zm(r);if(u<=0){const d=r.ownerDocument,f=d.body,m=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,g=Math.abs(r.clientWidth-f.clientWidth-p);g<=Aw&&(a-=g)}else u<=Aw&&(a+=u);return{width:a,height:i,x:l,y:c}}const QL=new Set(["absolute","fixed"]);function XL(e,t){const n=Mi(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=ma(e)?Fl(e):da(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=r*a.y;return{width:i,height:l,x:c,y:u}}function _w(e,t,n){let r;if(t==="viewport")r=KL(e,n);else if(t==="document")r=GL(ga(e));else if(zs(t))r=XL(t,n);else{const s=eC(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return $h(r)}function nC(e,t){const n=$o(e);return n===t||!zs(n)||ic(n)?!1:Ws(n).position==="fixed"||nC(n,t)}function ZL(e,t){const n=t.get(e);if(n)return n;let r=ad(e,[],!1).filter(l=>zs(l)&&Ac(l)!=="body"),s=null;const a=Ws(e).position==="fixed";let i=a?$o(e):e;for(;zs(i)&&!ic(i);){const l=Ws(i),c=gb(i);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&QL.has(s.position)||jd(i)&&!c&&nC(e,i))?r=r.filter(d=>d!==i):s=l,i=$o(i)}return t.set(e,r),r}function JL(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?Hm(t)?[]:ZL(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,d)=>{const f=_w(t,d,s);return u.top=Yr(f.top,u.top),u.right=Ho(f.right,u.right),u.bottom=Ho(f.bottom,u.bottom),u.left=Yr(f.left,u.left),u},_w(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function e5(e){const{width:t,height:n}=Jk(e);return{width:t,height:n}}function t5(e,t,n){const r=ma(t),s=ga(t),a=n==="fixed",i=Mi(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=da(0);function u(){c.x=zm(s)}if(r||!r&&!a)if((Ac(t)!=="body"||jd(s))&&(l=$m(t)),r){const p=Mi(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();a&&!r&&s&&u();const d=s&&!r&&!a?tC(s,l):da(0),f=i.left+l.scrollLeft-c.x-d.x,m=i.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:i.width,height:i.height}}function vg(e){return Ws(e).position==="static"}function jw(e,t){if(!ma(e)||Ws(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ga(e)===n&&(n=n.ownerDocument.body),n}function rC(e,t){const n=es(e);if(Hm(e))return n;if(!ma(e)){let s=$o(e);for(;s&&!ic(s);){if(zs(s)&&!vg(s))return s;s=$o(s)}return n}let r=jw(e,t);for(;r&&ML(r)&&vg(r);)r=jw(r,t);return r&&ic(r)&&vg(r)&&!gb(r)?n:r||$L(e)||n}const n5=async function(e){const t=this.getOffsetParent||rC,n=this.getDimensions,r=await n(e.floating);return{reference:t5(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function r5(e){return Ws(e).direction==="rtl"}const s5={convertOffsetParentRelativeRectToViewportRelativeRect:YL,getDocumentElement:ga,getClippingRect:JL,getOffsetParent:rC,getElementRects:n5,getClientRects:qL,getDimensions:e5,getScale:Fl,isElement:zs,isRTL:r5};function sC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function a5(e,t){let n=null,r;const s=ga(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=u;if(l||t(),!m||!p)return;const g=Ef(f),y=Ef(s.clientWidth-(d+m)),w=Ef(s.clientHeight-(f+p)),v=Ef(d),E={rootMargin:-g+"px "+-y+"px "+-w+"px "+-v+"px",threshold:Yr(0,Ho(1,c))||1};let N=!0;function C(S){const _=S[0].intersectionRatio;if(_!==c){if(!N)return i();_?i(!1,_):r=setTimeout(()=>{i(!1,1e-7)},1e3)}_===1&&!sC(u,e.getBoundingClientRect())&&i(),N=!1}try{n=new IntersectionObserver(C,{...E,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,E)}n.observe(e)}return i(!0),a}function o5(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=yb(e),d=s||a?[...u?ad(u):[],...ad(t)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),a&&v.addEventListener("resize",n)});const f=u&&l?a5(u,n):null;let m=-1,p=null;i&&(p=new ResizeObserver(v=>{let[b]=v;b&&b.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var E;(E=p)==null||E.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let g,y=c?Mi(e):null;c&&w();function w(){const v=Mi(e);y&&!sC(y,v)&&n(),y=v,g=requestAnimationFrame(w)}return n(),()=>{var v;d.forEach(b=>{s&&b.removeEventListener("scroll",n),a&&b.removeEventListener("resize",n)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const i5=IL,l5=RL,c5=AL,u5=DL,d5=_L,Iw=CL,f5=PL,h5=(e,t,n)=>{const r=new Map,s={platform:s5,...n},a={...s.platform,_c:r};return kL(e,t,{...s,platform:a})};var m5=typeof document<"u",p5=function(){},Xf=m5?h.useLayoutEffect:p5;function zh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!zh(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!zh(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function aC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Rw(e,t){const n=aC(e);return Math.round(t*n)/n}function wg(e){const t=h.useRef(e);return Xf(()=>{t.current=e}),t}function g5(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=h.useState(r);zh(m,r)||p(r);const[g,y]=h.useState(null),[w,v]=h.useState(null),b=h.useCallback(F=>{F!==S.current&&(S.current=F,y(F))},[]),E=h.useCallback(F=>{F!==_.current&&(_.current=F,v(F))},[]),N=a||g,C=i||w,S=h.useRef(null),_=h.useRef(null),H=h.useRef(d),V=c!=null,k=wg(c),$=wg(s),I=wg(u),Y=h.useCallback(()=>{if(!S.current||!_.current)return;const F={placement:t,strategy:n,middleware:m};$.current&&(F.platform=$.current),h5(S.current,_.current,F).then(D=>{const T={...D,isPositioned:I.current!==!1};P.current&&!zh(H.current,T)&&(H.current=T,qi.flushSync(()=>{f(T)}))})},[m,t,n,$,I]);Xf(()=>{u===!1&&H.current.isPositioned&&(H.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[u]);const P=h.useRef(!1);Xf(()=>(P.current=!0,()=>{P.current=!1}),[]),Xf(()=>{if(N&&(S.current=N),C&&(_.current=C),N&&C){if(k.current)return k.current(N,C,Y);Y()}},[N,C,Y,k,V]);const L=h.useMemo(()=>({reference:S,floating:_,setReference:b,setFloating:E}),[b,E]),M=h.useMemo(()=>({reference:N,floating:C}),[N,C]),K=h.useMemo(()=>{const F={position:n,left:0,top:0};if(!M.floating)return F;const D=Rw(M.floating,d.x),T=Rw(M.floating,d.y);return l?{...F,transform:"translate("+D+"px, "+T+"px)",...aC(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:T}},[n,l,M.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:Y,refs:L,elements:M,floatingStyles:K}),[d,Y,L,M,K])}const x5=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Iw({element:r.current,padding:s}).fn(n):{}:r?Iw({element:r,padding:s}).fn(n):{}}}},y5=(e,t)=>({...i5(e),options:[e,t]}),b5=(e,t)=>({...l5(e),options:[e,t]}),v5=(e,t)=>({...f5(e),options:[e,t]}),w5=(e,t)=>({...c5(e),options:[e,t]}),E5=(e,t)=>({...u5(e),options:[e,t]}),N5=(e,t)=>({...d5(e),options:[e,t]}),T5=(e,t)=>({...x5(e),options:[e,t]});var S5="Arrow",oC=h.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return o.jsx(Ue.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});oC.displayName=S5;var k5=oC;function C5(e){const[t,n]=h.useState(void 0);return hn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var bb="Popper",[iC,Xo]=os(bb),[A5,lC]=iC(bb),cC=e=>{const{__scopePopper:t,children:n}=e,[r,s]=h.useState(null);return o.jsx(A5,{scope:t,anchor:r,onAnchorChange:s,children:n})};cC.displayName=bb;var uC="PopperAnchor",dC=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=lC(uC,n),i=h.useRef(null),l=st(t,i),c=h.useRef(null);return h.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||i.current,u!==c.current&&a.onAnchorChange(c.current)}),r?null:o.jsx(Ue.div,{...s,ref:l})});dC.displayName=uC;var vb="PopperContent",[_5,j5]=iC(vb),fC=h.forwardRef((e,t)=>{var J,ce,xe,re,_e,Ie;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:g,...y}=e,w=lC(vb,n),[v,b]=h.useState(null),E=st(t,Xe=>b(Xe)),[N,C]=h.useState(null),S=C5(N),_=(S==null?void 0:S.width)??0,H=(S==null?void 0:S.height)??0,V=r+(a!=="center"?"-"+a:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},$=Array.isArray(u)?u:[u],I=$.length>0,Y={padding:k,boundary:$.filter(R5),altBoundary:I},{refs:P,floatingStyles:L,placement:M,isPositioned:K,middlewareData:F}=g5({strategy:"fixed",placement:V,whileElementsMounted:(...Xe)=>o5(...Xe,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[y5({mainAxis:s+H,alignmentAxis:i}),c&&b5({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?v5():void 0,...Y}),c&&w5({...Y}),E5({...Y,apply:({elements:Xe,rects:tt,availableWidth:Ut,availableHeight:ye})=>{const{width:Ce,height:He}=tt.reference,Ge=Xe.floating.style;Ge.setProperty("--radix-popper-available-width",`${Ut}px`),Ge.setProperty("--radix-popper-available-height",`${ye}px`),Ge.setProperty("--radix-popper-anchor-width",`${Ce}px`),Ge.setProperty("--radix-popper-anchor-height",`${He}px`)}}),N&&T5({element:N,padding:l}),P5({arrowWidth:_,arrowHeight:H}),m&&N5({strategy:"referenceHidden",...Y})]}),[D,T]=pC(M),G=rn(g);hn(()=>{K&&(G==null||G())},[K,G]);const ne=(J=F.arrow)==null?void 0:J.x,A=(ce=F.arrow)==null?void 0:ce.y,W=((xe=F.arrow)==null?void 0:xe.centerOffset)!==0,[z,ae]=h.useState();return hn(()=>{v&&ae(window.getComputedStyle(v).zIndex)},[v]),o.jsx("div",{ref:P.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:K?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:z,"--radix-popper-transform-origin":[(re=F.transformOrigin)==null?void 0:re.x,(_e=F.transformOrigin)==null?void 0:_e.y].join(" "),...((Ie=F.hide)==null?void 0:Ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(_5,{scope:n,placedSide:D,onArrowChange:C,arrowX:ne,arrowY:A,shouldHideArrow:W,children:o.jsx(Ue.div,{"data-side":D,"data-align":T,...y,ref:E,style:{...y.style,animation:K?void 0:"none"}})})})});fC.displayName=vb;var hC="PopperArrow",I5={top:"bottom",right:"left",bottom:"top",left:"right"},mC=h.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=j5(hC,r),i=I5[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(k5,{...s,ref:n,style:{...s.style,display:"block"}})})});mC.displayName=hC;function R5(e){return e!==null}var P5=e=>({name:"transformOrigin",options:e,fn(t){var w,v,b;const{placement:n,rects:r,middlewareData:s}=t,i=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=pC(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((v=s.arrow)==null?void 0:v.x)??0)+l/2,p=(((b=s.arrow)==null?void 0:b.y)??0)+c/2;let g="",y="";return u==="bottom"?(g=i?f:`${m}px`,y=`${-c}px`):u==="top"?(g=i?f:`${m}px`,y=`${r.floating.height+c}px`):u==="right"?(g=`${-c}px`,y=i?f:`${p}px`):u==="left"&&(g=`${r.floating.width+c}px`,y=i?f:`${p}px`),{data:{x:g,y}}}});function pC(e){const[t,n="center"]=e.split("-");return[t,n]}var Wm=cC,Id=dC,Vm=fC,Ym=mC,[qm]=os("Tooltip",[Xo]),Gm=Xo(),gC="TooltipProvider",D5=700,cx="tooltip.open",[O5,wb]=qm(gC),xC=e=>{const{__scopeTooltip:t,delayDuration:n=D5,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:a}=e,i=h.useRef(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(O5,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:a})};xC.displayName=gC;var od="Tooltip",[L5,Km]=qm(od),yC=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:a,disableHoverableContent:i,delayDuration:l}=e,c=wb(od,e.__scopeTooltip),u=Gm(t),[d,f]=h.useState(null),m=Bs(),p=h.useRef(0),g=i??c.disableHoverableContent,y=l??c.delayDuration,w=h.useRef(!1),[v,b]=Fo({prop:r,defaultProp:s??!1,onChange:_=>{_?(c.onOpen(),document.dispatchEvent(new CustomEvent(cx))):c.onClose(),a==null||a(_)},caller:od}),E=h.useMemo(()=>v?w.current?"delayed-open":"instant-open":"closed",[v]),N=h.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w.current=!1,b(!0)},[b]),C=h.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b(!1)},[b]),S=h.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{w.current=!0,b(!0),p.current=0},y)},[y,b]);return h.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),o.jsx(Wm,{...u,children:o.jsx(L5,{scope:t,contentId:m,open:v,stateAttribute:E,trigger:d,onTriggerChange:f,onTriggerEnter:h.useCallback(()=>{c.isOpenDelayedRef.current?S():N()},[c.isOpenDelayedRef,S,N]),onTriggerLeave:h.useCallback(()=>{g?C():(window.clearTimeout(p.current),p.current=0)},[C,g]),onOpen:N,onClose:C,disableHoverableContent:g,children:n})})};yC.displayName=od;var ux="TooltipTrigger",bC=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Km(ux,n),a=wb(ux,n),i=Gm(n),l=h.useRef(null),c=st(t,l,s.onTriggerChange),u=h.useRef(!1),d=h.useRef(!1),f=h.useCallback(()=>u.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(Id,{asChild:!0,...i,children:o.jsx(Ue.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:ke(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ke(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ke(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ke(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:ke(e.onBlur,s.onClose),onClick:ke(e.onClick,s.onClose)})})});bC.displayName=ux;var M5="TooltipPortal",[Hte,F5]=qm(M5,{forceMount:void 0}),lc="TooltipContent",vC=h.forwardRef((e,t)=>{const n=F5(lc,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...a}=e,i=Km(lc,e.__scopeTooltip);return o.jsx(rr,{present:r||i.open,children:i.disableHoverableContent?o.jsx(wC,{side:s,...a,ref:t}):o.jsx(B5,{side:s,...a,ref:t})})}),B5=h.forwardRef((e,t)=>{const n=Km(lc,e.__scopeTooltip),r=wb(lc,e.__scopeTooltip),s=h.useRef(null),a=st(t,s),[i,l]=h.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,m=h.useCallback(()=>{l(null),f(!1)},[f]),p=h.useCallback((g,y)=>{const w=g.currentTarget,v={x:g.clientX,y:g.clientY},b=W5(v,w.getBoundingClientRect()),E=V5(v,b),N=Y5(y.getBoundingClientRect()),C=G5([...E,...N]);l(C),f(!0)},[f]);return h.useEffect(()=>()=>m(),[m]),h.useEffect(()=>{if(c&&d){const g=w=>p(w,d),y=w=>p(w,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",y)}}},[c,d,p,m]),h.useEffect(()=>{if(i){const g=y=>{const w=y.target,v={x:y.clientX,y:y.clientY},b=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),E=!q5(v,i);b?m():E&&(m(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,i,u,m]),o.jsx(wC,{...e,ref:a})}),[U5,H5]=qm(od,{isInside:!1}),$5=sk("TooltipContent"),wC=h.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:i,...l}=e,c=Km(lc,n),u=Gm(n),{onClose:d}=c;return h.useEffect(()=>(document.addEventListener(cx,d),()=>document.removeEventListener(cx,d)),[d]),h.useEffect(()=>{if(c.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(Gi,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(Vm,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx($5,{children:r}),o.jsx(U5,{scope:n,isInside:!0,children:o.jsx(pD,{id:c.contentId,role:"tooltip",children:s||r})})]})})});vC.displayName=lc;var EC="TooltipArrow",z5=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Gm(n);return H5(EC,n).isInside?null:o.jsx(Ym,{...s,...r,ref:t})});z5.displayName=EC;function W5(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,s,a)){case a:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function V5(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Y5(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function q5(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a],c=t[i],u=l.x,d=l.y,f=c.x,m=c.y;d>r!=m>r&&n<(f-u)*(r-d)/(m-d)+u&&(s=!s)}return s}function G5(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),K5(t)}function K5(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const a=n[n.length-1],i=n[n.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Q5=xC,X5=yC,Z5=bC,NC=vC;const J5=Q5,Eg=X5,Ng=Z5,Zf=h.forwardRef(({className:e,sideOffset:t=4,...n},r)=>o.jsx(NC,{ref:r,sideOffset:t,className:Oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Zf.displayName=NC.displayName;var Qm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},eM={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},co,cy,DN,tM=(DN=class{constructor(){mt(this,co,eM);mt(this,cy,!1)}setTimeoutProvider(e){qe(this,co,e)}setTimeout(e,t){return de(this,co).setTimeout(e,t)}clearTimeout(e){de(this,co).clearTimeout(e)}setInterval(e,t){return de(this,co).setInterval(e,t)}clearInterval(e){de(this,co).clearInterval(e)}},co=new WeakMap,cy=new WeakMap,DN),dx=new tM;function nM(e){setTimeout(e,0)}var Xm=typeof window>"u"||"Deno"in globalThis;function As(){}function rM(e,t){return typeof e=="function"?e(t):e}function sM(e){return typeof e=="number"&&e>=0&&e!==1/0}function aM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function fx(e,t){return typeof e=="function"?e(t):e}function oM(e,t){return typeof e=="function"?e(t):e}function Pw(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:i,stale:l}=e;if(i){if(r){if(t.queryHash!==Eb(i,t.options))return!1}else if(!ld(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function Dw(e,t){const{exact:n,status:r,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(id(t.options.mutationKey)!==id(a))return!1}else if(!ld(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Eb(e,t){return((t==null?void 0:t.queryKeyHashFn)||id)(e)}function id(e){return JSON.stringify(e,(t,n)=>hx(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ld(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>ld(e[n],t[n])):!1}var iM=Object.prototype.hasOwnProperty;function TC(e,t){if(e===t)return e;const n=Ow(e)&&Ow(t);if(!n&&!(hx(e)&&hx(t)))return t;const s=(n?e:Object.keys(e)).length,a=n?t:Object.keys(t),i=a.length,l=n?new Array(i):{};let c=0;for(let u=0;u<i;u++){const d=n?u:a[u],f=e[d],m=t[d];if(f===m){l[d]=f,(n?u<s:iM.call(e,d))&&c++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){l[d]=m;continue}const p=TC(f,m);l[d]=p,p===f&&c++}return s===i&&c===s?e:l}function Ow(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function hx(e){if(!Lw(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Lw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Lw(e){return Object.prototype.toString.call(e)==="[object Object]"}function lM(e){return new Promise(t=>{dx.setTimeout(t,e)})}function cM(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?TC(e,t):t}function uM(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function dM(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Nb=Symbol();function SC(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Nb?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var bi,uo,zl,ON,fM=(ON=class extends Qm{constructor(){super();mt(this,bi);mt(this,uo);mt(this,zl);qe(this,zl,t=>{if(!Xm&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){de(this,uo)||this.setEventListener(de(this,zl))}onUnsubscribe(){var t;this.hasListeners()||((t=de(this,uo))==null||t.call(this),qe(this,uo,void 0))}setEventListener(t){var n;qe(this,zl,t),(n=de(this,uo))==null||n.call(this),qe(this,uo,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){de(this,bi)!==t&&(qe(this,bi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof de(this,bi)=="boolean"?de(this,bi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},bi=new WeakMap,uo=new WeakMap,zl=new WeakMap,ON),kC=new fM;function hM(){let e,t;const n=new Promise((s,a)=>{e=s,t=a});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var mM=nM;function pM(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=mM;const a=l=>{t?e.push(l):s(()=>{n(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var pr=pM(),Wl,fo,Vl,LN,gM=(LN=class extends Qm{constructor(){super();mt(this,Wl,!0);mt(this,fo);mt(this,Vl);qe(this,Vl,t=>{if(!Xm&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){de(this,fo)||this.setEventListener(de(this,Vl))}onUnsubscribe(){var t;this.hasListeners()||((t=de(this,fo))==null||t.call(this),qe(this,fo,void 0))}setEventListener(t){var n;qe(this,Vl,t),(n=de(this,fo))==null||n.call(this),qe(this,fo,t(this.setOnline.bind(this)))}setOnline(t){de(this,Wl)!==t&&(qe(this,Wl,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return de(this,Wl)}},Wl=new WeakMap,fo=new WeakMap,Vl=new WeakMap,LN),Wh=new gM;function xM(e){return Math.min(1e3*2**e,3e4)}function CC(e){return(e??"online")==="online"?Wh.isOnline():!0}var mx=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function AC(e){let t=!1,n=0,r;const s=hM(),a=()=>s.status!=="pending",i=y=>{var w;if(!a()){const v=new mx(y);m(v),(w=e.onCancel)==null||w.call(e,v)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>kC.isFocused()&&(e.networkMode==="always"||Wh.isOnline())&&e.canRun(),d=()=>CC(e.networkMode)&&e.canRun(),f=y=>{a()||(r==null||r(),s.resolve(y))},m=y=>{a()||(r==null||r(),s.reject(y))},p=()=>new Promise(y=>{var w;r=v=>{(a()||u())&&y(v)},(w=e.onPause)==null||w.call(e)}).then(()=>{var y;r=void 0,a()||(y=e.onContinue)==null||y.call(e)}),g=()=>{if(a())return;let y;const w=n===0?e.initialPromise:void 0;try{y=w??e.fn()}catch(v){y=Promise.reject(v)}Promise.resolve(y).then(f).catch(v=>{var S;if(a())return;const b=e.retry??(Xm?0:3),E=e.retryDelay??xM,N=typeof E=="function"?E(n,v):E,C=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,v);if(t||!C){m(v);return}n++,(S=e.onFail)==null||S.call(e,n,v),lM(N).then(()=>u()?void 0:p()).then(()=>{t?m(v):g()})})};return{promise:s,status:()=>s.status,cancel:i,continue:()=>(r==null||r(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():p().then(g),s)}}var vi,MN,_C=(MN=class{constructor(){mt(this,vi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sM(this.gcTime)&&qe(this,vi,dx.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Xm?1/0:5*60*1e3))}clearGcTimeout(){de(this,vi)&&(dx.clearTimeout(de(this,vi)),qe(this,vi,void 0))}},vi=new WeakMap,MN),wi,Yl,cs,Ei,Rn,wd,Ni,_s,Sa,FN,yM=(FN=class extends _C{constructor(t){super();mt(this,_s);mt(this,wi);mt(this,Yl);mt(this,cs);mt(this,Ei);mt(this,Rn);mt(this,wd);mt(this,Ni);qe(this,Ni,!1),qe(this,wd,t.defaultOptions),this.setOptions(t.options),this.observers=[],qe(this,Ei,t.client),qe(this,cs,de(this,Ei).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,qe(this,wi,Mw(this.options)),this.state=t.state??de(this,wi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=de(this,Rn))==null?void 0:t.promise}setOptions(t){if(this.options={...de(this,wd),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Mw(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),qe(this,wi,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&de(this,cs).remove(this)}setData(t,n){const r=cM(this.state.data,t,this.options);return Vn(this,_s,Sa).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Vn(this,_s,Sa).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=de(this,Rn))==null?void 0:r.promise;return(s=de(this,Rn))==null||s.cancel(t),n?n.then(As).catch(As):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(de(this,wi))}isActive(){return this.observers.some(t=>oM(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Nb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>fx(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!aM(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=de(this,Rn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=de(this,Rn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),de(this,cs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(de(this,Rn)&&(de(this,Ni)?de(this,Rn).cancel({revert:!0}):de(this,Rn).cancelRetry()),this.scheduleGc()),de(this,cs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Vn(this,_s,Sa).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,d,f,m,p,g,y,w,v,b,E;if(this.state.fetchStatus!=="idle"&&((c=de(this,Rn))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(de(this,Rn))return de(this,Rn).continueRetry(),de(this,Rn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const N=this.observers.find(C=>C.options.queryFn);N&&this.setOptions(N.options)}const r=new AbortController,s=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(qe(this,Ni,!0),r.signal)})},a=()=>{const N=SC(this.options,n),S=(()=>{const _={client:de(this,Ei),queryKey:this.queryKey,meta:this.meta};return s(_),_})();return qe(this,Ni,!1),this.options.persister?this.options.persister(N,S,this):N(S)},l=(()=>{const N={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:de(this,Ei),state:this.state,fetchFn:a};return s(N),N})();(u=this.options.behavior)==null||u.onFetch(l,this),qe(this,Yl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Vn(this,_s,Sa).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),qe(this,Rn,AC({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:N=>{N instanceof mx&&N.revert&&this.setState({...de(this,Yl),fetchStatus:"idle"}),r.abort()},onFail:(N,C)=>{Vn(this,_s,Sa).call(this,{type:"failed",failureCount:N,error:C})},onPause:()=>{Vn(this,_s,Sa).call(this,{type:"pause"})},onContinue:()=>{Vn(this,_s,Sa).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const N=await de(this,Rn).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(p=(m=de(this,cs).config).onSuccess)==null||p.call(m,N,this),(y=(g=de(this,cs).config).onSettled)==null||y.call(g,N,this.state.error,this),N}catch(N){if(N instanceof mx){if(N.silent)return de(this,Rn).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw Vn(this,_s,Sa).call(this,{type:"error",error:N}),(v=(w=de(this,cs).config).onError)==null||v.call(w,N,this),(E=(b=de(this,cs).config).onSettled)==null||E.call(b,this.state.data,N,this),N}finally{this.scheduleGc()}}},wi=new WeakMap,Yl=new WeakMap,cs=new WeakMap,Ei=new WeakMap,Rn=new WeakMap,wd=new WeakMap,Ni=new WeakMap,_s=new WeakSet,Sa=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...bM(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return qe(this,Yl,t.manual?s:void 0),s;case"error":const a=t.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),pr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),de(this,cs).notify({query:this,type:"updated",action:t})})},FN);function bM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:CC(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Mw(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function Fw(e){return{onFetch:(t,n)=>{var d,f,m,p,g;const r=t.options,s=(m=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],i=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const w=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},v=SC(t.options,t.fetchOptions),b=async(E,N,C)=>{if(y)return Promise.reject();if(N==null&&E.pages.length)return Promise.resolve(E);const _=(()=>{const $={client:t.client,queryKey:t.queryKey,pageParam:N,direction:C?"backward":"forward",meta:t.options.meta};return w($),$})(),H=await v(_),{maxPages:V}=t.options,k=C?dM:uM;return{pages:k(E.pages,H,V),pageParams:k(E.pageParams,N,V)}};if(s&&a.length){const E=s==="backward",N=E?vM:Bw,C={pages:a,pageParams:i},S=N(r,C);l=await b(C,S,E)}else{const E=e??a.length;do{const N=c===0?i[0]??r.initialPageParam:Bw(r,l);if(c>0&&N==null)break;l=await b(l,N),c++}while(c<E)}return l};t.options.persister?t.fetchFn=()=>{var y,w;return(w=(y=t.options).persister)==null?void 0:w.call(y,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Bw(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function vM(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Ed,ea,ur,Ti,ta,eo,BN,wM=(BN=class extends _C{constructor(t){super();mt(this,ta);mt(this,Ed);mt(this,ea);mt(this,ur);mt(this,Ti);qe(this,Ed,t.client),this.mutationId=t.mutationId,qe(this,ur,t.mutationCache),qe(this,ea,[]),this.state=t.state||EM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){de(this,ea).includes(t)||(de(this,ea).push(t),this.clearGcTimeout(),de(this,ur).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){qe(this,ea,de(this,ea).filter(n=>n!==t)),this.scheduleGc(),de(this,ur).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){de(this,ea).length||(this.state.status==="pending"?this.scheduleGc():de(this,ur).remove(this))}continue(){var t;return((t=de(this,Ti))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,l,c,u,d,f,m,p,g,y,w,v,b,E,N,C,S,_,H,V;const n=()=>{Vn(this,ta,eo).call(this,{type:"continue"})},r={client:de(this,Ed),meta:this.options.meta,mutationKey:this.options.mutationKey};qe(this,Ti,AC({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(k,$)=>{Vn(this,ta,eo).call(this,{type:"failed",failureCount:k,error:$})},onPause:()=>{Vn(this,ta,eo).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>de(this,ur).canRun(this)}));const s=this.state.status==="pending",a=!de(this,Ti).canStart();try{if(s)n();else{Vn(this,ta,eo).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(i=de(this,ur).config).onMutate)==null?void 0:l.call(i,t,this,r));const $=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,r));$!==this.state.context&&Vn(this,ta,eo).call(this,{type:"pending",context:$,variables:t,isPaused:a})}const k=await de(this,Ti).start();return await((f=(d=de(this,ur).config).onSuccess)==null?void 0:f.call(d,k,t,this.state.context,this,r)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,k,t,this.state.context,r)),await((y=(g=de(this,ur).config).onSettled)==null?void 0:y.call(g,k,null,this.state.variables,this.state.context,this,r)),await((v=(w=this.options).onSettled)==null?void 0:v.call(w,k,null,t,this.state.context,r)),Vn(this,ta,eo).call(this,{type:"success",data:k}),k}catch(k){try{throw await((E=(b=de(this,ur).config).onError)==null?void 0:E.call(b,k,t,this.state.context,this,r)),await((C=(N=this.options).onError)==null?void 0:C.call(N,k,t,this.state.context,r)),await((_=(S=de(this,ur).config).onSettled)==null?void 0:_.call(S,void 0,k,this.state.variables,this.state.context,this,r)),await((V=(H=this.options).onSettled)==null?void 0:V.call(H,void 0,k,t,this.state.context,r)),k}finally{Vn(this,ta,eo).call(this,{type:"error",error:k})}}finally{de(this,ur).runNext(this)}}},Ed=new WeakMap,ea=new WeakMap,ur=new WeakMap,Ti=new WeakMap,ta=new WeakSet,eo=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),pr.batch(()=>{de(this,ea).forEach(r=>{r.onMutationUpdate(t)}),de(this,ur).notify({mutation:this,type:"updated",action:t})})},BN);function EM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Aa,js,Nd,UN,NM=(UN=class extends Qm{constructor(t={}){super();mt(this,Aa);mt(this,js);mt(this,Nd);this.config=t,qe(this,Aa,new Set),qe(this,js,new Map),qe(this,Nd,0)}build(t,n,r){const s=new wM({client:t,mutationCache:this,mutationId:++ef(this,Nd)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){de(this,Aa).add(t);const n=Nf(t);if(typeof n=="string"){const r=de(this,js).get(n);r?r.push(t):de(this,js).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(de(this,Aa).delete(t)){const n=Nf(t);if(typeof n=="string"){const r=de(this,js).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&de(this,js).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Nf(t);if(typeof n=="string"){const r=de(this,js).get(n),s=r==null?void 0:r.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Nf(t);if(typeof n=="string"){const s=(r=de(this,js).get(n))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){pr.batch(()=>{de(this,Aa).forEach(t=>{this.notify({type:"removed",mutation:t})}),de(this,Aa).clear(),de(this,js).clear()})}getAll(){return Array.from(de(this,Aa))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Dw(n,r))}findAll(t={}){return this.getAll().filter(n=>Dw(t,n))}notify(t){pr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return pr.batch(()=>Promise.all(t.map(n=>n.continue().catch(As))))}},Aa=new WeakMap,js=new WeakMap,Nd=new WeakMap,UN);function Nf(e){var t;return(t=e.options.scope)==null?void 0:t.id}var na,HN,TM=(HN=class extends Qm{constructor(t={}){super();mt(this,na);this.config=t,qe(this,na,new Map)}build(t,n,r){const s=n.queryKey,a=n.queryHash??Eb(s,n);let i=this.get(a);return i||(i=new yM({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){de(this,na).has(t.queryHash)||(de(this,na).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=de(this,na).get(t.queryHash);n&&(t.destroy(),n===t&&de(this,na).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){pr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return de(this,na).get(t)}getAll(){return[...de(this,na).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Pw(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Pw(t,r)):n}notify(t){pr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){pr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){pr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},na=new WeakMap,HN),Jt,ho,mo,ql,Gl,po,Kl,Ql,$N,SM=($N=class{constructor(e={}){mt(this,Jt);mt(this,ho);mt(this,mo);mt(this,ql);mt(this,Gl);mt(this,po);mt(this,Kl);mt(this,Ql);qe(this,Jt,e.queryCache||new TM),qe(this,ho,e.mutationCache||new NM),qe(this,mo,e.defaultOptions||{}),qe(this,ql,new Map),qe(this,Gl,new Map),qe(this,po,0)}mount(){ef(this,po)._++,de(this,po)===1&&(qe(this,Kl,kC.subscribe(async e=>{e&&(await this.resumePausedMutations(),de(this,Jt).onFocus())})),qe(this,Ql,Wh.subscribe(async e=>{e&&(await this.resumePausedMutations(),de(this,Jt).onOnline())})))}unmount(){var e,t;ef(this,po)._--,de(this,po)===0&&((e=de(this,Kl))==null||e.call(this),qe(this,Kl,void 0),(t=de(this,Ql))==null||t.call(this),qe(this,Ql,void 0))}isFetching(e){return de(this,Jt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return de(this,ho).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=de(this,Jt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=de(this,Jt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(fx(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return de(this,Jt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=de(this,Jt).get(r.queryHash),a=s==null?void 0:s.state.data,i=rM(t,a);if(i!==void 0)return de(this,Jt).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return pr.batch(()=>de(this,Jt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=de(this,Jt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=de(this,Jt);pr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=de(this,Jt);return pr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=pr.batch(()=>de(this,Jt).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(As).catch(As)}invalidateQueries(e,t={}){return pr.batch(()=>(de(this,Jt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=pr.batch(()=>de(this,Jt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(As)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(As)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=de(this,Jt).build(this,t);return n.isStaleByTime(fx(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(As).catch(As)}fetchInfiniteQuery(e){return e.behavior=Fw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(As).catch(As)}ensureInfiniteQueryData(e){return e.behavior=Fw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Wh.isOnline()?de(this,ho).resumePausedMutations():Promise.resolve()}getQueryCache(){return de(this,Jt)}getMutationCache(){return de(this,ho)}getDefaultOptions(){return de(this,mo)}setDefaultOptions(e){qe(this,mo,e)}setQueryDefaults(e,t){de(this,ql).set(id(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...de(this,ql).values()],n={};return t.forEach(r=>{ld(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){de(this,Gl).set(id(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...de(this,Gl).values()],n={};return t.forEach(r=>{ld(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...de(this,mo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Eb(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Nb&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...de(this,mo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){de(this,Jt).clear(),de(this,ho).clear()}},Jt=new WeakMap,ho=new WeakMap,mo=new WeakMap,ql=new WeakMap,Gl=new WeakMap,po=new WeakMap,Kl=new WeakMap,Ql=new WeakMap,$N),kM=h.createContext(void 0),CM=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(kM.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cd(){return cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cd.apply(this,arguments)}var yo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(yo||(yo={}));const Uw="popstate";function AM(e){e===void 0&&(e={});function t(r,s){let{pathname:a,search:i,hash:l}=r.location;return px("",{pathname:a,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Vh(s)}return jM(t,n,null,e)}function fn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jC(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _M(){return Math.random().toString(36).substr(2,8)}function Hw(e,t){return{usr:e.state,key:e.key,idx:t}}function px(e,t,n,r){return n===void 0&&(n=null),cd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?_c(t):t,{state:n,key:t&&t.key||r||_M()})}function Vh(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function _c(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function jM(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,i=s.history,l=yo.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(cd({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=yo.Pop;let w=d(),v=w==null?null:w-u;u=w,c&&c({action:l,location:y.location,delta:v})}function m(w,v){l=yo.Push;let b=px(y.location,w,v);u=d()+1;let E=Hw(b,u),N=y.createHref(b);try{i.pushState(E,"",N)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(N)}a&&c&&c({action:l,location:y.location,delta:1})}function p(w,v){l=yo.Replace;let b=px(y.location,w,v);u=d();let E=Hw(b,u),N=y.createHref(b);i.replaceState(E,"",N),a&&c&&c({action:l,location:y.location,delta:0})}function g(w){let v=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof w=="string"?w:Vh(w);return b=b.replace(/ $/,"%20"),fn(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let y={get action(){return l},get location(){return e(s,i)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Uw,f),c=w,()=>{s.removeEventListener(Uw,f),c=null}},createHref(w){return t(s,w)},createURL:g,encodeLocation(w){let v=g(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:p,go(w){return i.go(w)}};return y}var $w;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})($w||($w={}));function IM(e,t,n){return n===void 0&&(n="/"),RM(e,t,n)}function RM(e,t,n,r){let s=typeof t=="string"?_c(t):t,a=Tb(s.pathname||"/",n);if(a==null)return null;let i=IC(e);PM(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=VM(a);l=$M(i[c],u)}return l}function IC(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(fn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=jo([r,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(fn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),IC(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:UM(u,a.index),routesMeta:d})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,i);else for(let c of RC(a.path))s(a,i,c)}),t}function RC(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let i=RC(r.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function PM(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:HM(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const DM=/^:[\w-]+$/,OM=3,LM=2,MM=1,FM=10,BM=-2,zw=e=>e==="*";function UM(e,t){let n=e.split("/"),r=n.length;return n.some(zw)&&(r+=BM),t&&(r+=LM),n.filter(s=>!zw(s)).reduce((s,a)=>s+(DM.test(a)?OM:a===""?MM:FM),r)}function HM(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function $M(e,t,n){let{routesMeta:r}=e,s={},a="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=zM({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:jo([a,f.pathname]),pathnameBase:KM(jo([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=jo([a,f.pathnameBase]))}return i}function zM(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=WM(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let y=l[f]||"";i=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const g=l[f];return p&&!g?u[m]=void 0:u[m]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function WM(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),jC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function VM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Tb(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function YM(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?_c(e):e;return{pathname:n?n.startsWith("/")?n:qM(n,t):t,search:QM(r),hash:XM(s)}}function qM(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Tg(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GM(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Sb(e,t){let n=GM(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function kb(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=_c(e):(s=cd({},e),fn(!s.pathname||!s.pathname.includes("?"),Tg("?","pathname","search",s)),fn(!s.pathname||!s.pathname.includes("#"),Tg("#","pathname","hash",s)),fn(!s.search||!s.search.includes("#"),Tg("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,l;if(i==null)l=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=YM(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(a||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const jo=e=>e.join("/").replace(/\/\/+/g,"/"),KM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),QM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,XM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ZM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const PC=["post","put","patch","delete"];new Set(PC);const JM=["get",...PC];new Set(JM);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ud(){return ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ud.apply(this,arguments)}const Cb=h.createContext(null),eF=h.createContext(null),Zo=h.createContext(null),Rd=h.createContext(null),xa=h.createContext({outlet:null,matches:[],isDataRoute:!1}),DC=h.createContext(null);function tF(e,t){let{relative:n}=t===void 0?{}:t;jc()||fn(!1);let{basename:r,navigator:s}=h.useContext(Zo),{hash:a,pathname:i,search:l}=MC(e,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:jo([r,i])),s.createHref({pathname:c,search:l,hash:a})}function jc(){return h.useContext(Rd)!=null}function Nr(){return jc()||fn(!1),h.useContext(Rd).location}function nF(){return h.useContext(Rd).navigationType}function OC(e){h.useContext(Zo).static||h.useLayoutEffect(e)}function qt(){let{isDataRoute:e}=h.useContext(xa);return e?gF():rF()}function rF(){jc()||fn(!1);let e=h.useContext(Cb),{basename:t,future:n,navigator:r}=h.useContext(Zo),{matches:s}=h.useContext(xa),{pathname:a}=Nr(),i=JSON.stringify(Sb(s,n.v7_relativeSplatPath)),l=h.useRef(!1);return OC(()=>{l.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=kb(u,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:jo([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,i,a,e])}const LC=h.createContext(null);function Ww(){return h.useContext(LC)}function sF(e){let t=h.useContext(xa).outlet;return t&&h.createElement(LC.Provider,{value:e},t)}function Ab(){let{matches:e}=h.useContext(xa),t=e[e.length-1];return t?t.params:{}}function MC(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=h.useContext(Zo),{matches:s}=h.useContext(xa),{pathname:a}=Nr(),i=JSON.stringify(Sb(s,r.v7_relativeSplatPath));return h.useMemo(()=>kb(e,JSON.parse(i),a,n==="path"),[e,i,a,n])}function aF(e,t){return oF(e,t)}function oF(e,t,n,r){jc()||fn(!1);let{navigator:s}=h.useContext(Zo),{matches:a}=h.useContext(xa),i=a[a.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Nr(),d;if(t){var f;let w=typeof t=="string"?_c(t):t;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||fn(!1),d=w}else d=u;let m=d.pathname||"/",p=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=IM(e,{pathname:p}),y=dF(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:jo([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:jo([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,n,r);return t&&y?h.createElement(Rd.Provider,{value:{location:ud({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:yo.Pop}},y):y}function iF(){let e=pF(),t=ZM(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:s},n):null,null)}const lF=h.createElement(iF,null);class cF extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?h.createElement(xa.Provider,{value:this.props.routeContext},h.createElement(DC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uF(e){let{routeContext:t,match:n,children:r}=e,s=h.useContext(Cb);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(xa.Provider,{value:t},r)}function dF(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||fn(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:p}=n,g=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let p,g=!1,y=null,w=null;n&&(p=l&&f.route.id?l[f.route.id]:void 0,y=f.route.errorElement||lF,c&&(u<0&&m===0?(xF("route-fallback"),g=!0,w=null):u===m&&(g=!0,w=f.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,m+1)),b=()=>{let E;return p?E=y:g?E=w:f.route.Component?E=h.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=d,h.createElement(uF,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?h.createElement(cF,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var FC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(FC||{}),BC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(BC||{});function fF(e){let t=h.useContext(Cb);return t||fn(!1),t}function hF(e){let t=h.useContext(eF);return t||fn(!1),t}function mF(e){let t=h.useContext(xa);return t||fn(!1),t}function UC(e){let t=mF(),n=t.matches[t.matches.length-1];return n.route.id||fn(!1),n.route.id}function pF(){var e;let t=h.useContext(DC),n=hF(),r=UC();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function gF(){let{router:e}=fF(FC.UseNavigateStable),t=UC(BC.UseNavigateStable),n=h.useRef(!1);return OC(()=>{n.current=!0}),h.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ud({fromRouteId:t},a)))},[e,t])}const Vw={};function xF(e,t,n){Vw[e]||(Vw[e]=!0)}function yF(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function HC(e){let{to:t,replace:n,state:r,relative:s}=e;jc()||fn(!1);let{future:a,static:i}=h.useContext(Zo),{matches:l}=h.useContext(xa),{pathname:c}=Nr(),u=qt(),d=kb(t,Sb(l,a.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return h.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function _b(e){return sF(e.context)}function zt(e){fn(!1)}function bF(e){let{basename:t="/",children:n=null,location:r,navigationType:s=yo.Pop,navigator:a,static:i=!1,future:l}=e;jc()&&fn(!1);let c=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:a,static:i,future:ud({v7_relativeSplatPath:!1},l)}),[c,l,a,i]);typeof r=="string"&&(r=_c(r));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:g="default"}=r,y=h.useMemo(()=>{let w=Tb(d,c);return w==null?null:{location:{pathname:w,search:f,hash:m,state:p,key:g},navigationType:s}},[c,d,f,m,p,g,s]);return y==null?null:h.createElement(Zo.Provider,{value:u},h.createElement(Rd.Provider,{children:n,value:y}))}function vF(e){let{children:t,location:n}=e;return aF(gx(t),n)}new Promise(()=>{});function gx(e,t){t===void 0&&(t=[]);let n=[];return h.Children.forEach(e,(r,s)=>{if(!h.isValidElement(r))return;let a=[...t,s];if(r.type===h.Fragment){n.push.apply(n,gx(r.props.children,a));return}r.type!==zt&&fn(!1),!r.props.index||!r.props.children||fn(!1);let i={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=gx(r.props.children,a)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xx(){return xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xx.apply(this,arguments)}function wF(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function EF(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function NF(e,t){return e.button===0&&(!t||t==="_self")&&!EF(e)}function yx(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function TF(e,t){let n=yx(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(a=>{n.append(s,a)})}),n}const SF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],kF="6";try{window.__reactRouterVersion=kF}catch{}const CF="startTransition",Yw=my[CF];function AF(e){let{basename:t,children:n,future:r,window:s}=e,a=h.useRef();a.current==null&&(a.current=AM({window:s,v5Compat:!0}));let i=a.current,[l,c]=h.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=h.useCallback(f=>{u&&Yw?Yw(()=>c(f)):c(f)},[c,u]);return h.useLayoutEffect(()=>i.listen(d),[i,d]),h.useEffect(()=>yF(r),[r]),h.createElement(bF,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:i,future:r})}const _F=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xc=h.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:a,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=wF(t,SF),{basename:p}=h.useContext(Zo),g,y=!1;if(typeof u=="string"&&jF.test(u)&&(g=u,_F))try{let E=new URL(window.location.href),N=u.startsWith("//")?new URL(E.protocol+u):new URL(u),C=Tb(N.pathname,p);N.origin===E.origin&&C!=null?u=C+N.search+N.hash:y=!0}catch{}let w=tF(u,{relative:s}),v=IF(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function b(E){r&&r(E),E.defaultPrevented||v(E)}return h.createElement("a",xx({},m,{href:g||w,onClick:y||a?r:b,ref:n,target:c}))});var qw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(qw||(qw={}));var Gw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Gw||(Gw={}));function IF(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:i,viewTransition:l}=t===void 0?{}:t,c=qt(),u=Nr(),d=MC(e,{relative:i});return h.useCallback(f=>{if(NF(f,n)){f.preventDefault();let m=r!==void 0?r:Vh(u)===Vh(d);c(e,{replace:m,state:s,preventScrollReset:a,relative:i,viewTransition:l})}},[u,c,d,r,s,n,e,a,i,l])}function Zm(e){let t=h.useRef(yx(e)),n=h.useRef(!1),r=Nr(),s=h.useMemo(()=>TF(r.search,n.current?null:t.current),[r.search]),a=qt(),i=h.useCallback((l,c)=>{const u=yx(typeof l=="function"?l(s):l);n.current=!0,a("?"+u,c)},[a,s]);return[s,i]}class du extends Error{}du.prototype.name="InvalidTokenError";function RF(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function PF(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return RF(t)}catch{return atob(t)}}function fu(e,t){if(typeof e!="string")throw new du("Invalid token specified: must be a string");t||(t={});const n=t.header===!0?0:1,r=e.split(".")[n];if(typeof r!="string")throw new du(`Invalid token specified: missing part #${n+1}`);let s;try{s=PF(r)}catch(a){throw new du(`Invalid token specified: invalid base64 for part #${n+1} (${a.message})`)}try{return JSON.parse(s)}catch(a){throw new du(`Invalid token specified: invalid json for part #${n+1} (${a.message})`)}}function $C(e,t){return function(){return e.apply(t,arguments)}}const{toString:DF}=Object.prototype,{getPrototypeOf:jb}=Object,{iterator:Jm,toStringTag:zC}=Symbol,ep=(e=>t=>{const n=DF.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Vs=e=>(e=e.toLowerCase(),t=>ep(t)===e),tp=e=>t=>typeof t===e,{isArray:Ic}=Array,cc=tp("undefined");function Pd(e){return e!==null&&!cc(e)&&e.constructor!==null&&!cc(e.constructor)&&Br(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const WC=Vs("ArrayBuffer");function OF(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&WC(e.buffer),t}const LF=tp("string"),Br=tp("function"),VC=tp("number"),Dd=e=>e!==null&&typeof e=="object",MF=e=>e===!0||e===!1,Jf=e=>{if(ep(e)!=="object")return!1;const t=jb(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(zC in e)&&!(Jm in e)},FF=e=>{if(!Dd(e)||Pd(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},BF=Vs("Date"),UF=Vs("File"),HF=Vs("Blob"),$F=Vs("FileList"),zF=e=>Dd(e)&&Br(e.pipe),WF=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Br(e.append)&&((t=ep(e))==="formdata"||t==="object"&&Br(e.toString)&&e.toString()==="[object FormData]"))},VF=Vs("URLSearchParams"),[YF,qF,GF,KF]=["ReadableStream","Request","Response","Headers"].map(Vs),QF=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Od(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Ic(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Pd(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let l;for(r=0;r<i;r++)l=a[r],t.call(null,e[l],l,e)}}function YC(e,t){if(Pd(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const gi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qC=e=>!cc(e)&&e!==gi;function bx(){const{caseless:e,skipUndefined:t}=qC(this)&&this||{},n={},r=(s,a)=>{const i=e&&YC(n,a)||a;Jf(n[i])&&Jf(s)?n[i]=bx(n[i],s):Jf(s)?n[i]=bx({},s):Ic(s)?n[i]=s.slice():(!t||!cc(s))&&(n[i]=s)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&Od(arguments[s],r);return n}const XF=(e,t,n,{allOwnKeys:r}={})=>(Od(t,(s,a)=>{n&&Br(s)?e[a]=$C(s,n):e[a]=s},{allOwnKeys:r}),e),ZF=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),JF=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},e8=(e,t,n,r)=>{let s,a,i;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)i=s[a],(!r||r(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=n!==!1&&jb(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},t8=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},n8=e=>{if(!e)return null;if(Ic(e))return e;let t=e.length;if(!VC(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},r8=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&jb(Uint8Array)),s8=(e,t)=>{const r=(e&&e[Jm]).call(e);let s;for(;(s=r.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},a8=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},o8=Vs("HTMLFormElement"),i8=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Kw=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),l8=Vs("RegExp"),GC=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Od(n,(s,a)=>{let i;(i=t(s,a,e))!==!1&&(r[a]=i||s)}),Object.defineProperties(e,r)},c8=e=>{GC(e,(t,n)=>{if(Br(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Br(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},u8=(e,t)=>{const n={},r=s=>{s.forEach(a=>{n[a]=!0})};return Ic(e)?r(e):r(String(e).split(t)),n},d8=()=>{},f8=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function h8(e){return!!(e&&Br(e.append)&&e[zC]==="FormData"&&e[Jm])}const m8=e=>{const t=new Array(10),n=(r,s)=>{if(Dd(r)){if(t.indexOf(r)>=0)return;if(Pd(r))return r;if(!("toJSON"in r)){t[s]=r;const a=Ic(r)?[]:{};return Od(r,(i,l)=>{const c=n(i,s+1);!cc(c)&&(a[l]=c)}),t[s]=void 0,a}}return r};return n(e,0)},p8=Vs("AsyncFunction"),g8=e=>e&&(Dd(e)||Br(e))&&Br(e.then)&&Br(e.catch),KC=((e,t)=>e?setImmediate:t?((n,r)=>(gi.addEventListener("message",({source:s,data:a})=>{s===gi&&a===n&&r.length&&r.shift()()},!1),s=>{r.push(s),gi.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Br(gi.postMessage)),x8=typeof queueMicrotask<"u"?queueMicrotask.bind(gi):typeof process<"u"&&process.nextTick||KC,y8=e=>e!=null&&Br(e[Jm]),se={isArray:Ic,isArrayBuffer:WC,isBuffer:Pd,isFormData:WF,isArrayBufferView:OF,isString:LF,isNumber:VC,isBoolean:MF,isObject:Dd,isPlainObject:Jf,isEmptyObject:FF,isReadableStream:YF,isRequest:qF,isResponse:GF,isHeaders:KF,isUndefined:cc,isDate:BF,isFile:UF,isBlob:HF,isRegExp:l8,isFunction:Br,isStream:zF,isURLSearchParams:VF,isTypedArray:r8,isFileList:$F,forEach:Od,merge:bx,extend:XF,trim:QF,stripBOM:ZF,inherits:JF,toFlatObject:e8,kindOf:ep,kindOfTest:Vs,endsWith:t8,toArray:n8,forEachEntry:s8,matchAll:a8,isHTMLForm:o8,hasOwnProperty:Kw,hasOwnProp:Kw,reduceDescriptors:GC,freezeMethods:c8,toObjectSet:u8,toCamelCase:i8,noop:d8,toFiniteNumber:f8,findKey:YC,global:gi,isContextDefined:qC,isSpecCompliantForm:h8,toJSONObject:m8,isAsyncFn:p8,isThenable:g8,setImmediate:KC,asap:x8,isIterable:y8};function et(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}se.inherits(et,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const QC=et.prototype,XC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{XC[e]={value:e}});Object.defineProperties(et,XC);Object.defineProperty(QC,"isAxiosError",{value:!0});et.from=(e,t,n,r,s,a)=>{const i=Object.create(QC);se.toFlatObject(e,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return et.call(i,l,c,n,r,s),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",a&&Object.assign(i,a),i};const b8=null;function vx(e){return se.isPlainObject(e)||se.isArray(e)}function ZC(e){return se.endsWith(e,"[]")?e.slice(0,-2):e}function Qw(e,t,n){return e?e.concat(t).map(function(s,a){return s=ZC(s),!n&&a?"["+s+"]":s}).join(n?".":""):t}function v8(e){return se.isArray(e)&&!e.some(vx)}const w8=se.toFlatObject(se,{},null,function(t){return/^is[A-Z]/.test(t)});function np(e,t,n){if(!se.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=se.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,w){return!se.isUndefined(w[y])});const r=n.metaTokens,s=n.visitor||d,a=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(t);if(!se.isFunction(s))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(se.isDate(g))return g.toISOString();if(se.isBoolean(g))return g.toString();if(!c&&se.isBlob(g))throw new et("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(g)||se.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,y,w){let v=g;if(g&&!w&&typeof g=="object"){if(se.endsWith(y,"{}"))y=r?y:y.slice(0,-2),g=JSON.stringify(g);else if(se.isArray(g)&&v8(g)||(se.isFileList(g)||se.endsWith(y,"[]"))&&(v=se.toArray(g)))return y=ZC(y),v.forEach(function(E,N){!(se.isUndefined(E)||E===null)&&t.append(i===!0?Qw([y],N,a):i===null?y:y+"[]",u(E))}),!1}return vx(g)?!0:(t.append(Qw(w,y,a),u(g)),!1)}const f=[],m=Object.assign(w8,{defaultVisitor:d,convertValue:u,isVisitable:vx});function p(g,y){if(!se.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(g),se.forEach(g,function(v,b){(!(se.isUndefined(v)||v===null)&&s.call(t,v,se.isString(b)?b.trim():b,y,m))===!0&&p(v,y?y.concat(b):[b])}),f.pop()}}if(!se.isObject(e))throw new TypeError("data must be an object");return p(e),t}function Xw(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Ib(e,t){this._pairs=[],e&&np(e,this,t)}const JC=Ib.prototype;JC.append=function(t,n){this._pairs.push([t,n])};JC.toString=function(t){const n=t?function(r){return t.call(this,r,Xw)}:Xw;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function E8(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function eA(e,t,n){if(!t)return e;const r=n&&n.encode||E8;se.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let a;if(s?a=s(t,n):a=se.isURLSearchParams(t)?t.toString():new Ib(t,n).toString(r),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Zw{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){se.forEach(this.handlers,function(r){r!==null&&t(r)})}}const tA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},N8=typeof URLSearchParams<"u"?URLSearchParams:Ib,T8=typeof FormData<"u"?FormData:null,S8=typeof Blob<"u"?Blob:null,k8={isBrowser:!0,classes:{URLSearchParams:N8,FormData:T8,Blob:S8},protocols:["http","https","file","blob","url","data"]},Rb=typeof window<"u"&&typeof document<"u",wx=typeof navigator=="object"&&navigator||void 0,C8=Rb&&(!wx||["ReactNative","NativeScript","NS"].indexOf(wx.product)<0),A8=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_8=Rb&&window.location.href||"http://localhost",j8=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Rb,hasStandardBrowserEnv:C8,hasStandardBrowserWebWorkerEnv:A8,navigator:wx,origin:_8},Symbol.toStringTag,{value:"Module"})),Qn={...j8,...k8};function I8(e,t){return np(e,new Qn.classes.URLSearchParams,{visitor:function(n,r,s,a){return Qn.isNode&&se.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function R8(e){return se.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function P8(e){const t={},n=Object.keys(e);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],t[a]=e[a];return t}function nA(e){function t(n,r,s,a){let i=n[a++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=a>=n.length;return i=!i&&se.isArray(s)?s.length:i,c?(se.hasOwnProp(s,i)?s[i]=[s[i],r]:s[i]=r,!l):((!s[i]||!se.isObject(s[i]))&&(s[i]=[]),t(n,r,s[i],a)&&se.isArray(s[i])&&(s[i]=P8(s[i])),!l)}if(se.isFormData(e)&&se.isFunction(e.entries)){const n={};return se.forEachEntry(e,(r,s)=>{t(R8(r),s,n,0)}),n}return null}function D8(e,t,n){if(se.isString(e))try{return(t||JSON.parse)(e),se.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Ld={transitional:tA,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,a=se.isObject(t);if(a&&se.isHTMLForm(t)&&(t=new FormData(t)),se.isFormData(t))return s?JSON.stringify(nA(t)):t;if(se.isArrayBuffer(t)||se.isBuffer(t)||se.isStream(t)||se.isFile(t)||se.isBlob(t)||se.isReadableStream(t))return t;if(se.isArrayBufferView(t))return t.buffer;if(se.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return I8(t,this.formSerializer).toString();if((l=se.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return np(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||s?(n.setContentType("application/json",!1),D8(t)):t}],transformResponse:[function(t){const n=this.transitional||Ld.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(se.isResponse(t)||se.isReadableStream(t))return t;if(t&&se.isString(t)&&(r&&!this.responseType||s)){const i=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?et.from(l,et.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qn.classes.FormData,Blob:Qn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],e=>{Ld.headers[e]={}});const O8=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),L8=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),n=i.substring(0,s).trim().toLowerCase(),r=i.substring(s+1).trim(),!(!n||t[n]&&O8[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Jw=Symbol("internals");function Zc(e){return e&&String(e).trim().toLowerCase()}function eh(e){return e===!1||e==null?e:se.isArray(e)?e.map(eh):String(e)}function M8(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const F8=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Sg(e,t,n,r,s){if(se.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!se.isString(t)){if(se.isString(r))return t.indexOf(r)!==-1;if(se.isRegExp(r))return r.test(t)}}function B8(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function U8(e,t){const n=se.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,a,i){return this[r].call(this,t,s,a,i)},configurable:!0})})}let Ur=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function a(l,c,u){const d=Zc(c);if(!d)throw new Error("header name must be a non-empty string");const f=se.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=eh(l))}const i=(l,c)=>se.forEach(l,(u,d)=>a(u,d,c));if(se.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(se.isString(t)&&(t=t.trim())&&!F8(t))i(L8(t),n);else if(se.isObject(t)&&se.isIterable(t)){let l={},c,u;for(const d of t){if(!se.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?se.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,n)}else t!=null&&a(n,t,r);return this}get(t,n){if(t=Zc(t),t){const r=se.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return M8(s);if(se.isFunction(n))return n.call(this,s,r);if(se.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Zc(t),t){const r=se.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Sg(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function a(i){if(i=Zc(i),i){const l=se.findKey(r,i);l&&(!n||Sg(r,r[l],l,n))&&(delete r[l],s=!0)}}return se.isArray(t)?t.forEach(a):a(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const a=n[r];(!t||Sg(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const n=this,r={};return se.forEach(this,(s,a)=>{const i=se.findKey(r,a);if(i){n[i]=eh(s),delete n[a];return}const l=t?B8(a):String(a).trim();l!==a&&delete n[a],n[l]=eh(s),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return se.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&se.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Jw]=this[Jw]={accessors:{}}).accessors,s=this.prototype;function a(i){const l=Zc(i);r[l]||(U8(s,i),r[l]=!0)}return se.isArray(t)?t.forEach(a):a(t),this}};Ur.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(Ur.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});se.freezeMethods(Ur);function kg(e,t){const n=this||Ld,r=t||n,s=Ur.from(r.headers);let a=r.data;return se.forEach(e,function(l){a=l.call(n,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function rA(e){return!!(e&&e.__CANCEL__)}function Rc(e,t,n){et.call(this,e??"canceled",et.ERR_CANCELED,t,n),this.name="CanceledError"}se.inherits(Rc,et,{__CANCEL__:!0});function sA(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new et("Request failed with status code "+n.status,[et.ERR_BAD_REQUEST,et.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function H8(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function $8(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,a=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[a];i||(i=u),n[s]=c,r[s]=u;let f=a,m=0;for(;f!==s;)m+=n[f++],f=f%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),u-i<t)return;const p=d&&u-d;return p?Math.round(m*1e3/p):void 0}}function z8(e,t){let n=0,r=1e3/t,s,a;const i=(u,d=Date.now())=>{n=d,s=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?i(u,d):(s=u,a||(a=setTimeout(()=>{a=null,i(s)},r-f)))},()=>s&&i(s)]}const Yh=(e,t,n=3)=>{let r=0;const s=$8(50,250);return z8(a=>{const i=a.loaded,l=a.lengthComputable?a.total:void 0,c=i-r,u=s(c),d=i<=l;r=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},n)},eE=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},tE=e=>(...t)=>se.asap(()=>e(...t)),W8=Qn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Qn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Qn.origin),Qn.navigator&&/(msie|trident)/i.test(Qn.navigator.userAgent)):()=>!0,V8=Qn.hasStandardBrowserEnv?{write(e,t,n,r,s,a){const i=[e+"="+encodeURIComponent(t)];se.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),se.isString(r)&&i.push("path="+r),se.isString(s)&&i.push("domain="+s),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Y8(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function q8(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function aA(e,t,n){let r=!Y8(t);return e&&(r||n==!1)?q8(e,t):t}const nE=e=>e instanceof Ur?{...e}:e;function Fi(e,t){t=t||{};const n={};function r(u,d,f,m){return se.isPlainObject(u)&&se.isPlainObject(d)?se.merge.call({caseless:m},u,d):se.isPlainObject(d)?se.merge({},d):se.isArray(d)?d.slice():d}function s(u,d,f,m){if(se.isUndefined(d)){if(!se.isUndefined(u))return r(void 0,u,f,m)}else return r(u,d,f,m)}function a(u,d){if(!se.isUndefined(d))return r(void 0,d)}function i(u,d){if(se.isUndefined(d)){if(!se.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,f){if(f in t)return r(u,d);if(f in e)return r(void 0,u)}const c={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>s(nE(u),nE(d),f,!0)};return se.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||s,m=f(e[d],t[d],d);se.isUndefined(m)&&f!==l||(n[d]=m)}),n}const oA=e=>{const t=Fi({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:i,auth:l}=t;if(t.headers=i=Ur.from(i),t.url=eA(aA(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),se.isFormData(n)){if(Qn.hasStandardBrowserEnv||Qn.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(se.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&i.set(d,f)})}}if(Qn.hasStandardBrowserEnv&&(r&&se.isFunction(r)&&(r=r(t)),r||r!==!1&&W8(t.url))){const c=s&&a&&V8.read(a);c&&i.set(s,c)}return t},G8=typeof XMLHttpRequest<"u",K8=G8&&function(e){return new Promise(function(n,r){const s=oA(e);let a=s.data;const i=Ur.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,f,m,p,g;function y(){p&&p(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function v(){if(!w)return;const E=Ur.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:E,config:e,request:w};sA(function(_){n(_),y()},function(_){r(_),y()},C),w=null}"onloadend"in w?w.onloadend=v:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(v)},w.onabort=function(){w&&(r(new et("Request aborted",et.ECONNABORTED,e,w)),w=null)},w.onerror=function(N){const C=N&&N.message?N.message:"Network Error",S=new et(C,et.ERR_NETWORK,e,w);S.event=N||null,r(S),w=null},w.ontimeout=function(){let N=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const C=s.transitional||tA;s.timeoutErrorMessage&&(N=s.timeoutErrorMessage),r(new et(N,C.clarifyTimeoutError?et.ETIMEDOUT:et.ECONNABORTED,e,w)),w=null},a===void 0&&i.setContentType(null),"setRequestHeader"in w&&se.forEach(i.toJSON(),function(N,C){w.setRequestHeader(C,N)}),se.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),l&&l!=="json"&&(w.responseType=s.responseType),u&&([m,g]=Yh(u,!0),w.addEventListener("progress",m)),c&&w.upload&&([f,p]=Yh(c),w.upload.addEventListener("progress",f),w.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(d=E=>{w&&(r(!E||E.type?new Rc(null,e,w):E),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const b=H8(s.url);if(b&&Qn.protocols.indexOf(b)===-1){r(new et("Unsupported protocol "+b+":",et.ERR_BAD_REQUEST,e));return}w.send(a||null)})},Q8=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const a=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof et?d:new Rc(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,a(new et(`timeout ${t} of ms exceeded`,et.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=r;return c.unsubscribe=()=>se.asap(l),c}},X8=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},Z8=async function*(e,t){for await(const n of J8(e))yield*X8(n,t)},J8=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},rE=(e,t,n,r)=>{const s=Z8(e,t);let a=0,i,l=c=>{i||(i=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let f=d.byteLength;if(n){let m=a+=f;n(m)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},sE=64*1024,{isFunction:Tf}=se,eB=(({Request:e,Response:t})=>({Request:e,Response:t}))(se.global),{ReadableStream:aE,TextEncoder:oE}=se.global,iE=(e,...t)=>{try{return!!e(...t)}catch{return!1}},tB=e=>{e=se.merge.call({skipUndefined:!0},eB,e);const{fetch:t,Request:n,Response:r}=e,s=t?Tf(t):typeof fetch=="function",a=Tf(n),i=Tf(r);if(!s)return!1;const l=s&&Tf(aE),c=s&&(typeof oE=="function"?(g=>y=>g.encode(y))(new oE):async g=>new Uint8Array(await new n(g).arrayBuffer())),u=a&&l&&iE(()=>{let g=!1;const y=new n(Qn.origin,{body:new aE,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!y}),d=i&&l&&iE(()=>se.isReadableStream(new r("").body)),f={stream:d&&(g=>g.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!f[g]&&(f[g]=(y,w)=>{let v=y&&y[g];if(v)return v.call(y);throw new et(`Response type '${g}' is not supported`,et.ERR_NOT_SUPPORT,w)})});const m=async g=>{if(g==null)return 0;if(se.isBlob(g))return g.size;if(se.isSpecCompliantForm(g))return(await new n(Qn.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(se.isArrayBufferView(g)||se.isArrayBuffer(g))return g.byteLength;if(se.isURLSearchParams(g)&&(g=g+""),se.isString(g))return(await c(g)).byteLength},p=async(g,y)=>{const w=se.toFiniteNumber(g.getContentLength());return w??m(y)};return async g=>{let{url:y,method:w,data:v,signal:b,cancelToken:E,timeout:N,onDownloadProgress:C,onUploadProgress:S,responseType:_,headers:H,withCredentials:V="same-origin",fetchOptions:k}=oA(g),$=t||fetch;_=_?(_+"").toLowerCase():"text";let I=Q8([b,E&&E.toAbortSignal()],N),Y=null;const P=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let L;try{if(S&&u&&w!=="get"&&w!=="head"&&(L=await p(H,v))!==0){let G=new n(y,{method:"POST",body:v,duplex:"half"}),ne;if(se.isFormData(v)&&(ne=G.headers.get("content-type"))&&H.setContentType(ne),G.body){const[A,W]=eE(L,Yh(tE(S)));v=rE(G.body,sE,A,W)}}se.isString(V)||(V=V?"include":"omit");const M=a&&"credentials"in n.prototype,K={...k,signal:I,method:w.toUpperCase(),headers:H.normalize().toJSON(),body:v,duplex:"half",credentials:M?V:void 0};Y=a&&new n(y,K);let F=await(a?$(Y,k):$(y,K));const D=d&&(_==="stream"||_==="response");if(d&&(C||D&&P)){const G={};["status","statusText","headers"].forEach(z=>{G[z]=F[z]});const ne=se.toFiniteNumber(F.headers.get("content-length")),[A,W]=C&&eE(ne,Yh(tE(C),!0))||[];F=new r(rE(F.body,sE,A,()=>{W&&W(),P&&P()}),G)}_=_||"text";let T=await f[se.findKey(f,_)||"text"](F,g);return!D&&P&&P(),await new Promise((G,ne)=>{sA(G,ne,{data:T,headers:Ur.from(F.headers),status:F.status,statusText:F.statusText,config:g,request:Y})})}catch(M){throw P&&P(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new et("Network Error",et.ERR_NETWORK,g,Y),{cause:M.cause||M}):et.from(M,M&&M.code,g,Y)}}},nB=new Map,iA=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:s}=t,a=[r,s,n];let i=a.length,l=i,c,u,d=nB;for(;l--;)c=a[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:tB(t)),d=u;return u};iA();const Ex={http:b8,xhr:K8,fetch:{get:iA}};se.forEach(Ex,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const lE=e=>`- ${e}`,rB=e=>se.isFunction(e)||e===null||e===!1,lA={getAdapter:(e,t)=>{e=se.isArray(e)?e:[e];const{length:n}=e;let r,s;const a={};for(let i=0;i<n;i++){r=e[i];let l;if(s=r,!rB(r)&&(s=Ex[(l=String(r)).toLowerCase()],s===void 0))throw new et(`Unknown adapter '${l}'`);if(s&&(se.isFunction(s)||(s=s.get(t))))break;a[l||"#"+i]=s}if(!s){const i=Object.entries(a).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?i.length>1?`since :
`+i.map(lE).join(`
`):" "+lE(i[0]):"as no adapter specified";throw new et("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:Ex};function Cg(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Rc(null,e)}function cE(e){return Cg(e),e.headers=Ur.from(e.headers),e.data=kg.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),lA.getAdapter(e.adapter||Ld.adapter,e)(e).then(function(r){return Cg(e),r.data=kg.call(e,e.transformResponse,r),r.headers=Ur.from(r.headers),r},function(r){return rA(r)||(Cg(e),r&&r.response&&(r.response.data=kg.call(e,e.transformResponse,r.response),r.response.headers=Ur.from(r.response.headers))),Promise.reject(r)})}const cA="1.12.2",rp={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{rp[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const uE={};rp.transitional=function(t,n,r){function s(a,i){return"[Axios v"+cA+"] Transitional option '"+a+"'"+i+(r?". "+r:"")}return(a,i,l)=>{if(t===!1)throw new et(s(i," has been removed"+(n?" in "+n:"")),et.ERR_DEPRECATED);return n&&!uE[i]&&(uE[i]=!0,console.warn(s(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,i,l):!0}};rp.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function sB(e,t,n){if(typeof e!="object")throw new et("options must be an object",et.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const a=r[s],i=t[a];if(i){const l=e[a],c=l===void 0||i(l,a,e);if(c!==!0)throw new et("option "+a+" must be "+c,et.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new et("Unknown option "+a,et.ERR_BAD_OPTION)}}const th={assertOptions:sB,validators:rp},Xs=th.validators;let Ai=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Zw,response:new Zw}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Fi(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:a}=n;r!==void 0&&th.assertOptions(r,{silentJSONParsing:Xs.transitional(Xs.boolean),forcedJSONParsing:Xs.transitional(Xs.boolean),clarifyTimeoutError:Xs.transitional(Xs.boolean)},!1),s!=null&&(se.isFunction(s)?n.paramsSerializer={serialize:s}:th.assertOptions(s,{encode:Xs.function,serialize:Xs.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),th.assertOptions(n,{baseUrl:Xs.spelling("baseURL"),withXsrfToken:Xs.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=a&&se.merge(a.common,a[n.method]);a&&se.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),n.headers=Ur.concat(i,a);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,f=0,m;if(!c){const g=[cE.bind(this),void 0];for(g.unshift(...l),g.push(...u),m=g.length,d=Promise.resolve(n);f<m;)d=d.then(g[f++],g[f++]);return d}m=l.length;let p=n;for(;f<m;){const g=l[f++],y=l[f++];try{p=g(p)}catch(w){y.call(this,w);break}}try{d=cE.call(this,p)}catch(g){return Promise.reject(g)}for(f=0,m=u.length;f<m;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=Fi(this.defaults,t);const n=aA(t.baseURL,t.url,t.allowAbsoluteUrls);return eA(n,t.params,t.paramsSerializer)}};se.forEach(["delete","get","head","options"],function(t){Ai.prototype[t]=function(n,r){return this.request(Fi(r||{},{method:t,url:n,data:(r||{}).data}))}});se.forEach(["post","put","patch"],function(t){function n(r){return function(a,i,l){return this.request(Fi(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}Ai.prototype[t]=n(),Ai.prototype[t+"Form"]=n(!0)});let aB=class uA{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(s=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](s);r._listeners=null}),this.promise.then=s=>{let a;const i=new Promise(l=>{r.subscribe(l),a=l}).then(s);return i.cancel=function(){r.unsubscribe(a)},i},t(function(a,i,l){r.reason||(r.reason=new Rc(a,i,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new uA(function(s){t=s}),cancel:t}}};function oB(e){return function(n){return e.apply(null,n)}}function iB(e){return se.isObject(e)&&e.isAxiosError===!0}const Nx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Nx).forEach(([e,t])=>{Nx[t]=e});function dA(e){const t=new Ai(e),n=$C(Ai.prototype.request,t);return se.extend(n,Ai.prototype,t,{allOwnKeys:!0}),se.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return dA(Fi(e,s))},n}const te=dA(Ld);te.Axios=Ai;te.CanceledError=Rc;te.CancelToken=aB;te.isCancel=rA;te.VERSION=cA;te.toFormData=np;te.AxiosError=et;te.Cancel=te.CanceledError;te.all=function(t){return Promise.all(t)};te.spread=oB;te.isAxiosError=iB;te.mergeConfig=Fi;te.AxiosHeaders=Ur;te.formToJSON=e=>nA(se.isHTMLForm(e)?new FormData(e):e);te.getAdapter=lA.getAdapter;te.HttpStatusCode=Nx;te.default=te;const{Axios:Wte,AxiosError:Vte,CanceledError:Yte,isCancel:qte,CancelToken:Gte,VERSION:Kte,all:Qte,Cancel:Xte,isAxiosError:Zte,spread:Jte,toFormData:ene,AxiosHeaders:tne,HttpStatusCode:nne,formToJSON:rne,getAdapter:sne,mergeConfig:ane}=te,Ss="http://localhost:5000/api",Ls={async getMicrosoftAuthUrl(){return(await te.get(`${Ss}/auth/microsoft`)).data.authUrl},async getCurrentUser(e){return(await te.get(`${Ss}/auth/me`,{headers:{Authorization:`Bearer ${e}`}})).data},async getUserHistory(e){return(await te.get(`${Ss}/auth/history`,{headers:{Authorization:`Bearer ${e}`}})).data},async logout(e){const t=localStorage.getItem("accessToken");await te.post(`${Ss}/auth/logout`,{refreshToken:e},{headers:{Authorization:`Bearer ${t}`}})},async login(e,t){return(await te.post(`${Ss}/auth/login`,{email:e,password:t})).data},async register({email:e,password:t}){return(await te.post(`${Ss}/auth/register`,{email:e,password:t})).data},async verifyRegistrationOtp(e,t){return(await te.post(`${Ss}/auth/register/verify-otp`,{email:e,otp:t})).data},async refreshToken(e){return(await te.post(`${Ss}/auth/refresh-token`,{token:e})).data},async forgotPassword(e){console.log("authService.forgotPassword called with email:",e),console.log("API URL:",`${Ss}/auth/forgot-password`);try{const t=await te.post(`${Ss}/auth/forgot-password`,{email:e});return console.log("forgotPassword API response:",t.data),t.data}catch(t){throw console.error("Error in authService.forgotPassword:",t),t}},async resetPassword(e,t,n){return(await te.post(`${Ss}/auth/reset-password`,{email:e,token:t,password:n})).data}},fA=h.createContext(void 0),Nn=()=>{const e=h.useContext(fA);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},dE=e=>{try{const t=fu(e);if(!t.exp)return!0;const n=Math.floor(Date.now()/1e3),r=5*60;return t.exp<n+r}catch{return!0}},lB=({children:e})=>{const[t,n]=h.useState(null),[r,s]=h.useState(!0),a=qt(),i=h.useRef(null),l=h.useMemo(()=>async d=>{const f=localStorage.getItem("refreshToken");if(f)try{await Ls.logout(f)}catch(m){console.error("Logout failed on server, clearing client-side session.",m)}n(null),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),delete te.defaults.headers.common.Authorization,i.current&&(clearInterval(i.current),i.current=null),a("/login"),d?O.error(d):O.success("Successfully logged out!")},[a]),c=async()=>{const d=localStorage.getItem("accessToken");if(!d){t&&await l("Session expired. Please log in again.");return}if(dE(d)){const f=localStorage.getItem("refreshToken");if(f)try{const{accessToken:m}=await Ls.refreshToken(f);localStorage.setItem("accessToken",m);const p=fu(m);n(p),te.defaults.headers.common.Authorization=`Bearer ${m}`}catch{await l("Session expired. Please log in again.")}else await l("Session expired. Please log in again.")}};h.useEffect(()=>{(async()=>{const m=localStorage.getItem("accessToken");if(m)try{if(dE(m)){const p=localStorage.getItem("refreshToken");if(p)try{const{accessToken:g}=await Ls.refreshToken(p);localStorage.setItem("accessToken",g);const y=fu(g);n(y),te.defaults.headers.common.Authorization=`Bearer ${g}`}catch{await l("Session expired. Please log in again."),s(!1);return}else{await l("Session expired. Please log in again."),s(!1);return}}else{const p=fu(m);n(p),te.defaults.headers.common.Authorization=`Bearer ${m}`}}catch{await l("Invalid session. Please log in again."),s(!1);return}s(!1)})();const f=te.interceptors.response.use(m=>m,async m=>{var g;const p=m.config;if(((g=m.response)==null?void 0:g.status)===401&&!p._retry){p._retry=!0;const y=localStorage.getItem("refreshToken");if(y)try{const{accessToken:w}=await Ls.refreshToken(y);return localStorage.setItem("accessToken",w),te.defaults.headers.common.Authorization=`Bearer ${w}`,p.headers.Authorization=`Bearer ${w}`,te(p)}catch(w){return await l("Session expired. Please log in again."),Promise.reject(w)}else await l("Session expired. Please log in again.")}return Promise.reject(m)});return t&&(i.current=setInterval(c,5*60*1e3)),()=>{te.interceptors.response.eject(f),i.current&&clearInterval(i.current)}},[l]);const u=(d,f)=>{try{const m=fu(d);localStorage.setItem("accessToken",d),localStorage.setItem("refreshToken",f),te.defaults.headers.common.Authorization=`Bearer ${d}`,n(m),i.current&&clearInterval(i.current),i.current=setInterval(c,5*60*1e3),a("/dashboard")}catch{O.error("Login failed. Invalid token received.")}};return o.jsx(fA.Provider,{value:{user:t,login:u,logout:l,isAuthenticated:!!t,loading:r},children:e})},Pb=Mm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Re=h.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},a)=>{const i=r?nk:"button";return o.jsx(i,{className:Oe(Pb({variant:t,size:n,className:e})),ref:a,...s})});Re.displayName="Button";const cB=Mm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function An({className:e,variant:t,...n}){return o.jsx("div",{className:Oe(cB({variant:t}),e),...n})}const Mn=[];for(let e=0;e<256;++e)Mn.push((e+256).toString(16).slice(1));function uB(e,t=0){return(Mn[e[t+0]]+Mn[e[t+1]]+Mn[e[t+2]]+Mn[e[t+3]]+"-"+Mn[e[t+4]]+Mn[e[t+5]]+"-"+Mn[e[t+6]]+Mn[e[t+7]]+"-"+Mn[e[t+8]]+Mn[e[t+9]]+"-"+Mn[e[t+10]]+Mn[e[t+11]]+Mn[e[t+12]]+Mn[e[t+13]]+Mn[e[t+14]]+Mn[e[t+15]]).toLowerCase()}let Ag;const dB=new Uint8Array(16);function fB(){if(!Ag){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ag=crypto.getRandomValues.bind(crypto)}return Ag(dB)}const hB=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),fE={randomUUID:hB};function hE(e,t,n){var s;if(fE.randomUUID&&!e)return fE.randomUUID();e=e||{};const r=e.random??((s=e.rng)==null?void 0:s.call(e))??fB();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,uB(r)}const Sf="chat_session",mE=20*60*1e3,aa={initializeSession(){const e=localStorage.getItem(Sf);if(e){const n=JSON.parse(e);if(Date.now()-n.lastActivity<mE)return{...n,resetOnInit:!1}}const t={id:`session_${hE()}`,lastActivity:Date.now(),resetOnInit:!0};return localStorage.setItem(Sf,JSON.stringify(t)),t},updateSessionActivity(e){const t={...e,lastActivity:Date.now()};return localStorage.setItem(Sf,JSON.stringify(t)),t},clearSession(){const e={id:`session_${hE()}`,lastActivity:Date.now(),resetOnInit:!0};return localStorage.setItem(Sf,JSON.stringify(e)),e},isSessionExpired(e){return Date.now()-e.lastActivity>mE}},Ve=()=>{try{const e=localStorage.getItem("accessToken");if(!e)return null;const n=JSON.parse(atob(e.split(".")[1])).domain||null,r=localStorage.getItem("currentWorkspace");return r||n}catch(e){return console.error("Error getting current workspace:",e),null}},mB=e=>{try{localStorage.setItem("currentWorkspace",e)}catch(t){console.error("Error setting current workspace:",t)}},pE=Object.freeze(Object.defineProperty({__proto__:null,getCurrentWorkspace:Ve,setCurrentWorkspace:mB},Symbol.toStringTag,{value:"Module"})),Se="http://localhost:5000/api",hA=()=>{try{return localStorage.getItem("sharedLinkToken")}catch{return null}};te.interceptors.request.use(e=>{const t=hA();return t&&(e.headers&&typeof e.headers.set=="function"?e.headers.set("x-link-token",t):e.headers={...e.headers,"x-link-token":t}),e});te.interceptors.response.use(e=>e,e=>{var t,n;try{const r=(t=e==null?void 0:e.response)==null?void 0:t.status,s=((n=e==null?void 0:e.config)==null?void 0:n.url)||"";!!hA()&&(s.includes("/shares/link/")&&(r===404||r===410)||r===403)&&localStorage.removeItem("sharedLinkToken")}catch{}return Promise.reject(e)});const ot=()=>{try{const e=localStorage.getItem("accessToken");return e&&JSON.parse(atob(e.split(".")[1])).domain||null}catch(e){return console.error("Error getting user domain:",e),null}},It={async getAll(e){const t=localStorage.getItem("accessToken"),n=ot(),r=Ve(),s=new URLSearchParams;n&&s.set("domain",n),e!=null&&e.directoryId&&s.set("directoryId",e.directoryId),e!=null&&e.includeDeleted&&s.set("includeDeleted","1");const a=s.toString(),i=a?`${Se}/documents?${a}`:`${Se}/documents`;return(await te.get(i,{headers:{Authorization:`Bearer ${t}`,...r&&{"x-workspace":r}}})).data},async getAllAdmin(){const e=localStorage.getItem("accessToken");console.log("Calling admin documents API with token:",e?"present":"missing");try{return(await te.get(`${Se}/documents/admin`,{headers:{Authorization:`Bearer ${e}`}})).data}catch(t){throw console.error("Admin documents API error:",t),t}},async getById(e,t){var n;try{const r=localStorage.getItem("accessToken"),s=ot(),a=Ve(),i=new URLSearchParams;s&&i.set("domain",s),t&&i.set("linkToken",t);const l=`${Se}/documents/${e}?${i.toString()}`;return(await te.get(l,{headers:{Authorization:`Bearer ${r}`,...a&&{"x-workspace":a}}})).data}catch(r){if(te.isAxiosError(r)&&((n=r.response)==null?void 0:n.status)===404){const a=(await this.getAll()).find(i=>i.namespace===e);if(a)return a}throw r}},async create(e){const t=localStorage.getItem("accessToken"),n=ot(),r=Ve(),s={id:e.id,name:e.name,namespace:e.namespace,domain:n};return e.status&&(s.status=e.status),e.uploadedAt&&(s.uploadedAt=e.uploadedAt),e.file&&(s.file=e.file),e.fileType&&(s.fileType=e.fileType),typeof e.directoryId<"u"&&(s.directoryId=e.directoryId===null?"root":e.directoryId),(await te.post(`${Se}/documents`,s,{headers:{Authorization:`Bearer ${t}`,...r&&{"x-workspace":r}}})).data},async update(e,t){const n=localStorage.getItem("accessToken"),r=ot(),s=Ve(),a=r?`${Se}/documents/${e}?domain=${encodeURIComponent(r)}`:`${Se}/documents/${e}`,i={...t};return typeof t.directoryId<"u"&&(i.directoryId=t.directoryId===null?"root":t.directoryId),(await te.put(a,i,{headers:{Authorization:`Bearer ${n}`,...s&&{"x-workspace":s}}})).data},async delete(e){const t=localStorage.getItem("accessToken"),n=ot(),r=Ve(),s=n?`${Se}/documents/${e}?domain=${encodeURIComponent(n)}`:`${Se}/documents/${e}`;return(await te.delete(s,{headers:{Authorization:`Bearer ${t}`,...r&&{"x-workspace":r}}})).data},async restore(e){const t=localStorage.getItem("accessToken"),n=ot(),r=n?`${Se}/documents/${e}/restore?domain=${encodeURIComponent(n)}`:`${Se}/documents/${e}/restore`;return(await te.post(r,null,{headers:{Authorization:`Bearer ${t}`}})).data},async checkExistingByNamespace(e){const t=localStorage.getItem("accessToken"),n=ot(),r=Ve(),s=n?`${Se}/documents/check-existing?namespace=${encodeURIComponent(e)}&domain=${encodeURIComponent(n)}`:`${Se}/documents/check-existing?namespace=${encodeURIComponent(e)}`;return(await te.get(s,{headers:{Authorization:`Bearer ${t}`,...r&&{"x-workspace":r}}})).data},async uploadRhp(e,t){const n=localStorage.getItem("accessToken"),r=Ve(),s=new FormData;return s.append("file",e),s.append("drhpId",t),s.append("namespace",e.name),(await te.post(`${Se}/documents/upload-rhp`,s,{headers:{Authorization:`Bearer ${n}`,"Content-Type":"multipart/form-data",...r&&{"x-workspace":r}}})).data},async getAvailableForCompare(e){const t=localStorage.getItem("accessToken"),n=ot(),r=Ve(),s=n?`${Se}/documents/available-for-compare/${e}?domain=${encodeURIComponent(n)}`:`${Se}/documents/available-for-compare/${e}`;return(await te.get(s,{headers:{Authorization:`Bearer ${t}`,...r&&{"x-workspace":r}}})).data},async linkForCompare(e,t){const n=localStorage.getItem("accessToken"),r=ot(),s=Ve(),a=r?`${Se}/documents/link-for-compare?domain=${encodeURIComponent(r)}`:`${Se}/documents/link-for-compare`;return(await te.post(a,{drhpId:e,rhpId:t},{headers:{Authorization:`Bearer ${n}`,...s&&{"x-workspace":s}}})).data},async unlinkForCompare(e){const t=localStorage.getItem("accessToken"),n=ot(),r=Ve(),s=n?`${Se}/documents/unlink-for-compare/${e}?domain=${encodeURIComponent(n)}`:`${Se}/documents/unlink-for-compare/${e}`;return(await te.delete(s,{headers:{Authorization:`Bearer ${t}`,...r&&{"x-workspace":r}}})).data}},Zr={async create(e,t){const n=localStorage.getItem("accessToken"),r=ot(),s=Ve(),a={name:e};typeof t<"u"&&(a.parentId=t===null?"root":t);const i=r?`${Se}/directories?domain=${encodeURIComponent(r)}`:`${Se}/directories`;return(await te.post(i,a,{headers:{Authorization:`Bearer ${n}`,...s&&{"x-workspace":s}}})).data},async getById(e){const t=localStorage.getItem("accessToken"),n=ot(),r=Ve(),s=n?`${Se}/directories/${e}?domain=${encodeURIComponent(n)}`:`${Se}/directories/${e}`;return(await te.get(s,{headers:{Authorization:`Bearer ${t}`,...r&&{"x-workspace":r}}})).data},async listChildren(e,t){const n=localStorage.getItem("accessToken"),r=ot(),s=new URLSearchParams;r&&s.set("domain",r),t!=null&&t.page&&s.set("page",String(t.page)),t!=null&&t.pageSize&&s.set("pageSize",String(t.pageSize)),t!=null&&t.sort&&s.set("sort",t.sort),t!=null&&t.order&&s.set("order",t.order),t!=null&&t.includeDeleted&&s.set("includeDeleted","1");const a=`${Se}/directories/${e}/children?${s.toString()}`;return(await te.get(a,{headers:{Authorization:`Bearer ${n}`,...Ve()&&{"x-workspace":Ve()}}})).data},async update(e,t){const n=localStorage.getItem("accessToken"),r=ot(),s={...t};typeof t.parentId<"u"&&(s.parentId=t.parentId===null?"root":t.parentId);const a=r?`${Se}/directories/${e}?domain=${encodeURIComponent(r)}`:`${Se}/directories/${e}`;return(await te.patch(a,s,{headers:{Authorization:`Bearer ${n}`,...Ve()&&{"x-workspace":Ve()}}})).data},async move(e,t){const n=localStorage.getItem("accessToken"),r=ot(),s={newParentId:typeof t>"u"?void 0:t===null?"root":t},a=r?`${Se}/directories/${e}/move?domain=${encodeURIComponent(r)}`:`${Se}/directories/${e}/move`;return(await te.post(a,s,{headers:{Authorization:`Bearer ${n}`,...Ve()&&{"x-workspace":Ve()}}})).data},async delete(e){const t=localStorage.getItem("accessToken"),n=ot(),r=n?`${Se}/directories/${e}?domain=${encodeURIComponent(n)}`:`${Se}/directories/${e}`;return(await te.delete(r,{headers:{Authorization:`Bearer ${t}`,...Ve()&&{"x-workspace":Ve()}}})).data},async softDelete(e){const t=localStorage.getItem("accessToken"),n=ot(),r=n?`${Se}/directories/${e}?domain=${encodeURIComponent(n)}`:`${Se}/directories/${e}`;return(await te.delete(r,{headers:{Authorization:`Bearer ${t}`}})).data},async restore(e){const t=localStorage.getItem("accessToken"),n=ot(),r=n?`${Se}/directories/${e}/restore?domain=${encodeURIComponent(n)}`:`${Se}/directories/${e}/restore`;return(await te.post(r,null,{headers:{Authorization:`Bearer ${t}`}})).data}},Io={async resolveTokenRole(){var t;const e=localStorage.getItem("sharedLinkToken");if(!e)return null;try{return((t=(await te.get(`${Se}/shares/link/${encodeURIComponent(e)}`)).data)==null?void 0:t.role)||null}catch{return null}},async list(e,t){const n=localStorage.getItem("accessToken"),r=ot(),s=new URLSearchParams({resourceType:e,resourceId:t});return r&&s.set("domain",r),(await te.get(`${Se}/shares?${s.toString()}`,{headers:{Authorization:`Bearer ${n}`}})).data},async create(e){const t=localStorage.getItem("accessToken"),n=ot(),r={...e};return n&&(r.domain=n),(await te.post(`${Se}/shares`,r,{headers:{Authorization:`Bearer ${t}`}})).data},async revoke(e){const t=localStorage.getItem("accessToken");return(await te.delete(`${Se}/shares/${e}`,{headers:{Authorization:`Bearer ${t}`}})).data},async createOrRotateLink(e,t,n,r){const s=localStorage.getItem("accessToken"),a=ot(),i={resourceType:e,resourceId:t,role:n};return r&&(i.expiresAt=r),a&&(i.domain=a),(await te.post(`${Se}/shares/link`,i,{headers:{Authorization:`Bearer ${s}`}})).data},async resolveLink(e){return(await te.get(`${Se}/shares/link/${encodeURIComponent(e)}`)).data}},mA={async list(e){const t=localStorage.getItem("accessToken"),n=ot(),r=new URLSearchParams;return n&&r.set("domain",n),e!=null&&e.page&&r.set("page",String(e.page)),e!=null&&e.pageSize&&r.set("pageSize",String(e.pageSize)),(await te.get(`${Se}/trash?${r.toString()}`,{headers:{Authorization:`Bearer ${t}`}})).data}},_a={async list(e){const t=localStorage.getItem("accessToken"),n=ot(),r=Ve(),s=new URLSearchParams;return n&&s.set("domain",n),e!=null&&e.unread&&s.set("unread","true"),e!=null&&e.page&&s.set("page",String(e.page)),e!=null&&e.pageSize&&s.set("pageSize",String(e.pageSize)),(await te.get(`${Se}/notifications?${s.toString()}`,{headers:{Authorization:`Bearer ${t}`,...r&&{"x-workspace":r}}})).data},async markRead(e){const t=localStorage.getItem("accessToken");return(await te.post(`${Se}/notifications/${e}/read`,null,{headers:{Authorization:`Bearer ${t}`}})).data},async markAllRead(){const e=localStorage.getItem("accessToken");return(await te.post(`${Se}/notifications/read-all`,null,{headers:{Authorization:`Bearer ${e}`}})).data},async delete(e){const t=localStorage.getItem("accessToken");return(await te.delete(`${Se}/notifications/${e}`,{headers:{Authorization:`Bearer ${t}`}})).data}},hr={getMine:async()=>{const e=localStorage.getItem("accessToken"),t=ot(),n=Ve(),r=t?`${Se}/chats?domain=${encodeURIComponent(t)}`:`${Se}/chats`;return(await te.get(r,{headers:{Authorization:`Bearer ${e}`,...n&&{"x-workspace":n}}})).data},getAllAdmin:async()=>{const e=localStorage.getItem("accessToken");return(await te.get(`${Se}/chats/admin`,{headers:{Authorization:`Bearer ${e}`}})).data},getStats:async()=>{const e=localStorage.getItem("accessToken");return(await te.get(`${Se}/chats/admin/stats`,{headers:{Authorization:`Bearer ${e}`}})).data},deleteAnyAdmin:async e=>{const t=localStorage.getItem("accessToken");return(await te.delete(`${Se}/chats/admin/${e}`,{headers:{Authorization:`Bearer ${t}`}})).data},getByDocumentId:async e=>{const t=localStorage.getItem("accessToken"),n=ot(),r=Ve(),s=n?`${Se}/chats/document/${e}?domain=${encodeURIComponent(n)}`:`${Se}/chats/document/${e}`;return(await te.get(s,{headers:{Authorization:`Bearer ${t}`,...r&&{"x-workspace":r}}})).data},create:async e=>{const t=localStorage.getItem("accessToken"),n=ot(),r=Ve(),s={...e,domain:n};return(await te.post(`${Se}/chats`,s,{headers:{Authorization:`Bearer ${t}`,...r&&{"x-workspace":r}}})).data},addMessage:async(e,t)=>{const n=localStorage.getItem("accessToken"),r=ot(),s=Ve(),a=r?`${Se}/chats/${e}/messages?domain=${encodeURIComponent(r)}`:`${Se}/chats/${e}/messages`;return(await te.post(a,t,{headers:{Authorization:`Bearer ${n}`,...s&&{"x-workspace":s}}})).data},update:async(e,t)=>{const n=localStorage.getItem("accessToken"),r=ot(),s=Ve(),a=r?`${Se}/chats/${e}?domain=${encodeURIComponent(r)}`:`${Se}/chats/${e}`;return(await te.put(a,t,{headers:{Authorization:`Bearer ${n}`,...s&&{"x-workspace":s}}})).data},delete:async e=>{const t=localStorage.getItem("accessToken"),n=ot(),r=Ve(),s=n?`${Se}/chats/${e}?domain=${encodeURIComponent(n)}`:`${Se}/chats/${e}`;return(await te.delete(s,{headers:{Authorization:`Bearer ${t}`,...r&&{"x-workspace":r}}})).data}},la={async getAll(){const e=localStorage.getItem("accessToken"),t=ot(),n=Ve(),r=t?`${Se}/reports?domain=${encodeURIComponent(t)}`:`${Se}/reports`;return(await te.get(r,{headers:{Authorization:`Bearer ${e}`,...n&&{"x-workspace":n}}})).data},async getAllAdmin(){const e=localStorage.getItem("accessToken");return(await te.get(`${Se}/reports/admin`,{headers:{Authorization:`Bearer ${e}`}})).data},async getById(e){const t=localStorage.getItem("accessToken"),n=ot(),r=Ve(),s=n?`${Se}/reports/${e}?domain=${encodeURIComponent(n)}`:`${Se}/reports/${e}`;return(await te.get(s,{headers:{Authorization:`Bearer ${t}`,...r&&{"x-workspace":r}}})).data},async createComparison(e,t,n){const r=localStorage.getItem("accessToken"),s=ot(),a=Ve(),i={drhpNamespace:e,rhpNamespace:t,domain:s,prompt:n||"Compare these documents and provide a detailed analysis"};return(await te.post(`${Se}/reports/create-report`,i,{headers:{Authorization:`Bearer ${r}`,...a&&{"x-workspace":a}}})).data},async create(e){const t=localStorage.getItem("accessToken"),n=ot(),r=Ve(),s={...e,domain:n};return(await te.post(`${Se}/reports`,s,{headers:{Authorization:`Bearer ${t}`,...r&&{"x-workspace":r}}})).data},async update(e,t){const n=localStorage.getItem("accessToken"),r=ot(),s=Ve(),a=r?`${Se}/reports/${e}?domain=${encodeURIComponent(r)}`:`${Se}/reports/${e}`;return(await te.put(a,t,{headers:{Authorization:`Bearer ${n}`,...s&&{"x-workspace":s}}})).data},async delete(e){var a;const t=localStorage.getItem("accessToken"),n=ot(),r=Ve(),s=n?`${Se}/reports/${e}?domain=${encodeURIComponent(n)}`:`${Se}/reports/${e}`;try{await te.delete(s,{headers:{Authorization:`Bearer ${t}`,...r&&{"x-workspace":r}}})}catch(i){if(te.isAxiosError(i)&&((a=i.response)==null?void 0:a.status)===404)return;throw i}},async downloadPdf(e){const t=localStorage.getItem("accessToken"),n=Ve();return(await te.get(`${Se}/reports/${e}/download-html-pdf`,{headers:{Authorization:`Bearer ${t}`,...n&&{"x-workspace":n}},responseType:"blob"})).data},async downloadDocx(e){const t=localStorage.getItem("accessToken"),n=Ve();try{const r=await te.get(`${Se}/reports/${e}/download-docx`,{headers:{Authorization:`Bearer ${t}`,...n&&{"x-workspace":n}},responseType:"blob",validateStatus:a=>a===200||a===503||a===500});if(r.status!==200){const a=await r.data.text();let i;try{i=JSON.parse(a)}catch{i={error:"Unknown error",message:a}}throw new Error(i.message||i.error||"Failed to generate DOCX")}if(r.data.type&&r.data.type!=="application/vnd.openxmlformats-officedocument.wordprocessingml.document"&&r.data.type!=="application/octet-stream"){const a=await r.data.text();let i;try{throw i=JSON.parse(a),new Error(i.message||i.error||"DOCX generation service unavailable")}catch{throw new Error("Invalid DOCX response from server")}}return r.data}catch(r){if(r.response&&r.response.data&&r.response.data instanceof Blob){const s=await r.response.data.text();try{const a=JSON.parse(s);throw new Error(a.message||a.error||"DOCX generation failed")}catch{throw new Error("DOCX generation service unavailable")}}throw r}},async downloadHtmlPdf(e){const t=localStorage.getItem("accessToken"),n=Ve();try{const r=await te.get(`${Se}/reports/${e}/download-html-pdf`,{headers:{Authorization:`Bearer ${t}`,...n&&{"x-workspace":n}},responseType:"blob",validateStatus:s=>s===200||s===503||s===500});if(r.status!==200){const s=await r.data.text();let a;try{a=JSON.parse(s)}catch{a={error:"Unknown error",message:s}}throw new Error(a.message||a.error||"Failed to generate PDF")}if(r.data.type&&r.data.type!=="application/pdf"){const s=await r.data.text();let a;try{throw a=JSON.parse(s),new Error(a.message||a.error||"PDF generation service unavailable")}catch{throw new Error("Invalid PDF response from server")}}return r.data}catch(r){if(r.response&&r.response.data&&r.response.data instanceof Blob){const s=await r.response.data.text();try{const a=JSON.parse(s);throw new Error(a.message||a.error||"PDF generation failed")}catch{throw new Error("PDF generation service unavailable")}}throw r}}},Pr={async getAll(){const e=localStorage.getItem("accessToken"),t=ot(),n=Ve(),r=t?`${Se}/summaries?domain=${encodeURIComponent(t)}`:`${Se}/summaries`;return(await te.get(r,{headers:{Authorization:`Bearer ${e}`,...n&&{"x-workspace":n}}})).data},async getAllAdmin(){const e=localStorage.getItem("accessToken");return(await te.get(`${Se}/summaries/admin`,{headers:{Authorization:`Bearer ${e}`}})).data},async getByDocumentId(e){const t=localStorage.getItem("accessToken"),n=ot(),r=Ve(),s=n?`${Se}/summaries/document/${e}?domain=${encodeURIComponent(n)}`:`${Se}/summaries/document/${e}`;return(await te.get(s,{headers:{Authorization:`Bearer ${t}`,...r&&{"x-workspace":r}}})).data},async create(e){const t=localStorage.getItem("accessToken"),n=ot(),r=Ve(),s={...e,domain:n};return(await te.post(`${Se}/summaries/create`,s,{headers:{Authorization:`Bearer ${t}`,...r&&{"x-workspace":r}}})).data},async update(e,t){const n=localStorage.getItem("accessToken"),r=ot(),s=Ve(),a=r?`${Se}/summaries/${e}?domain=${encodeURIComponent(r)}`:`${Se}/summaries/${e}`;return(await te.put(a,t,{headers:{Authorization:`Bearer ${n}`,...s&&{"x-workspace":s}}})).data},async delete(e){const t=localStorage.getItem("accessToken"),n=ot(),r=Ve(),s=n?`${Se}/summaries/${e}?domain=${encodeURIComponent(n)}`:`${Se}/summaries/${e}`;await te.delete(s,{headers:{Authorization:`Bearer ${t}`,...r&&{"x-workspace":r}}})},async downloadDocx(e){const t=localStorage.getItem("accessToken"),n=Ve();try{const r=await te.get(`${Se}/summaries/${e}/download-docx`,{headers:{Authorization:`Bearer ${t}`,...n&&{"x-workspace":n}},responseType:"blob",validateStatus:a=>a===200||a===503||a===500});if(r.status!==200){const a=await r.data.text();let i;try{i=JSON.parse(a)}catch{i={error:"Unknown error",message:a}}throw new Error(i.message||i.error||"Failed to generate DOCX")}if(r.data.type&&r.data.type!=="application/vnd.openxmlformats-officedocument.wordprocessingml.document"&&r.data.type!=="application/octet-stream"){const a=await r.data.text();let i;try{throw i=JSON.parse(a),new Error(i.message||i.error||"DOCX generation service unavailable")}catch{throw new Error("Invalid DOCX response from server")}}return r.data}catch(r){if(r.response&&r.response.data&&r.response.data instanceof Blob){const s=await r.response.data.text();try{const a=JSON.parse(s);throw new Error(a.message||a.error||"DOCX generation failed")}catch{throw new Error("DOCX generation service unavailable")}}throw r}},async downloadHtmlPdf(e){const t=localStorage.getItem("accessToken"),n=Ve();try{const r=await te.get(`${Se}/summaries/${e}/download-html-pdf`,{headers:{Authorization:`Bearer ${t}`,...n&&{"x-workspace":n}},responseType:"blob",validateStatus:s=>s===200||s===503||s===500});if(r.status!==200){const s=await r.data.text();let a;try{a=JSON.parse(s)}catch{a={error:"Unknown error",message:s}}throw new Error(a.message||a.error||"Failed to generate PDF")}if(r.data.type&&r.data.type!=="application/pdf"){const s=await r.data.text();let a;try{throw a=JSON.parse(s),new Error(a.message||a.error||"PDF generation service unavailable")}catch{throw new Error("Invalid PDF response from server")}}return r.data}catch(r){if(r.response&&r.response.data&&r.response.data instanceof Blob){const s=await r.response.data.text();try{const a=JSON.parse(s);throw new Error(a.message||a.error||"PDF generation failed")}catch{throw new Error("PDF generation service unavailable")}}throw r}}},pB=Object.freeze(Object.defineProperty({__proto__:null,chatService:hr,directoryService:Zr,documentService:It,notificationsService:_a,reportService:la,shareService:Io,summaryService:Pr,trashService:mA},Symbol.toStringTag,{value:"Module"})),gB="modulepreload",xB=function(e){return"/"+e},gE={},qh=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=xB(c),c in gE)return;gE[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":gB,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,p)=>{f.addEventListener("load",m),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},pA="http://localhost:5678",yB=`${pA}/webhook/3/summary`,bB=`${pA}/webhook/1/rhp/summary`,gA={async createSummary(e,t,n=[],r,s,a,i,l){try{const c=new URLSearchParams({message:e,session_id:t.id,conversation_history:JSON.stringify(n.map(f=>({role:f.type,content:f.text,timestamp:f.timestamp}))),timestamp:new Date().toISOString(),action:"summary"});i==="RHP"&&l?c.append("namespace",l):r&&c.append("namespace",r),s&&c.append("documentId",s),i&&c.append("documentType",i);try{const f=localStorage.getItem("accessToken");let m;if(f){const g=JSON.parse(atob(f.split(".")[1]));let y=g==null?void 0:g.domain;if(!y&&typeof(g==null?void 0:g.email)=="string"){const w=g.email.split("@");w.length===2&&(y=w[1].toLowerCase())}y&&c.append("domain",y),m=g==null?void 0:g.domainId}if(!m&&s)try{const{documentService:g}=await qh(async()=>{const{documentService:w}=await Promise.resolve().then(()=>pB);return{documentService:w}},void 0),y=await g.getById(s);y!=null&&y.domainId&&(m=y.domainId,console.log("Retrieved domainId from document:",m))}catch(g){console.warn("Could not fetch document to get domainId:",g)}m?c.append("domainId",m):console.warn("domainId not found in JWT token or document for summary request");const p=localStorage.getItem("currentWorkspace");p&&c.append("workspaceId",p)}catch(f){console.error("Error extracting domain/domainId from token:",f)}const u=i==="RHP"?bB:yB,d=await te.get(`${u}?${c.toString()}`,{headers:{"Content-Type":"application/json"},signal:a});return console.log("Execution-response",d),{executionId:d.data[0].executionId,status:d.data[0].status,documentId:d.data[0].documentId,response:d.data[0].response,memory_context:d.data[0].memory_context,error:d.data[0].error}}catch(c){return te.isCancel(c)?{response:[],error:"Request was canceled by the user."}:{response:[],error:c instanceof Error?c.message:"Unknown error"}}}},pa=Object.create(null);pa.open="0";pa.close="1";pa.ping="2";pa.pong="3";pa.message="4";pa.upgrade="5";pa.noop="6";const nh=Object.create(null);Object.keys(pa).forEach(e=>{nh[pa[e]]=e});const Tx={type:"error",data:"parser error"},xA=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",yA=typeof ArrayBuffer=="function",bA=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Db=({type:e,data:t},n,r)=>xA&&t instanceof Blob?n?r(t):xE(t,r):yA&&(t instanceof ArrayBuffer||bA(t))?n?r(t):xE(new Blob([t]),r):r(pa[e]+(t||"")),xE=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function yE(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let _g;function vB(e,t){if(xA&&e.data instanceof Blob)return e.data.arrayBuffer().then(yE).then(t);if(yA&&(e.data instanceof ArrayBuffer||bA(e.data)))return t(yE(e.data));Db(e,!1,n=>{_g||(_g=new TextEncoder),t(_g.encode(n))})}const bE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<bE.length;e++)hu[bE.charCodeAt(e)]=e;const wB=e=>{let t=e.length*.75,n=e.length,r,s=0,a,i,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),d=new Uint8Array(u);for(r=0;r<n;r+=4)a=hu[e.charCodeAt(r)],i=hu[e.charCodeAt(r+1)],l=hu[e.charCodeAt(r+2)],c=hu[e.charCodeAt(r+3)],d[s++]=a<<2|i>>4,d[s++]=(i&15)<<4|l>>2,d[s++]=(l&3)<<6|c&63;return u},EB=typeof ArrayBuffer=="function",Ob=(e,t)=>{if(typeof e!="string")return{type:"message",data:vA(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:NB(e.substring(1),t)}:nh[n]?e.length>1?{type:nh[n],data:e.substring(1)}:{type:nh[n]}:Tx},NB=(e,t)=>{if(EB){const n=wB(e);return vA(n,t)}else return{base64:!0,data:e}},vA=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},wA="",TB=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((a,i)=>{Db(a,!1,l=>{r[i]=l,++s===n&&t(r.join(wA))})})},SB=(e,t)=>{const n=e.split(wA),r=[];for(let s=0;s<n.length;s++){const a=Ob(n[s],t);if(r.push(a),a.type==="error")break}return r};function kB(){return new TransformStream({transform(e,t){vB(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const a=new DataView(s.buffer);a.setUint8(0,126),a.setUint16(1,r)}else{s=new Uint8Array(9);const a=new DataView(s.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let jg;function kf(e){return e.reduce((t,n)=>t+n.length,0)}function Cf(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function CB(e,t){jg||(jg=new TextDecoder);const n=[];let r=0,s=-1,a=!1;return new TransformStream({transform(i,l){for(n.push(i);;){if(r===0){if(kf(n)<1)break;const c=Cf(n,1);a=(c[0]&128)===128,s=c[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(kf(n)<2)break;const c=Cf(n,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(kf(n)<8)break;const c=Cf(n,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(Tx);break}s=d*Math.pow(2,32)+u.getUint32(4),r=3}else{if(kf(n)<s)break;const c=Cf(n,s);l.enqueue(Ob(a?c:jg.decode(c),t)),r=0}if(s===0||s>e){l.enqueue(Tx);break}}}})}const EA=4;function wn(e){if(e)return AB(e)}function AB(e){for(var t in wn.prototype)e[t]=wn.prototype[t];return e}wn.prototype.on=wn.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};wn.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};wn.prototype.off=wn.prototype.removeListener=wn.prototype.removeAllListeners=wn.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};wn.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};wn.prototype.emitReserved=wn.prototype.emit;wn.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};wn.prototype.hasListeners=function(e){return!!this.listeners(e).length};const sp=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),hs=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),_B="arraybuffer";function NA(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const jB=hs.setTimeout,IB=hs.clearTimeout;function ap(e,t){t.useNativeTimers?(e.setTimeoutFn=jB.bind(hs),e.clearTimeoutFn=IB.bind(hs)):(e.setTimeoutFn=hs.setTimeout.bind(hs),e.clearTimeoutFn=hs.clearTimeout.bind(hs))}const RB=1.33;function PB(e){return typeof e=="string"?DB(e):Math.ceil((e.byteLength||e.size)*RB)}function DB(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function TA(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function OB(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function LB(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let a=n[r].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class MB extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Lb extends wn{constructor(t){super(),this.writable=!1,ap(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new MB(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Ob(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=OB(t);return n.length?"?"+n:""}}class FB extends Lb{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};SB(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,TB(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=TA()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let SA=!1;try{SA=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const BB=SA;function UB(){}class HB extends FB{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,a)=>{this.onError("xhr post error",s,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class fa extends wn{constructor(t,n,r){super(),this.createRequest=t,ap(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=NA(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=fa.requestsCount++,fa.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=UB,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete fa.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}fa.requestsCount=0;fa.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",vE);else if(typeof addEventListener=="function"){const e="onpagehide"in hs?"pagehide":"unload";addEventListener(e,vE,!1)}}function vE(){for(let e in fa.requests)fa.requests.hasOwnProperty(e)&&fa.requests[e].abort()}const $B=function(){const e=kA({xdomain:!1});return e&&e.responseType!==null}();class zB extends HB{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=$B&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new fa(kA,this.uri(),t)}}function kA(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||BB))return new XMLHttpRequest}catch{}if(!t)try{return new hs[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const CA=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class WB extends Lb{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=CA?{}:NA(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;Db(r,this.supportsBinary,a=>{try{this.doWrite(r,a)}catch{}s&&sp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=TA()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const Ig=hs.WebSocket||hs.MozWebSocket;class VB extends WB{createSocket(t,n,r){return CA?new Ig(t,n,r):n?new Ig(t,n):new Ig(t)}doWrite(t,n){this.ws.send(n)}}class YB extends Lb{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=CB(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=kB();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const a=()=>{r.read().then(({done:l,value:c})=>{l||(this.onPacket(c),a())}).catch(l=>{})};a();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this._writer.write(i).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this._writer.write(r).then(()=>{s&&sp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const qB={websocket:VB,webtransport:YB,polling:zB},GB=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,KB=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Sx(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=GB.exec(e||""),a={},i=14;for(;i--;)a[KB[i]]=s[i]||"";return n!=-1&&r!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=QB(a,a.path),a.queryKey=XB(a,a.query),a}function QB(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function XB(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,a){s&&(n[s]=a)}),n}const kx=typeof addEventListener=="function"&&typeof removeEventListener=="function",rh=[];kx&&addEventListener("offline",()=>{rh.forEach(e=>e())},!1);class Ro extends wn{constructor(t,n){if(super(),this.binaryType=_B,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=Sx(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=Sx(n.host).host);ap(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=LB(this.opts.query)),kx&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},rh.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=EA,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Ro.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Ro.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=PB(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,sp(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const a={type:t,data:n,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(Ro.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),kx&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=rh.indexOf(this._offlineEventListener);r!==-1&&rh.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}Ro.protocol=EA;class ZB extends Ro{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;Ro.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Ro.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=n.name,this.emitReserved("upgradeError",m)}}))};function a(){r||(r=!0,d(),n.close(),n=null)}const i=f=>{const m=new Error("probe error: "+f);m.transport=n.name,a(),this.emitReserved("upgradeError",m)};function l(){i("transport closed")}function c(){i("socket closed")}function u(f){n&&f.name!==n.name&&a()}const d=()=>{n.removeListener("open",s),n.removeListener("error",i),n.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};n.once("open",s),n.once("error",i),n.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let JB=class extends ZB{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>qB[s]).filter(s=>!!s)),super(t,r)}};function e9(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=Sx(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+t,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}const t9=typeof ArrayBuffer=="function",n9=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,AA=Object.prototype.toString,r9=typeof Blob=="function"||typeof Blob<"u"&&AA.call(Blob)==="[object BlobConstructor]",s9=typeof File=="function"||typeof File<"u"&&AA.call(File)==="[object FileConstructor]";function Mb(e){return t9&&(e instanceof ArrayBuffer||n9(e))||r9&&e instanceof Blob||s9&&e instanceof File}function sh(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(sh(e[n]))return!0;return!1}if(Mb(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return sh(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&sh(e[n]))return!0;return!1}function a9(e){const t=[],n=e.data,r=e;return r.data=Cx(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Cx(e,t){if(!e)return e;if(Mb(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Cx(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Cx(e[r],t));return n}return e}function o9(e,t){return e.data=Ax(e.data,t),delete e.attachments,e}function Ax(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Ax(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Ax(e[n],t));return e}const i9=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],l9=5;var pt;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(pt||(pt={}));class c9{constructor(t){this.replacer=t}encode(t){return(t.type===pt.EVENT||t.type===pt.ACK)&&sh(t)?this.encodeAsBinary({type:t.type===pt.EVENT?pt.BINARY_EVENT:pt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===pt.BINARY_EVENT||t.type===pt.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=a9(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function wE(e){return Object.prototype.toString.call(e)==="[object Object]"}class Fb extends wn{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===pt.BINARY_EVENT;r||n.type===pt.BINARY_ACK?(n.type=r?pt.EVENT:pt.ACK,this.reconstructor=new u9(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Mb(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(pt[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===pt.BINARY_EVENT||r.type===pt.BINARY_ACK){const a=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const i=t.substring(a,n);if(i!=Number(i)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(i)}if(t.charAt(n+1)==="/"){const a=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(a,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const a=n+1;for(;++n;){const i=t.charAt(n);if(i==null||Number(i)!=i){--n;break}if(n===t.length)break}r.id=Number(t.substring(a,n+1))}if(t.charAt(++n)){const a=this.tryParse(t.substr(n));if(Fb.isPayloadValid(r.type,a))r.data=a;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case pt.CONNECT:return wE(n);case pt.DISCONNECT:return n===void 0;case pt.CONNECT_ERROR:return typeof n=="string"||wE(n);case pt.EVENT:case pt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&i9.indexOf(n[0])===-1);case pt.ACK:case pt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class u9{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=o9(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const d9=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Fb,Encoder:c9,get PacketType(){return pt},protocol:l9},Symbol.toStringTag,{value:"Module"}));function Rs(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const f9=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class _A extends wn{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Rs(t,"open",this.onopen.bind(this)),Rs(t,"packet",this.onpacket.bind(this)),Rs(t,"error",this.onerror.bind(this)),Rs(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,s,a;if(f9.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const i={type:pt.EVENT,data:n};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,f=n.pop();this._registerAckCallback(d,f),i.id=d}const l=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},s),i=(...l)=>{this.io.clearTimeoutFn(a),n.apply(this,l)};i.withError=!0,this.acks[t]=i}emitWithAck(t,...n){return new Promise((r,s)=>{const a=(i,l)=>i?s(i):r(l);a.withError=!0,n.push(a),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...a)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...a)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:pt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case pt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case pt.EVENT:case pt.BINARY_EVENT:this.onevent(t);break;case pt.ACK:case pt.BINARY_ACK:this.onack(t);break;case pt.DISCONNECT:this.ondisconnect();break;case pt.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:pt.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:pt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Pc(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Pc.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Pc.prototype.reset=function(){this.attempts=0};Pc.prototype.setMin=function(e){this.ms=e};Pc.prototype.setMax=function(e){this.max=e};Pc.prototype.setJitter=function(e){this.jitter=e};class _x extends wn{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,ap(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Pc({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||d9;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new JB(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=Rs(n,"open",function(){r.onopen(),t&&t()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},i=Rs(n,"error",a);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{s(),a(new Error("timeout")),n.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Rs(t,"ping",this.onping.bind(this)),Rs(t,"data",this.ondata.bind(this)),Rs(t,"error",this.onerror.bind(this)),Rs(t,"close",this.onclose.bind(this)),Rs(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){sp(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new _A(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Jc={};function Bl(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=e9(e,t.path||"/socket.io"),r=n.source,s=n.id,a=n.path,i=Jc[s]&&a in Jc[s].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||i;let c;return l?c=new _x(r,t):(Jc[s]||(Jc[s]=new _x(r,t)),c=Jc[s]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(Bl,{Manager:_x,Socket:_A,io:Bl,connect:Bl});function EE(e){const t=[],n=String(e||"");let r=n.indexOf(","),s=0,a=!1;for(;!a;){r===-1&&(r=n.length,a=!0);const i=n.slice(s,r).trim();(i||!a)&&t.push(i),s=r+1,r=n.indexOf(",",s)}return t}function jA(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const h9=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,m9=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,p9={};function NE(e,t){return(p9.jsx?m9:h9).test(e)}const g9=/[ \t\n\f\r]/g;function x9(e){return typeof e=="object"?e.type==="text"?TE(e.value):!1:TE(e)}function TE(e){return e.replace(g9,"")===""}class Md{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Md.prototype.normal={};Md.prototype.property={};Md.prototype.space=void 0;function IA(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new Md(n,r,t)}function dd(e){return e.toLowerCase()}class Hr{constructor(t,n){this.attribute=n,this.property=t}}Hr.prototype.attribute="";Hr.prototype.booleanish=!1;Hr.prototype.boolean=!1;Hr.prototype.commaOrSpaceSeparated=!1;Hr.prototype.commaSeparated=!1;Hr.prototype.defined=!1;Hr.prototype.mustUseProperty=!1;Hr.prototype.number=!1;Hr.prototype.overloadedBoolean=!1;Hr.prototype.property="";Hr.prototype.spaceSeparated=!1;Hr.prototype.space=void 0;let y9=0;const rt=Ki(),gn=Ki(),jx=Ki(),we=Ki(),Dt=Ki(),Ul=Ki(),zr=Ki();function Ki(){return 2**++y9}const Ix=Object.freeze(Object.defineProperty({__proto__:null,boolean:rt,booleanish:gn,commaOrSpaceSeparated:zr,commaSeparated:Ul,number:we,overloadedBoolean:jx,spaceSeparated:Dt},Symbol.toStringTag,{value:"Module"})),Rg=Object.keys(Ix);class Bb extends Hr{constructor(t,n,r,s){let a=-1;if(super(t,n),SE(this,"space",s),typeof r=="number")for(;++a<Rg.length;){const i=Rg[a];SE(this,Rg[a],(r&Ix[i])===Ix[i])}}}Bb.prototype.defined=!0;function SE(e,t,n){n&&(e[t]=n)}function Dc(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const a=new Bb(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[dd(r)]=r,n[dd(a.attribute)]=r}return new Md(t,n,e.space)}const RA=Dc({properties:{ariaActiveDescendant:null,ariaAtomic:gn,ariaAutoComplete:null,ariaBusy:gn,ariaChecked:gn,ariaColCount:we,ariaColIndex:we,ariaColSpan:we,ariaControls:Dt,ariaCurrent:null,ariaDescribedBy:Dt,ariaDetails:null,ariaDisabled:gn,ariaDropEffect:Dt,ariaErrorMessage:null,ariaExpanded:gn,ariaFlowTo:Dt,ariaGrabbed:gn,ariaHasPopup:null,ariaHidden:gn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Dt,ariaLevel:we,ariaLive:null,ariaModal:gn,ariaMultiLine:gn,ariaMultiSelectable:gn,ariaOrientation:null,ariaOwns:Dt,ariaPlaceholder:null,ariaPosInSet:we,ariaPressed:gn,ariaReadOnly:gn,ariaRelevant:null,ariaRequired:gn,ariaRoleDescription:Dt,ariaRowCount:we,ariaRowIndex:we,ariaRowSpan:we,ariaSelected:gn,ariaSetSize:we,ariaSort:null,ariaValueMax:we,ariaValueMin:we,ariaValueNow:we,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function PA(e,t){return t in e?e[t]:t}function DA(e,t){return PA(e,t.toLowerCase())}const b9=Dc({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ul,acceptCharset:Dt,accessKey:Dt,action:null,allow:null,allowFullScreen:rt,allowPaymentRequest:rt,allowUserMedia:rt,alt:null,as:null,async:rt,autoCapitalize:null,autoComplete:Dt,autoFocus:rt,autoPlay:rt,blocking:Dt,capture:null,charSet:null,checked:rt,cite:null,className:Dt,cols:we,colSpan:null,content:null,contentEditable:gn,controls:rt,controlsList:Dt,coords:we|Ul,crossOrigin:null,data:null,dateTime:null,decoding:null,default:rt,defer:rt,dir:null,dirName:null,disabled:rt,download:jx,draggable:gn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:rt,formTarget:null,headers:Dt,height:we,hidden:jx,high:we,href:null,hrefLang:null,htmlFor:Dt,httpEquiv:Dt,id:null,imageSizes:null,imageSrcSet:null,inert:rt,inputMode:null,integrity:null,is:null,isMap:rt,itemId:null,itemProp:Dt,itemRef:Dt,itemScope:rt,itemType:Dt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:rt,low:we,manifest:null,max:null,maxLength:we,media:null,method:null,min:null,minLength:we,multiple:rt,muted:rt,name:null,nonce:null,noModule:rt,noValidate:rt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:rt,optimum:we,pattern:null,ping:Dt,placeholder:null,playsInline:rt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:rt,referrerPolicy:null,rel:Dt,required:rt,reversed:rt,rows:we,rowSpan:we,sandbox:Dt,scope:null,scoped:rt,seamless:rt,selected:rt,shadowRootClonable:rt,shadowRootDelegatesFocus:rt,shadowRootMode:null,shape:null,size:we,sizes:null,slot:null,span:we,spellCheck:gn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:we,step:null,style:null,tabIndex:we,target:null,title:null,translate:null,type:null,typeMustMatch:rt,useMap:null,value:gn,width:we,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Dt,axis:null,background:null,bgColor:null,border:we,borderColor:null,bottomMargin:we,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:rt,declare:rt,event:null,face:null,frame:null,frameBorder:null,hSpace:we,leftMargin:we,link:null,longDesc:null,lowSrc:null,marginHeight:we,marginWidth:we,noResize:rt,noHref:rt,noShade:rt,noWrap:rt,object:null,profile:null,prompt:null,rev:null,rightMargin:we,rules:null,scheme:null,scrolling:gn,standby:null,summary:null,text:null,topMargin:we,valueType:null,version:null,vAlign:null,vLink:null,vSpace:we,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:rt,disableRemotePlayback:rt,prefix:null,property:null,results:we,security:null,unselectable:null},space:"html",transform:DA}),v9=Dc({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:zr,accentHeight:we,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:we,amplitude:we,arabicForm:null,ascent:we,attributeName:null,attributeType:null,azimuth:we,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:we,by:null,calcMode:null,capHeight:we,className:Dt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:we,diffuseConstant:we,direction:null,display:null,dur:null,divisor:we,dominantBaseline:null,download:rt,dx:null,dy:null,edgeMode:null,editable:null,elevation:we,enableBackground:null,end:null,event:null,exponent:we,externalResourcesRequired:null,fill:null,fillOpacity:we,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ul,g2:Ul,glyphName:Ul,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:we,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:we,horizOriginX:we,horizOriginY:we,id:null,ideographic:we,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:we,k:we,k1:we,k2:we,k3:we,k4:we,kernelMatrix:zr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:we,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:we,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:we,overlineThickness:we,paintOrder:null,panose1:null,path:null,pathLength:we,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Dt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:we,pointsAtY:we,pointsAtZ:we,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:zr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:zr,rev:zr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:zr,requiredFeatures:zr,requiredFonts:zr,requiredFormats:zr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:we,specularExponent:we,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:we,strikethroughThickness:we,string:null,stroke:null,strokeDashArray:zr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:we,strokeOpacity:we,strokeWidth:null,style:null,surfaceScale:we,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:zr,tabIndex:we,tableValues:null,target:null,targetX:we,targetY:we,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:zr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:we,underlineThickness:we,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:we,values:null,vAlphabetic:we,vMathematical:we,vectorEffect:null,vHanging:we,vIdeographic:we,version:null,vertAdvY:we,vertOriginX:we,vertOriginY:we,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:we,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:PA}),OA=Dc({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),LA=Dc({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:DA}),MA=Dc({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),w9={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},E9=/[A-Z]/g,kE=/-[a-z]/g,N9=/^data[-\w.:]+$/i;function op(e,t){const n=dd(t);let r=t,s=Hr;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&N9.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(kE,S9);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!kE.test(a)){let i=a.replace(E9,T9);i.charAt(0)!=="-"&&(i="-"+i),t="data"+i}}s=Bb}return new s(r,t)}function T9(e){return"-"+e.toLowerCase()}function S9(e){return e.charAt(1).toUpperCase()}const Fd=IA([RA,b9,OA,LA,MA],"html"),Jo=IA([RA,v9,OA,LA,MA],"svg");function CE(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function FA(e){return e.join(" ").trim()}var Ub={},AE=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,k9=/\n/g,C9=/^\s*/,A9=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,_9=/^:\s*/,j9=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,I9=/^[;\s]*/,R9=/^\s+|\s+$/g,P9=`
`,_E="/",jE="*",fi="",D9="comment",O9="declaration",L9=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function s(g){var y=g.match(k9);y&&(n+=y.length);var w=g.lastIndexOf(P9);r=~w?g.length-w:r+g.length}function a(){var g={line:n,column:r};return function(y){return y.position=new i(g),u(),y}}function i(g){this.start=g,this.end={line:n,column:r},this.source=t.source}i.prototype.content=e;function l(g){var y=new Error(t.source+":"+n+":"+r+": "+g);if(y.reason=g,y.filename=t.source,y.line=n,y.column=r,y.source=e,!t.silent)throw y}function c(g){var y=g.exec(e);if(y){var w=y[0];return s(w),e=e.slice(w.length),y}}function u(){c(C9)}function d(g){var y;for(g=g||[];y=f();)y!==!1&&g.push(y);return g}function f(){var g=a();if(!(_E!=e.charAt(0)||jE!=e.charAt(1))){for(var y=2;fi!=e.charAt(y)&&(jE!=e.charAt(y)||_E!=e.charAt(y+1));)++y;if(y+=2,fi===e.charAt(y-1))return l("End of comment missing");var w=e.slice(2,y-2);return r+=2,s(w),e=e.slice(y),r+=2,g({type:D9,comment:w})}}function m(){var g=a(),y=c(A9);if(y){if(f(),!c(_9))return l("property missing ':'");var w=c(j9),v=g({type:O9,property:IE(y[0].replace(AE,fi)),value:w?IE(w[0].replace(AE,fi)):fi});return c(I9),v}}function p(){var g=[];d(g);for(var y;y=m();)y!==!1&&(g.push(y),d(g));return g}return u(),p()};function IE(e){return e?e.replace(R9,fi):fi}var M9=dh&&dh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ub,"__esModule",{value:!0});Ub.default=B9;var F9=M9(L9);function B9(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,F9.default)(e),s=typeof t=="function";return r.forEach(function(a){if(a.type==="declaration"){var i=a.property,l=a.value;s?t(i,l,a):l&&(n=n||{},n[i]=l)}}),n}var ip={};Object.defineProperty(ip,"__esModule",{value:!0});ip.camelCase=void 0;var U9=/^--[a-zA-Z0-9_-]+$/,H9=/-([a-z])/g,$9=/^[^-]+$/,z9=/^-(webkit|moz|ms|o|khtml)-/,W9=/^-(ms)-/,V9=function(e){return!e||$9.test(e)||U9.test(e)},Y9=function(e,t){return t.toUpperCase()},RE=function(e,t){return"".concat(t,"-")},q9=function(e,t){return t===void 0&&(t={}),V9(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(W9,RE):e=e.replace(z9,RE),e.replace(H9,Y9))};ip.camelCase=q9;var G9=dh&&dh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},K9=G9(Ub),Q9=ip;function Rx(e,t){var n={};return!e||typeof e!="string"||(0,K9.default)(e,function(r,s){r&&s&&(n[(0,Q9.camelCase)(r,t)]=s)}),n}Rx.default=Rx;var X9=Rx;const Z9=gm(X9),lp=BA("end"),ya=BA("start");function BA(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function J9(e){const t=ya(e),n=lp(e);if(t&&n)return{start:t,end:n}}function Au(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?PE(e.position):"start"in e||"end"in e?PE(e):"line"in e||"column"in e?Px(e):""}function Px(e){return DE(e&&e.line)+":"+DE(e&&e.column)}function PE(e){return Px(e&&e.start)+"-"+Px(e&&e.end)}function DE(e){return e&&typeof e=="number"?e:1}class sr extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",a={},i=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?s=t:!a.cause&&t&&(i=!0,s=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?a.ruleId=r:(a.source=r.slice(0,c),a.ruleId=r.slice(c+1))}if(!a.place&&a.ancestors&&a.ancestors){const c=a.ancestors[a.ancestors.length-1];c&&(a.place=c.position)}const l=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=l?l.line:void 0,this.name=Au(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=i&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}sr.prototype.file="";sr.prototype.name="";sr.prototype.reason="";sr.prototype.message="";sr.prototype.stack="";sr.prototype.column=void 0;sr.prototype.line=void 0;sr.prototype.ancestors=void 0;sr.prototype.cause=void 0;sr.prototype.fatal=void 0;sr.prototype.place=void 0;sr.prototype.ruleId=void 0;sr.prototype.source=void 0;const Hb={}.hasOwnProperty,e7=new Map,t7=/[A-Z]/g,n7=new Set(["table","tbody","thead","tfoot","tr"]),r7=new Set(["td","th"]),UA="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function s7(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=f7(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=d7(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Jo:Fd,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=HA(s,e,void 0);return a&&typeof a!="string"?a:s.create(e,s.Fragment,{children:a||void 0},void 0)}function HA(e,t,n){if(t.type==="element")return a7(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return o7(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return l7(e,t,n);if(t.type==="mdxjsEsm")return i7(e,t);if(t.type==="root")return c7(e,t,n);if(t.type==="text")return u7(e,t)}function a7(e,t,n){const r=e.schema;let s=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=Jo,e.schema=s),e.ancestors.push(t);const a=zA(e,t.tagName,!1),i=h7(e,t);let l=zb(e,t);return n7.has(t.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!x9(c):!0})),$A(e,i,a,t),$b(i,l),e.ancestors.pop(),e.schema=r,e.create(t,a,i,n)}function o7(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}fd(e,t.position)}function i7(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);fd(e,t.position)}function l7(e,t,n){const r=e.schema;let s=r;t.name==="svg"&&r.space==="html"&&(s=Jo,e.schema=s),e.ancestors.push(t);const a=t.name===null?e.Fragment:zA(e,t.name,!0),i=m7(e,t),l=zb(e,t);return $A(e,i,a,t),$b(i,l),e.ancestors.pop(),e.schema=r,e.create(t,a,i,n)}function c7(e,t,n){const r={};return $b(r,zb(e,t)),e.create(t,e.Fragment,r,n)}function u7(e,t){return t.value}function $A(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function $b(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function d7(e,t,n){return r;function r(s,a,i,l){const u=Array.isArray(i.children)?n:t;return l?u(a,i,l):u(a,i)}}function f7(e,t){return n;function n(r,s,a,i){const l=Array.isArray(a.children),c=ya(r);return t(s,a,i,l,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function h7(e,t){const n={};let r,s;for(s in t.properties)if(s!=="children"&&Hb.call(t.properties,s)){const a=p7(e,s,t.properties[s]);if(a){const[i,l]=a;e.tableCellAlignToStyle&&i==="align"&&typeof l=="string"&&r7.has(t.tagName)?r=l:n[i]=l}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function m7(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const i=a.expression;i.type;const l=i.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else fd(e,t.position);else{const s=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,a=e.evaluater.evaluateExpression(l.expression)}else fd(e,t.position);else a=r.value===null?!0:r.value;n[s]=a}return n}function zb(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:e7;for(;++r<t.children.length;){const a=t.children[r];let i;if(e.passKeys){const c=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(c){const u=s.get(c)||0;i=c+"-"+u,s.set(c,u+1)}}const l=HA(e,a,i);l!==void 0&&n.push(l)}return n}function p7(e,t,n){const r=op(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?jA(n):FA(n)),r.property==="style"){let s=typeof n=="object"?n:g7(e,String(n));return e.stylePropertyNameCase==="css"&&(s=x7(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&r.space?w9[r.property]||r.property:r.attribute,n]}}function g7(e,t){try{return Z9(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,s=new sr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=UA+"#cannot-parse-style-attribute",s}}function zA(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let a=-1,i;for(;++a<s.length;){const l=NE(s[a])?{type:"Identifier",name:s[a]}:{type:"Literal",value:s[a]};i=i?{type:"MemberExpression",object:i,property:l,computed:!!(a&&l.type==="Literal"),optional:!1}:l}r=i}else r=NE(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const s=r.value;return Hb.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(r);fd(e)}function fd(e,t){const n=new sr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=UA+"#cannot-handle-mdx-estrees-without-createevaluater",n}function x7(e){const t={};let n;for(n in e)Hb.call(e,n)&&(t[y7(n)]=e[n]);return t}function y7(e){let t=e.replace(t7,b7);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function b7(e){return"-"+e.toLowerCase()}const Pg={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},v7={};function Wb(e,t){const n=v7,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return WA(e,r,s)}function WA(e,t,n){if(w7(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return OE(e.children,t,n)}return Array.isArray(e)?OE(e,t,n):""}function OE(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=WA(e[s],t,n);return r.join("")}function w7(e){return!!(e&&typeof e=="object")}const LE=document.createElement("i");function Vb(e){const t="&"+e+";";LE.innerHTML=t;const n=LE.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function ts(e,t,n,r){const s=e.length;let a=0,i;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,r.length<1e4)i=Array.from(r),i.unshift(t,n),e.splice(...i);else for(n&&e.splice(t,n);a<r.length;)i=r.slice(a,a+1e4),i.unshift(t,0),e.splice(...i),a+=1e4,t+=1e4}function ms(e,t){return e.length>0?(ts(e,e.length,0,t),e):t}const ME={}.hasOwnProperty;function VA(e){const t={};let n=-1;for(;++n<e.length;)E7(t,e[n]);return t}function E7(e,t){let n;for(n in t){const s=(ME.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let i;if(a)for(i in a){ME.call(s,i)||(s[i]=[]);const l=a[i];N7(s[i],Array.isArray(l)?l:l?[l]:[])}}}function N7(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ts(e,0,0,r)}function YA(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Us(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const gr=ei(/[A-Za-z]/),Xn=ei(/[\dA-Za-z]/),T7=ei(/[#-'*+\--9=?A-Z^-~]/);function Gh(e){return e!==null&&(e<32||e===127)}const Dx=ei(/\d/),S7=ei(/[\dA-Fa-f]/),k7=ei(/[!-/:-@[-`{-~]/);function ze(e){return e!==null&&e<-2}function Rt(e){return e!==null&&(e<0||e===32)}function ut(e){return e===-2||e===-1||e===32}const cp=ei(new RegExp("\\p{P}|\\p{S}","u")),Bi=ei(/\s/);function ei(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Oc(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const a=e.charCodeAt(n);let i="";if(a===37&&Xn(e.charCodeAt(n+1))&&Xn(e.charCodeAt(n+2)))s=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(i=String.fromCharCode(a));else if(a>55295&&a<57344){const l=e.charCodeAt(n+1);a<56320&&l>56319&&l<57344?(i=String.fromCharCode(a,l),s=1):i=""}else i=String.fromCharCode(a);i&&(t.push(e.slice(r,n),encodeURIComponent(i)),r=n+s+1,i=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function yt(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let a=0;return i;function i(c){return ut(c)?(e.enter(n),l(c)):t(c)}function l(c){return ut(c)&&a++<s?(e.consume(c),l):(e.exit(n),t(c))}}const C7={tokenize:A7};function A7(e){const t=e.attempt(this.parser.constructs.contentInitial,r,s);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),yt(e,t,"linePrefix")}function s(l){return e.enter("paragraph"),a(l)}function a(l){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,i(l)}function i(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return ze(l)?(e.consume(l),e.exit("chunkText"),a):(e.consume(l),i)}}const _7={tokenize:j7},FE={tokenize:I7};function j7(e){const t=this,n=[];let r=0,s,a,i;return l;function l(E){if(r<n.length){const N=n[r];return t.containerState=N[1],e.attempt(N[0].continuation,c,u)(E)}return u(E)}function c(E){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&b();const N=t.events.length;let C=N,S;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){S=t.events[C][1].end;break}v(r);let _=N;for(;_<t.events.length;)t.events[_][1].end={...S},_++;return ts(t.events,C+1,0,t.events.slice(N)),t.events.length=_,u(E)}return l(E)}function u(E){if(r===n.length){if(!s)return m(E);if(s.currentConstruct&&s.currentConstruct.concrete)return g(E);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(FE,d,f)(E)}function d(E){return s&&b(),v(r),m(E)}function f(E){return t.parser.lazy[t.now().line]=r!==n.length,i=t.now().offset,g(E)}function m(E){return t.containerState={},e.attempt(FE,p,g)(E)}function p(E){return r++,n.push([t.currentConstruct,t.containerState]),m(E)}function g(E){if(E===null){s&&b(),v(0),e.consume(E);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:a}),y(E)}function y(E){if(E===null){w(e.exit("chunkFlow"),!0),v(0),e.consume(E);return}return ze(E)?(e.consume(E),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(E),y)}function w(E,N){const C=t.sliceStream(E);if(N&&C.push(null),E.previous=a,a&&(a.next=E),a=E,s.defineSkip(E.start),s.write(C),t.parser.lazy[E.start.line]){let S=s.events.length;for(;S--;)if(s.events[S][1].start.offset<i&&(!s.events[S][1].end||s.events[S][1].end.offset>i))return;const _=t.events.length;let H=_,V,k;for(;H--;)if(t.events[H][0]==="exit"&&t.events[H][1].type==="chunkFlow"){if(V){k=t.events[H][1].end;break}V=!0}for(v(r),S=_;S<t.events.length;)t.events[S][1].end={...k},S++;ts(t.events,H+1,0,t.events.slice(_)),t.events.length=S}}function v(E){let N=n.length;for(;N-- >E;){const C=n[N];t.containerState=C[1],C[0].exit.call(t,e)}n.length=E}function b(){s.write([null]),a=void 0,s=void 0,t.containerState._closeFlow=void 0}}function I7(e,t,n){return yt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function uc(e){if(e===null||Rt(e)||Bi(e))return 1;if(cp(e))return 2}function up(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const a=e[s].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const Ox={name:"attention",resolveAll:R7,tokenize:P7};function R7(e,t){let n=-1,r,s,a,i,l,c,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},m={...e[n][1].start};BE(f,-c),BE(m,c),i={type:c>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:m},a={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},s={type:c>1?"strong":"emphasis",start:{...i.start},end:{...l.end}},e[r][1].end={...i.start},e[n][1].start={...l.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=ms(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=ms(u,[["enter",s,t],["enter",i,t],["exit",i,t],["enter",a,t]]),u=ms(u,up(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=ms(u,[["exit",a,t],["enter",l,t],["exit",l,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=ms(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,ts(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function P7(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=uc(r);let a;return i;function i(c){return a=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===a)return e.consume(c),l;const u=e.exit("attentionSequence"),d=uc(c),f=!d||d===2&&s||n.includes(c),m=!s||s===2&&d||n.includes(r);return u._open=!!(a===42?f:f&&(s||!m)),u._close=!!(a===42?m:m&&(d||!f)),t(c)}}function BE(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const D7={name:"autolink",tokenize:O7};function O7(e,t,n){let r=0;return s;function s(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(p){return gr(p)?(e.consume(p),i):p===64?n(p):u(p)}function i(p){return p===43||p===45||p===46||Xn(p)?(r=1,l(p)):u(p)}function l(p){return p===58?(e.consume(p),r=0,c):(p===43||p===45||p===46||Xn(p))&&r++<32?(e.consume(p),l):(r=0,u(p))}function c(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||Gh(p)?n(p):(e.consume(p),c)}function u(p){return p===64?(e.consume(p),d):T7(p)?(e.consume(p),u):n(p)}function d(p){return Xn(p)?f(p):n(p)}function f(p){return p===46?(e.consume(p),r=0,d):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):m(p)}function m(p){if((p===45||Xn(p))&&r++<63){const g=p===45?m:f;return e.consume(p),g}return n(p)}}const Bd={partial:!0,tokenize:L7};function L7(e,t,n){return r;function r(a){return ut(a)?yt(e,s,"linePrefix")(a):s(a)}function s(a){return a===null||ze(a)?t(a):n(a)}}const qA={continuation:{tokenize:F7},exit:B7,name:"blockQuote",tokenize:M7};function M7(e,t,n){const r=this;return s;function s(i){if(i===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(i),e.exit("blockQuoteMarker"),a}return n(i)}function a(i){return ut(i)?(e.enter("blockQuotePrefixWhitespace"),e.consume(i),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(i))}}function F7(e,t,n){const r=this;return s;function s(i){return ut(i)?yt(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i):a(i)}function a(i){return e.attempt(qA,t,n)(i)}}function B7(e){e.exit("blockQuote")}const GA={name:"characterEscape",tokenize:U7};function U7(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),s}function s(a){return k7(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const KA={name:"characterReference",tokenize:H7};function H7(e,t,n){const r=this;let s=0,a,i;return l;function l(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),c}function c(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,i=Xn,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,i=S7,d):(e.enter("characterReferenceValue"),a=7,i=Dx,d(f))}function d(f){if(f===59&&s){const m=e.exit("characterReferenceValue");return i===Xn&&!Vb(r.sliceSerialize(m))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return i(f)&&s++<a?(e.consume(f),d):n(f)}}const UE={partial:!0,tokenize:z7},HE={concrete:!0,name:"codeFenced",tokenize:$7};function $7(e,t,n){const r=this,s={partial:!0,tokenize:C};let a=0,i=0,l;return c;function c(S){return u(S)}function u(S){const _=r.events[r.events.length-1];return a=_&&_[1].type==="linePrefix"?_[2].sliceSerialize(_[1],!0).length:0,l=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(S)}function d(S){return S===l?(i++,e.consume(S),d):i<3?n(S):(e.exit("codeFencedFenceSequence"),ut(S)?yt(e,f,"whitespace")(S):f(S))}function f(S){return S===null||ze(S)?(e.exit("codeFencedFence"),r.interrupt?t(S):e.check(UE,y,N)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),m(S))}function m(S){return S===null||ze(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(S)):ut(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),yt(e,p,"whitespace")(S)):S===96&&S===l?n(S):(e.consume(S),m)}function p(S){return S===null||ze(S)?f(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(S))}function g(S){return S===null||ze(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(S)):S===96&&S===l?n(S):(e.consume(S),g)}function y(S){return e.attempt(s,N,w)(S)}function w(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),v}function v(S){return a>0&&ut(S)?yt(e,b,"linePrefix",a+1)(S):b(S)}function b(S){return S===null||ze(S)?e.check(UE,y,N)(S):(e.enter("codeFlowValue"),E(S))}function E(S){return S===null||ze(S)?(e.exit("codeFlowValue"),b(S)):(e.consume(S),E)}function N(S){return e.exit("codeFenced"),t(S)}function C(S,_,H){let V=0;return k;function k(L){return S.enter("lineEnding"),S.consume(L),S.exit("lineEnding"),$}function $(L){return S.enter("codeFencedFence"),ut(L)?yt(S,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):I(L)}function I(L){return L===l?(S.enter("codeFencedFenceSequence"),Y(L)):H(L)}function Y(L){return L===l?(V++,S.consume(L),Y):V>=i?(S.exit("codeFencedFenceSequence"),ut(L)?yt(S,P,"whitespace")(L):P(L)):H(L)}function P(L){return L===null||ze(L)?(S.exit("codeFencedFence"),_(L)):H(L)}}}function z7(e,t,n){const r=this;return s;function s(i){return i===null?n(i):(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),a)}function a(i){return r.parser.lazy[r.now().line]?n(i):t(i)}}const Dg={name:"codeIndented",tokenize:V7},W7={partial:!0,tokenize:Y7};function V7(e,t,n){const r=this;return s;function s(u){return e.enter("codeIndented"),yt(e,a,"linePrefix",5)(u)}function a(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?i(u):n(u)}function i(u){return u===null?c(u):ze(u)?e.attempt(W7,i,c)(u):(e.enter("codeFlowValue"),l(u))}function l(u){return u===null||ze(u)?(e.exit("codeFlowValue"),i(u)):(e.consume(u),l)}function c(u){return e.exit("codeIndented"),t(u)}}function Y7(e,t,n){const r=this;return s;function s(i){return r.parser.lazy[r.now().line]?n(i):ze(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),s):yt(e,a,"linePrefix",5)(i)}function a(i){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(i):ze(i)?s(i):n(i)}}const q7={name:"codeText",previous:K7,resolve:G7,tokenize:Q7};function G7(e){let t=e.length-4,n=3,r,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)s===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(s=r):(r===t||e[r][1].type==="lineEnding")&&(e[s][1].type="codeTextData",r!==s+2&&(e[s][1].end=e[r-1][1].end,e.splice(s+2,r-s-2),t-=r-s-2,r=s+2),s=void 0);return e}function K7(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Q7(e,t,n){let r=0,s,a;return i;function i(f){return e.enter("codeText"),e.enter("codeTextSequence"),l(f)}function l(f){return f===96?(e.consume(f),r++,l):(e.exit("codeTextSequence"),c(f))}function c(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),c):f===96?(a=e.enter("codeTextSequence"),s=0,d(f)):ze(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||ze(f)?(e.exit("codeTextData"),c(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),s++,d):s===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",u(f))}}class X7{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const s=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&eu(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),eu(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),eu(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);eu(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);eu(this.left,n.reverse())}}}function eu(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function QA(e){const t={};let n=-1,r,s,a,i,l,c,u;const d=new X7(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,a=0,a<c.length&&c[a][1].type==="lineEndingBlank"&&(a+=2),a<c.length&&c[a][1].type==="content"))for(;++a<c.length&&c[a][1].type!=="content";)c[a][1].type==="chunkText"&&(c[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Z7(d,n)),n=t[n],u=!0);else if(r[1]._container){for(a=n,s=void 0;a--;)if(i=d.get(a),i[1].type==="lineEnding"||i[1].type==="lineEndingBlank")i[0]==="enter"&&(s&&(d.get(s)[1].type="lineEndingBlank"),i[1].type="lineEnding",s=a);else if(!(i[1].type==="linePrefix"||i[1].type==="listItemIndent"))break;s&&(r[1].end={...d.get(s)[1].start},l=d.slice(s,n),l.unshift(r),d.splice(s,n-s+1,l))}}return ts(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function Z7(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const a=[];let i=n._tokenizer;i||(i=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(i._contentTypeTextTrailing=!0));const l=i.events,c=[],u={};let d,f,m=-1,p=n,g=0,y=0;const w=[y];for(;p;){for(;e.get(++s)[1]!==p;);a.push(s),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),f&&i.defineSkip(p.start),p._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=!0),i.write(d),p._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=n;++m<l.length;)l[m][0]==="exit"&&l[m-1][0]==="enter"&&l[m][1].type===l[m-1][1].type&&l[m][1].start.line!==l[m][1].end.line&&(y=m+1,w.push(y),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(i.events=[],p?(p._tokenizer=void 0,p.previous=void 0):w.pop(),m=w.length;m--;){const v=l.slice(w[m],w[m+1]),b=a.pop();c.push([b,b+v.length-1]),e.splice(b,2,v)}for(c.reverse(),m=-1;++m<c.length;)u[g+c[m][0]]=g+c[m][1],g+=c[m][1]-c[m][0]-1;return u}const J7={resolve:tU,tokenize:nU},eU={partial:!0,tokenize:rU};function tU(e){return QA(e),e}function nU(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(l)}function s(l){return l===null?a(l):ze(l)?e.check(eU,i,a)(l):(e.consume(l),s)}function a(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function i(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function rU(e,t,n){const r=this;return s;function s(i){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),yt(e,a,"linePrefix")}function a(i){if(i===null||ze(i))return n(i);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}}function XA(e,t,n,r,s,a,i,l,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return f;function f(v){return v===60?(e.enter(r),e.enter(s),e.enter(a),e.consume(v),e.exit(a),m):v===null||v===32||v===41||Gh(v)?n(v):(e.enter(r),e.enter(i),e.enter(l),e.enter("chunkString",{contentType:"string"}),y(v))}function m(v){return v===62?(e.enter(a),e.consume(v),e.exit(a),e.exit(s),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===62?(e.exit("chunkString"),e.exit(l),m(v)):v===null||v===60||ze(v)?n(v):(e.consume(v),v===92?g:p)}function g(v){return v===60||v===62||v===92?(e.consume(v),p):p(v)}function y(v){return!d&&(v===null||v===41||Rt(v))?(e.exit("chunkString"),e.exit(l),e.exit(i),e.exit(r),t(v)):d<u&&v===40?(e.consume(v),d++,y):v===41?(e.consume(v),d--,y):v===null||v===32||v===40||Gh(v)?n(v):(e.consume(v),v===92?w:y)}function w(v){return v===40||v===41||v===92?(e.consume(v),y):y(v)}}function ZA(e,t,n,r,s,a){const i=this;let l=0,c;return u;function u(p){return e.enter(r),e.enter(s),e.consume(p),e.exit(s),e.enter(a),d}function d(p){return l>999||p===null||p===91||p===93&&!c||p===94&&!l&&"_hiddenFootnoteSupport"in i.parser.constructs?n(p):p===93?(e.exit(a),e.enter(s),e.consume(p),e.exit(s),e.exit(r),t):ze(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||ze(p)||l++>999?(e.exit("chunkString"),d(p)):(e.consume(p),c||(c=!ut(p)),p===92?m:f)}function m(p){return p===91||p===92||p===93?(e.consume(p),l++,f):f(p)}}function JA(e,t,n,r,s,a){let i;return l;function l(m){return m===34||m===39||m===40?(e.enter(r),e.enter(s),e.consume(m),e.exit(s),i=m===40?41:m,c):n(m)}function c(m){return m===i?(e.enter(s),e.consume(m),e.exit(s),e.exit(r),t):(e.enter(a),u(m))}function u(m){return m===i?(e.exit(a),c(i)):m===null?n(m):ze(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),yt(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===i||m===null||ze(m)?(e.exit("chunkString"),u(m)):(e.consume(m),m===92?f:d)}function f(m){return m===i||m===92?(e.consume(m),d):d(m)}}function _u(e,t){let n;return r;function r(s){return ze(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r):ut(s)?yt(e,r,n?"linePrefix":"lineSuffix")(s):t(s)}}const sU={name:"definition",tokenize:oU},aU={partial:!0,tokenize:iU};function oU(e,t,n){const r=this;let s;return a;function a(p){return e.enter("definition"),i(p)}function i(p){return ZA.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function l(p){return s=Us(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),c):n(p)}function c(p){return Rt(p)?_u(e,u)(p):u(p)}function u(p){return XA(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return e.attempt(aU,f,f)(p)}function f(p){return ut(p)?yt(e,m,"whitespace")(p):m(p)}function m(p){return p===null||ze(p)?(e.exit("definition"),r.parser.defined.push(s),t(p)):n(p)}}function iU(e,t,n){return r;function r(l){return Rt(l)?_u(e,s)(l):n(l)}function s(l){return JA(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function a(l){return ut(l)?yt(e,i,"whitespace")(l):i(l)}function i(l){return l===null||ze(l)?t(l):n(l)}}const lU={name:"hardBreakEscape",tokenize:cU};function cU(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),s}function s(a){return ze(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const uU={name:"headingAtx",resolve:dU,tokenize:fU};function dU(e,t){let n=e.length-2,r=3,s,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ts(e,r,n-r+1,[["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t]])),e}function fU(e,t,n){let r=0;return s;function s(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),i(d)}function i(d){return d===35&&r++<6?(e.consume(d),i):d===null||Rt(d)?(e.exit("atxHeadingSequence"),l(d)):n(d)}function l(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||ze(d)?(e.exit("atxHeading"),t(d)):ut(d)?yt(e,l,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),l(d))}function u(d){return d===null||d===35||Rt(d)?(e.exit("atxHeadingText"),l(d)):(e.consume(d),u)}}const hU=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],$E=["pre","script","style","textarea"],mU={concrete:!0,name:"htmlFlow",resolveTo:xU,tokenize:yU},pU={partial:!0,tokenize:vU},gU={partial:!0,tokenize:bU};function xU(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function yU(e,t,n){const r=this;let s,a,i,l,c;return u;function u(A){return d(A)}function d(A){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(A),f}function f(A){return A===33?(e.consume(A),m):A===47?(e.consume(A),a=!0,y):A===63?(e.consume(A),s=3,r.interrupt?t:T):gr(A)?(e.consume(A),i=String.fromCharCode(A),w):n(A)}function m(A){return A===45?(e.consume(A),s=2,p):A===91?(e.consume(A),s=5,l=0,g):gr(A)?(e.consume(A),s=4,r.interrupt?t:T):n(A)}function p(A){return A===45?(e.consume(A),r.interrupt?t:T):n(A)}function g(A){const W="CDATA[";return A===W.charCodeAt(l++)?(e.consume(A),l===W.length?r.interrupt?t:I:g):n(A)}function y(A){return gr(A)?(e.consume(A),i=String.fromCharCode(A),w):n(A)}function w(A){if(A===null||A===47||A===62||Rt(A)){const W=A===47,z=i.toLowerCase();return!W&&!a&&$E.includes(z)?(s=1,r.interrupt?t(A):I(A)):hU.includes(i.toLowerCase())?(s=6,W?(e.consume(A),v):r.interrupt?t(A):I(A)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(A):a?b(A):E(A))}return A===45||Xn(A)?(e.consume(A),i+=String.fromCharCode(A),w):n(A)}function v(A){return A===62?(e.consume(A),r.interrupt?t:I):n(A)}function b(A){return ut(A)?(e.consume(A),b):k(A)}function E(A){return A===47?(e.consume(A),k):A===58||A===95||gr(A)?(e.consume(A),N):ut(A)?(e.consume(A),E):k(A)}function N(A){return A===45||A===46||A===58||A===95||Xn(A)?(e.consume(A),N):C(A)}function C(A){return A===61?(e.consume(A),S):ut(A)?(e.consume(A),C):E(A)}function S(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(e.consume(A),c=A,_):ut(A)?(e.consume(A),S):H(A)}function _(A){return A===c?(e.consume(A),c=null,V):A===null||ze(A)?n(A):(e.consume(A),_)}function H(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||Rt(A)?C(A):(e.consume(A),H)}function V(A){return A===47||A===62||ut(A)?E(A):n(A)}function k(A){return A===62?(e.consume(A),$):n(A)}function $(A){return A===null||ze(A)?I(A):ut(A)?(e.consume(A),$):n(A)}function I(A){return A===45&&s===2?(e.consume(A),M):A===60&&s===1?(e.consume(A),K):A===62&&s===4?(e.consume(A),G):A===63&&s===3?(e.consume(A),T):A===93&&s===5?(e.consume(A),D):ze(A)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(pU,ne,Y)(A)):A===null||ze(A)?(e.exit("htmlFlowData"),Y(A)):(e.consume(A),I)}function Y(A){return e.check(gU,P,ne)(A)}function P(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),L}function L(A){return A===null||ze(A)?Y(A):(e.enter("htmlFlowData"),I(A))}function M(A){return A===45?(e.consume(A),T):I(A)}function K(A){return A===47?(e.consume(A),i="",F):I(A)}function F(A){if(A===62){const W=i.toLowerCase();return $E.includes(W)?(e.consume(A),G):I(A)}return gr(A)&&i.length<8?(e.consume(A),i+=String.fromCharCode(A),F):I(A)}function D(A){return A===93?(e.consume(A),T):I(A)}function T(A){return A===62?(e.consume(A),G):A===45&&s===2?(e.consume(A),T):I(A)}function G(A){return A===null||ze(A)?(e.exit("htmlFlowData"),ne(A)):(e.consume(A),G)}function ne(A){return e.exit("htmlFlow"),t(A)}}function bU(e,t,n){const r=this;return s;function s(i){return ze(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),a):n(i)}function a(i){return r.parser.lazy[r.now().line]?n(i):t(i)}}function vU(e,t,n){return r;function r(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(Bd,t,n)}}const wU={name:"htmlText",tokenize:EU};function EU(e,t,n){const r=this;let s,a,i;return l;function l(T){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(T),c}function c(T){return T===33?(e.consume(T),u):T===47?(e.consume(T),C):T===63?(e.consume(T),E):gr(T)?(e.consume(T),H):n(T)}function u(T){return T===45?(e.consume(T),d):T===91?(e.consume(T),a=0,g):gr(T)?(e.consume(T),b):n(T)}function d(T){return T===45?(e.consume(T),p):n(T)}function f(T){return T===null?n(T):T===45?(e.consume(T),m):ze(T)?(i=f,K(T)):(e.consume(T),f)}function m(T){return T===45?(e.consume(T),p):f(T)}function p(T){return T===62?M(T):T===45?m(T):f(T)}function g(T){const G="CDATA[";return T===G.charCodeAt(a++)?(e.consume(T),a===G.length?y:g):n(T)}function y(T){return T===null?n(T):T===93?(e.consume(T),w):ze(T)?(i=y,K(T)):(e.consume(T),y)}function w(T){return T===93?(e.consume(T),v):y(T)}function v(T){return T===62?M(T):T===93?(e.consume(T),v):y(T)}function b(T){return T===null||T===62?M(T):ze(T)?(i=b,K(T)):(e.consume(T),b)}function E(T){return T===null?n(T):T===63?(e.consume(T),N):ze(T)?(i=E,K(T)):(e.consume(T),E)}function N(T){return T===62?M(T):E(T)}function C(T){return gr(T)?(e.consume(T),S):n(T)}function S(T){return T===45||Xn(T)?(e.consume(T),S):_(T)}function _(T){return ze(T)?(i=_,K(T)):ut(T)?(e.consume(T),_):M(T)}function H(T){return T===45||Xn(T)?(e.consume(T),H):T===47||T===62||Rt(T)?V(T):n(T)}function V(T){return T===47?(e.consume(T),M):T===58||T===95||gr(T)?(e.consume(T),k):ze(T)?(i=V,K(T)):ut(T)?(e.consume(T),V):M(T)}function k(T){return T===45||T===46||T===58||T===95||Xn(T)?(e.consume(T),k):$(T)}function $(T){return T===61?(e.consume(T),I):ze(T)?(i=$,K(T)):ut(T)?(e.consume(T),$):V(T)}function I(T){return T===null||T===60||T===61||T===62||T===96?n(T):T===34||T===39?(e.consume(T),s=T,Y):ze(T)?(i=I,K(T)):ut(T)?(e.consume(T),I):(e.consume(T),P)}function Y(T){return T===s?(e.consume(T),s=void 0,L):T===null?n(T):ze(T)?(i=Y,K(T)):(e.consume(T),Y)}function P(T){return T===null||T===34||T===39||T===60||T===61||T===96?n(T):T===47||T===62||Rt(T)?V(T):(e.consume(T),P)}function L(T){return T===47||T===62||Rt(T)?V(T):n(T)}function M(T){return T===62?(e.consume(T),e.exit("htmlTextData"),e.exit("htmlText"),t):n(T)}function K(T){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),F}function F(T){return ut(T)?yt(e,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):D(T)}function D(T){return e.enter("htmlTextData"),i(T)}}const Yb={name:"labelEnd",resolveAll:kU,resolveTo:CU,tokenize:AU},NU={tokenize:_U},TU={tokenize:jU},SU={tokenize:IU};function kU(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",t+=s}}return e.length!==n.length&&ts(e,0,e.length,n),e}function CU(e,t){let n=e.length,r=0,s,a,i,l;for(;n--;)if(s=e[n][1],a){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(i){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(a=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(i=n);const c={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[a][1].start},end:{...e[i][1].end}},d={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[i-2][1].start}};return l=[["enter",c,t],["enter",u,t]],l=ms(l,e.slice(a+1,a+r+3)),l=ms(l,[["enter",d,t]]),l=ms(l,up(t.parser.constructs.insideSpan.null,e.slice(a+r+4,i-3),t)),l=ms(l,[["exit",d,t],e[i-2],e[i-1],["exit",u,t]]),l=ms(l,e.slice(i+1)),l=ms(l,[["exit",c,t]]),ts(e,a,e.length,l),e}function AU(e,t,n){const r=this;let s=r.events.length,a,i;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){a=r.events[s][1];break}return l;function l(m){return a?a._inactive?f(m):(i=r.parser.defined.includes(Us(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(m),e.exit("labelMarker"),e.exit("labelEnd"),c):n(m)}function c(m){return m===40?e.attempt(NU,d,i?d:f)(m):m===91?e.attempt(TU,d,i?u:f)(m):i?d(m):f(m)}function u(m){return e.attempt(SU,d,f)(m)}function d(m){return t(m)}function f(m){return a._balanced=!0,n(m)}}function _U(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),s}function s(f){return Rt(f)?_u(e,a)(f):a(f)}function a(f){return f===41?d(f):XA(e,i,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function i(f){return Rt(f)?_u(e,c)(f):d(f)}function l(f){return n(f)}function c(f){return f===34||f===39||f===40?JA(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return Rt(f)?_u(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function jU(e,t,n){const r=this;return s;function s(l){return ZA.call(r,e,a,i,"reference","referenceMarker","referenceString")(l)}function a(l){return r.parser.defined.includes(Us(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function i(l){return n(l)}}function IU(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),s}function s(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const RU={name:"labelStartImage",resolveAll:Yb.resolveAll,tokenize:PU};function PU(e,t,n){const r=this;return s;function s(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),a}function a(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),i):n(l)}function i(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const DU={name:"labelStartLink",resolveAll:Yb.resolveAll,tokenize:OU};function OU(e,t,n){const r=this;return s;function s(i){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(i),e.exit("labelMarker"),e.exit("labelLink"),a}function a(i){return i===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(i):t(i)}}const Og={name:"lineEnding",tokenize:LU};function LU(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),yt(e,t,"linePrefix")}}const ah={name:"thematicBreak",tokenize:MU};function MU(e,t,n){let r=0,s;return a;function a(u){return e.enter("thematicBreak"),i(u)}function i(u){return s=u,l(u)}function l(u){return u===s?(e.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||ze(u))?(e.exit("thematicBreak"),t(u)):n(u)}function c(u){return u===s?(e.consume(u),r++,c):(e.exit("thematicBreakSequence"),ut(u)?yt(e,l,"whitespace")(u):l(u))}}const _r={continuation:{tokenize:HU},exit:zU,name:"list",tokenize:UU},FU={partial:!0,tokenize:WU},BU={partial:!0,tokenize:$U};function UU(e,t,n){const r=this,s=r.events[r.events.length-1];let a=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,i=0;return l;function l(p){const g=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:Dx(p)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(ah,n,u)(p):u(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(p)}return n(p)}function c(p){return Dx(p)&&++i<10?(e.consume(p),c):(!r.interrupt||i<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),u(p)):n(p)}function u(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(Bd,r.interrupt?n:d,e.attempt(FU,m,f))}function d(p){return r.containerState.initialBlankLine=!0,a++,m(p)}function f(p){return ut(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),m):n(p)}function m(p){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function HU(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Bd,s,a);function s(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,yt(e,t,"listItemIndent",r.containerState.size+1)(l)}function a(l){return r.containerState.furtherBlankLines||!ut(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,i(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(BU,t,i)(l))}function i(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,yt(e,e.attempt(_r,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function $U(e,t,n){const r=this;return yt(e,s,"listItemIndent",r.containerState.size+1);function s(a){const i=r.events[r.events.length-1];return i&&i[1].type==="listItemIndent"&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(a):n(a)}}function zU(e){e.exit(this.containerState.type)}function WU(e,t,n){const r=this;return yt(e,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(a){const i=r.events[r.events.length-1];return!ut(a)&&i&&i[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const zE={name:"setextUnderline",resolveTo:VU,tokenize:YU};function VU(e,t){let n=e.length,r,s,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const i={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",a?(e.splice(s,0,["enter",i,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=i,e.push(["exit",i,t]),e}function YU(e,t,n){const r=this;let s;return a;function a(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),s=u,i(u)):n(u)}function i(u){return e.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===s?(e.consume(u),l):(e.exit("setextHeadingLineSequence"),ut(u)?yt(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||ze(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const qU={tokenize:GU};function GU(e){const t=this,n=e.attempt(Bd,r,e.attempt(this.parser.constructs.flowInitial,s,yt(e,e.attempt(this.parser.constructs.flow,s,e.attempt(J7,s)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const KU={resolveAll:t_()},QU=e_("string"),XU=e_("text");function e_(e){return{resolveAll:t_(e==="text"?ZU:void 0),tokenize:t};function t(n){const r=this,s=this.parser.constructs[e],a=n.attempt(s,i,l);return i;function i(d){return u(d)?a(d):l(d)}function l(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return u(d)?(n.exit("data"),a(d)):(n.consume(d),c)}function u(d){if(d===null)return!0;const f=s[d];let m=-1;if(f)for(;++m<f.length;){const p=f[m];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function t_(e){return t;function t(n,r){let s=-1,a;for(;++s<=n.length;)a===void 0?n[s]&&n[s][1].type==="data"&&(a=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==a+2&&(n[a][1].end=n[s-1][1].end,n.splice(a+2,s-a-2),s=a+2),a=void 0);return e?e(n,r):n}}function ZU(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],s=t.sliceStream(r);let a=s.length,i=-1,l=0,c;for(;a--;){const u=s[a];if(typeof u=="string"){for(i=u.length;u.charCodeAt(i-1)===32;)l++,i--;if(i)break;i=-1}else if(u===-2)c=!0,l++;else if(u!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const u={type:n===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?i:r.start._bufferIndex+i,_index:r.start._index+a,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const JU={42:_r,43:_r,45:_r,48:_r,49:_r,50:_r,51:_r,52:_r,53:_r,54:_r,55:_r,56:_r,57:_r,62:qA},eH={91:sU},tH={[-2]:Dg,[-1]:Dg,32:Dg},nH={35:uU,42:ah,45:[zE,ah],60:mU,61:zE,95:ah,96:HE,126:HE},rH={38:KA,92:GA},sH={[-5]:Og,[-4]:Og,[-3]:Og,33:RU,38:KA,42:Ox,60:[D7,wU],91:DU,92:[lU,GA],93:Yb,95:Ox,96:q7},aH={null:[Ox,KU]},oH={null:[42,95]},iH={null:[]},lH=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:oH,contentInitial:eH,disable:iH,document:JU,flow:nH,flowInitial:tH,insideSpan:aH,string:rH,text:sH},Symbol.toStringTag,{value:"Module"}));function cH(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},a=[];let i=[],l=[];const c={attempt:_(C),check:_(S),consume:b,enter:E,exit:N,interrupt:_(S,{interrupt:!0})},u={code:null,containerState:{},defineSkip:y,events:[],now:g,parser:e,previous:null,sliceSerialize:m,sliceStream:p,write:f};let d=t.tokenize.call(u,c);return t.resolveAll&&a.push(t),u;function f($){return i=ms(i,$),w(),i[i.length-1]!==null?[]:(H(t,0),u.events=up(a,u.events,u),u.events)}function m($,I){return dH(p($),I)}function p($){return uH(i,$)}function g(){const{_bufferIndex:$,_index:I,line:Y,column:P,offset:L}=r;return{_bufferIndex:$,_index:I,line:Y,column:P,offset:L}}function y($){s[$.line]=$.column,k()}function w(){let $;for(;r._index<i.length;){const I=i[r._index];if(typeof I=="string")for($=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===$&&r._bufferIndex<I.length;)v(I.charCodeAt(r._bufferIndex));else v(I)}}function v($){d=d($)}function b($){ze($)?(r.line++,r.column=1,r.offset+=$===-3?2:1,k()):$!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===i[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=$}function E($,I){const Y=I||{};return Y.type=$,Y.start=g(),u.events.push(["enter",Y,u]),l.push(Y),Y}function N($){const I=l.pop();return I.end=g(),u.events.push(["exit",I,u]),I}function C($,I){H($,I.from)}function S($,I){I.restore()}function _($,I){return Y;function Y(P,L,M){let K,F,D,T;return Array.isArray(P)?ne(P):"tokenize"in P?ne([P]):G(P);function G(ae){return J;function J(ce){const xe=ce!==null&&ae[ce],re=ce!==null&&ae.null,_e=[...Array.isArray(xe)?xe:xe?[xe]:[],...Array.isArray(re)?re:re?[re]:[]];return ne(_e)(ce)}}function ne(ae){return K=ae,F=0,ae.length===0?M:A(ae[F])}function A(ae){return J;function J(ce){return T=V(),D=ae,ae.partial||(u.currentConstruct=ae),ae.name&&u.parser.constructs.disable.null.includes(ae.name)?z():ae.tokenize.call(I?Object.assign(Object.create(u),I):u,c,W,z)(ce)}}function W(ae){return $(D,T),L}function z(ae){return T.restore(),++F<K.length?A(K[F]):M}}}function H($,I){$.resolveAll&&!a.includes($)&&a.push($),$.resolve&&ts(u.events,I,u.events.length-I,$.resolve(u.events.slice(I),u)),$.resolveTo&&(u.events=$.resolveTo(u.events,u))}function V(){const $=g(),I=u.previous,Y=u.currentConstruct,P=u.events.length,L=Array.from(l);return{from:P,restore:M};function M(){r=$,u.previous=I,u.currentConstruct=Y,u.events.length=P,l=L,k()}}function k(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function uH(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,a=t.end._bufferIndex;let i;if(n===s)i=[e[n].slice(r,a)];else{if(i=e.slice(n,s),r>-1){const l=i[0];typeof l=="string"?i[0]=l.slice(r):i.shift()}a>0&&i.push(e[s].slice(0,a))}return i}function dH(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const a=e[n];let i;if(typeof a=="string")i=a;else switch(a){case-5:{i="\r";break}case-4:{i=`
`;break}case-3:{i=`\r
`;break}case-2:{i=t?" ":"	";break}case-1:{if(!t&&s)continue;i=" ";break}default:i=String.fromCharCode(a)}s=a===-2,r.push(i)}return r.join("")}function fH(e){const r={constructs:VA([lH,...(e||{}).extensions||[]]),content:s(C7),defined:[],document:s(_7),flow:s(qU),lazy:{},string:s(QU),text:s(XU)};return r;function s(a){return i;function i(l){return cH(r,a,l)}}}function hH(e){for(;!QA(e););return e}const WE=/[\0\t\n\r]/g;function mH(){let e=1,t="",n=!0,r;return s;function s(a,i,l){const c=[];let u,d,f,m,p;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(i||void 0).decode(a)),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(WE.lastIndex=f,u=WE.exec(a),m=u&&u.index!==void 0?u.index:a.length,p=a.charCodeAt(m),!u){t=a.slice(f);break}if(p===10&&f===m&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),f<m&&(c.push(a.slice(f,m)),e+=m-f),p){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}f=m+1}return l&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const pH=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function gH(e){return e.replace(pH,xH)}function xH(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),a=s===120||s===88;return YA(n.slice(a?2:1),a?16:10)}return Vb(n)||e}const n_={}.hasOwnProperty;function yH(e,t,n){return typeof t!="string"&&(n=t,t=void 0),bH(n)(hH(fH(n).document().write(mH()(e,t,!0))))}function bH(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Ge),autolinkProtocol:V,autolinkEmail:V,atxHeading:a(Ut),blockQuote:a(re),characterEscape:V,characterReference:V,codeFenced:a(_e),codeFencedFenceInfo:i,codeFencedFenceMeta:i,codeIndented:a(_e,i),codeText:a(Ie,i),codeTextData:V,data:V,codeFlowValue:V,definition:a(Xe),definitionDestinationString:i,definitionLabelString:i,definitionTitleString:i,emphasis:a(tt),hardBreakEscape:a(ye),hardBreakTrailing:a(ye),htmlFlow:a(Ce,i),htmlFlowData:V,htmlText:a(Ce,i),htmlTextData:V,image:a(He),label:i,link:a(Ge),listItem:a(X),listItemValue:m,listOrdered:a(U,f),listUnordered:a(U),paragraph:a(le),reference:A,referenceString:i,resourceDestinationString:i,resourceTitleString:i,setextHeading:a(Ut),strong:a(Ee),thematicBreak:a(me)},exit:{atxHeading:c(),atxHeadingSequence:C,autolink:c(),autolinkEmail:xe,autolinkProtocol:ce,blockQuote:c(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:z,characterReferenceMarkerNumeric:z,characterReferenceValue:ae,characterReference:J,codeFenced:c(w),codeFencedFence:y,codeFencedFenceInfo:p,codeFencedFenceMeta:g,codeFlowValue:k,codeIndented:c(v),codeText:c(L),codeTextData:k,data:k,definition:c(),definitionDestinationString:N,definitionLabelString:b,definitionTitleString:E,emphasis:c(),hardBreakEscape:c(I),hardBreakTrailing:c(I),htmlFlow:c(Y),htmlFlowData:k,htmlText:c(P),htmlTextData:k,image:c(K),label:D,labelText:F,lineEnding:$,link:c(M),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:W,resourceDestinationString:T,resourceTitleString:G,resource:ne,setextHeading:c(H),setextHeadingLineSequence:_,setextHeadingText:S,strong:c(),thematicBreak:c()}};r_(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(q){let ue={type:"root",children:[]};const ve={stack:[ue],tokenStack:[],config:t,enter:l,exit:u,buffer:i,resume:d,data:n},Fe=[];let Je=-1;for(;++Je<q.length;)if(q[Je][1].type==="listOrdered"||q[Je][1].type==="listUnordered")if(q[Je][0]==="enter")Fe.push(Je);else{const _t=Fe.pop();Je=s(q,_t,Je)}for(Je=-1;++Je<q.length;){const _t=t[q[Je][0]];n_.call(_t,q[Je][1].type)&&_t[q[Je][1].type].call(Object.assign({sliceSerialize:q[Je][2].sliceSerialize},ve),q[Je][1])}if(ve.tokenStack.length>0){const _t=ve.tokenStack[ve.tokenStack.length-1];(_t[1]||VE).call(ve,void 0,_t[0])}for(ue.position={start:Za(q.length>0?q[0][1].start:{line:1,column:1,offset:0}),end:Za(q.length>0?q[q.length-2][1].end:{line:1,column:1,offset:0})},Je=-1;++Je<t.transforms.length;)ue=t.transforms[Je](ue)||ue;return ue}function s(q,ue,ve){let Fe=ue-1,Je=-1,_t=!1,Tn,Pt,Lt,jn;for(;++Fe<=ve;){const Et=q[Fe];switch(Et[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Et[0]==="enter"?Je++:Je--,jn=void 0;break}case"lineEndingBlank":{Et[0]==="enter"&&(Tn&&!jn&&!Je&&!Lt&&(Lt=Fe),jn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:jn=void 0}if(!Je&&Et[0]==="enter"&&Et[1].type==="listItemPrefix"||Je===-1&&Et[0]==="exit"&&(Et[1].type==="listUnordered"||Et[1].type==="listOrdered")){if(Tn){let Gt=Fe;for(Pt=void 0;Gt--;){const Kt=q[Gt];if(Kt[1].type==="lineEnding"||Kt[1].type==="lineEndingBlank"){if(Kt[0]==="exit")continue;Pt&&(q[Pt][1].type="lineEndingBlank",_t=!0),Kt[1].type="lineEnding",Pt=Gt}else if(!(Kt[1].type==="linePrefix"||Kt[1].type==="blockQuotePrefix"||Kt[1].type==="blockQuotePrefixWhitespace"||Kt[1].type==="blockQuoteMarker"||Kt[1].type==="listItemIndent"))break}Lt&&(!Pt||Lt<Pt)&&(Tn._spread=!0),Tn.end=Object.assign({},Pt?q[Pt][1].start:Et[1].end),q.splice(Pt||Fe,0,["exit",Tn,Et[2]]),Fe++,ve++}if(Et[1].type==="listItemPrefix"){const Gt={type:"listItem",_spread:!1,start:Object.assign({},Et[1].start),end:void 0};Tn=Gt,q.splice(Fe,0,["enter",Gt,Et[2]]),Fe++,ve++,Lt=void 0,jn=!0}}}return q[ue][1]._spread=_t,ve}function a(q,ue){return ve;function ve(Fe){l.call(this,q(Fe),Fe),ue&&ue.call(this,Fe)}}function i(){this.stack.push({type:"fragment",children:[]})}function l(q,ue,ve){this.stack[this.stack.length-1].children.push(q),this.stack.push(q),this.tokenStack.push([ue,ve||void 0]),q.position={start:Za(ue.start),end:void 0}}function c(q){return ue;function ue(ve){q&&q.call(this,ve),u.call(this,ve)}}function u(q,ue){const ve=this.stack.pop(),Fe=this.tokenStack.pop();if(Fe)Fe[0].type!==q.type&&(ue?ue.call(this,q,Fe[0]):(Fe[1]||VE).call(this,q,Fe[0]));else throw new Error("Cannot close `"+q.type+"` ("+Au({start:q.start,end:q.end})+"): its not open");ve.position.end=Za(q.end)}function d(){return Wb(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function m(q){if(this.data.expectingFirstListItemValue){const ue=this.stack[this.stack.length-2];ue.start=Number.parseInt(this.sliceSerialize(q),10),this.data.expectingFirstListItemValue=void 0}}function p(){const q=this.resume(),ue=this.stack[this.stack.length-1];ue.lang=q}function g(){const q=this.resume(),ue=this.stack[this.stack.length-1];ue.meta=q}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const q=this.resume(),ue=this.stack[this.stack.length-1];ue.value=q.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const q=this.resume(),ue=this.stack[this.stack.length-1];ue.value=q.replace(/(\r?\n|\r)$/g,"")}function b(q){const ue=this.resume(),ve=this.stack[this.stack.length-1];ve.label=ue,ve.identifier=Us(this.sliceSerialize(q)).toLowerCase()}function E(){const q=this.resume(),ue=this.stack[this.stack.length-1];ue.title=q}function N(){const q=this.resume(),ue=this.stack[this.stack.length-1];ue.url=q}function C(q){const ue=this.stack[this.stack.length-1];if(!ue.depth){const ve=this.sliceSerialize(q).length;ue.depth=ve}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function _(q){const ue=this.stack[this.stack.length-1];ue.depth=this.sliceSerialize(q).codePointAt(0)===61?1:2}function H(){this.data.setextHeadingSlurpLineEnding=void 0}function V(q){const ve=this.stack[this.stack.length-1].children;let Fe=ve[ve.length-1];(!Fe||Fe.type!=="text")&&(Fe=Te(),Fe.position={start:Za(q.start),end:void 0},ve.push(Fe)),this.stack.push(Fe)}function k(q){const ue=this.stack.pop();ue.value+=this.sliceSerialize(q),ue.position.end=Za(q.end)}function $(q){const ue=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ve=ue.children[ue.children.length-1];ve.position.end=Za(q.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ue.type)&&(V.call(this,q),k.call(this,q))}function I(){this.data.atHardBreak=!0}function Y(){const q=this.resume(),ue=this.stack[this.stack.length-1];ue.value=q}function P(){const q=this.resume(),ue=this.stack[this.stack.length-1];ue.value=q}function L(){const q=this.resume(),ue=this.stack[this.stack.length-1];ue.value=q}function M(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const ue=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=ue,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function K(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const ue=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=ue,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function F(q){const ue=this.sliceSerialize(q),ve=this.stack[this.stack.length-2];ve.label=gH(ue),ve.identifier=Us(ue).toLowerCase()}function D(){const q=this.stack[this.stack.length-1],ue=this.resume(),ve=this.stack[this.stack.length-1];if(this.data.inReference=!0,ve.type==="link"){const Fe=q.children;ve.children=Fe}else ve.alt=ue}function T(){const q=this.resume(),ue=this.stack[this.stack.length-1];ue.url=q}function G(){const q=this.resume(),ue=this.stack[this.stack.length-1];ue.title=q}function ne(){this.data.inReference=void 0}function A(){this.data.referenceType="collapsed"}function W(q){const ue=this.resume(),ve=this.stack[this.stack.length-1];ve.label=ue,ve.identifier=Us(this.sliceSerialize(q)).toLowerCase(),this.data.referenceType="full"}function z(q){this.data.characterReferenceType=q.type}function ae(q){const ue=this.sliceSerialize(q),ve=this.data.characterReferenceType;let Fe;ve?(Fe=YA(ue,ve==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Fe=Vb(ue);const Je=this.stack[this.stack.length-1];Je.value+=Fe}function J(q){const ue=this.stack.pop();ue.position.end=Za(q.end)}function ce(q){k.call(this,q);const ue=this.stack[this.stack.length-1];ue.url=this.sliceSerialize(q)}function xe(q){k.call(this,q);const ue=this.stack[this.stack.length-1];ue.url="mailto:"+this.sliceSerialize(q)}function re(){return{type:"blockquote",children:[]}}function _e(){return{type:"code",lang:null,meta:null,value:""}}function Ie(){return{type:"inlineCode",value:""}}function Xe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function tt(){return{type:"emphasis",children:[]}}function Ut(){return{type:"heading",depth:0,children:[]}}function ye(){return{type:"break"}}function Ce(){return{type:"html",value:""}}function He(){return{type:"image",title:null,url:"",alt:null}}function Ge(){return{type:"link",title:null,url:"",children:[]}}function U(q){return{type:"list",ordered:q.type==="listOrdered",start:null,spread:q._spread,children:[]}}function X(q){return{type:"listItem",spread:q._spread,checked:null,children:[]}}function le(){return{type:"paragraph",children:[]}}function Ee(){return{type:"strong",children:[]}}function Te(){return{type:"text",value:""}}function me(){return{type:"thematicBreak"}}}function Za(e){return{line:e.line,column:e.column,offset:e.offset}}function r_(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?r_(e,r):vH(e,r)}}function vH(e,t){let n;for(n in t)if(n_.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function VE(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Au({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Au({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Au({start:t.start,end:t.end})+") is still open")}function wH(e){const t=this;t.parser=n;function n(r){return yH(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function EH(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function NH(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function TH(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function SH(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function kH(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function CH(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=Oc(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let i,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),i=e.footnoteOrder.length):i=a+1,l+=1,e.footnoteCounts.set(r,l);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(i)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function AH(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function _H(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function s_(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),a=s[0];a&&a.type==="text"?a.value="["+a.value:s.unshift({type:"text",value:"["});const i=s[s.length-1];return i&&i.type==="text"?i.value+=r:s.push({type:"text",value:r}),s}function jH(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return s_(e,t);const s={src:Oc(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const a={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,a),e.applyData(t,a)}function IH(e,t){const n={src:Oc(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function RH(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function PH(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return s_(e,t);const s={href:Oc(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const a={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function DH(e,t){const n={href:Oc(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function OH(e,t,n){const r=e.all(t),s=n?LH(n):a_(t),a={},i=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const d=r[l];(s||l!==0||d.type!=="element"||d.tagName!=="p")&&i.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!s?i.push(...d.children):i.push(d)}const c=r[r.length-1];c&&(s||c.type!=="element"||c.tagName!=="p")&&i.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:i};return e.patch(t,u),e.applyData(t,u)}function LH(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=a_(n[r])}return t}function a_(e){const t=e.spread;return t??e.children.length>1}function MH(e,t){const n={},r=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<r.length;){const i=r[s];if(i.type==="element"&&i.tagName==="li"&&i.properties&&Array.isArray(i.properties.className)&&i.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function FH(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function BH(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function UH(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function HH(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const i={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],i),s.push(i)}if(n.length>0){const i={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=ya(t.children[1]),c=lp(t.children[t.children.length-1]);l&&c&&(i.position={start:l,end:c}),s.push(i)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,a),e.applyData(t,a)}function $H(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",i=n&&n.type==="table"?n.align:void 0,l=i?i.length:t.children.length;let c=-1;const u=[];for(;++c<l;){const f=t.children[c],m={},p=i?i[c]:void 0;p&&(m.align=p);let g={type:"element",tagName:a,properties:m,children:[]};f&&(g.children=e.all(f),e.patch(f,g),g=e.applyData(f,g)),u.push(g)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function zH(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const YE=9,qE=32;function WH(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const a=[];for(;r;)a.push(GE(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return a.push(GE(t.slice(s),s>0,!1)),a.join("")}function GE(e,t,n){let r=0,s=e.length;if(t){let a=e.codePointAt(r);for(;a===YE||a===qE;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(s-1);for(;a===YE||a===qE;)s--,a=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}function VH(e,t){const n={type:"text",value:WH(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function YH(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const qH={blockquote:EH,break:NH,code:TH,delete:SH,emphasis:kH,footnoteReference:CH,heading:AH,html:_H,imageReference:jH,image:IH,inlineCode:RH,linkReference:PH,link:DH,listItem:OH,list:MH,paragraph:FH,root:BH,strong:UH,table:HH,tableCell:zH,tableRow:$H,text:VH,thematicBreak:YH,toml:Af,yaml:Af,definition:Af,footnoteDefinition:Af};function Af(){}const o_=-1,dp=0,ju=1,Kh=2,qb=3,Gb=4,Kb=5,Qb=6,i_=7,l_=8,KE=typeof self=="object"?self:globalThis,GH=(e,t)=>{const n=(s,a)=>(e.set(a,s),s),r=s=>{if(e.has(s))return e.get(s);const[a,i]=t[s];switch(a){case dp:case o_:return n(i,s);case ju:{const l=n([],s);for(const c of i)l.push(r(c));return l}case Kh:{const l=n({},s);for(const[c,u]of i)l[r(c)]=r(u);return l}case qb:return n(new Date(i),s);case Gb:{const{source:l,flags:c}=i;return n(new RegExp(l,c),s)}case Kb:{const l=n(new Map,s);for(const[c,u]of i)l.set(r(c),r(u));return l}case Qb:{const l=n(new Set,s);for(const c of i)l.add(r(c));return l}case i_:{const{name:l,message:c}=i;return n(new KE[l](c),s)}case l_:return n(BigInt(i),s);case"BigInt":return n(Object(BigInt(i)),s);case"ArrayBuffer":return n(new Uint8Array(i).buffer,i);case"DataView":{const{buffer:l}=new Uint8Array(i);return n(new DataView(l),i)}}return n(new KE[a](i),s)};return r},QE=e=>GH(new Map,e)(0),ol="",{toString:KH}={},{keys:QH}=Object,tu=e=>{const t=typeof e;if(t!=="object"||!e)return[dp,t];const n=KH.call(e).slice(8,-1);switch(n){case"Array":return[ju,ol];case"Object":return[Kh,ol];case"Date":return[qb,ol];case"RegExp":return[Gb,ol];case"Map":return[Kb,ol];case"Set":return[Qb,ol];case"DataView":return[ju,n]}return n.includes("Array")?[ju,n]:n.includes("Error")?[i_,n]:[Kh,n]},_f=([e,t])=>e===dp&&(t==="function"||t==="symbol"),XH=(e,t,n,r)=>{const s=(i,l)=>{const c=r.push(i)-1;return n.set(l,c),c},a=i=>{if(n.has(i))return n.get(i);let[l,c]=tu(i);switch(l){case dp:{let d=i;switch(c){case"bigint":l=l_,d=i.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return s([o_],i)}return s([l,d],i)}case ju:{if(c){let m=i;return c==="DataView"?m=new Uint8Array(i.buffer):c==="ArrayBuffer"&&(m=new Uint8Array(i)),s([c,[...m]],i)}const d=[],f=s([l,d],i);for(const m of i)d.push(a(m));return f}case Kh:{if(c)switch(c){case"BigInt":return s([c,i.toString()],i);case"Boolean":case"Number":case"String":return s([c,i.valueOf()],i)}if(t&&"toJSON"in i)return a(i.toJSON());const d=[],f=s([l,d],i);for(const m of QH(i))(e||!_f(tu(i[m])))&&d.push([a(m),a(i[m])]);return f}case qb:return s([l,i.toISOString()],i);case Gb:{const{source:d,flags:f}=i;return s([l,{source:d,flags:f}],i)}case Kb:{const d=[],f=s([l,d],i);for(const[m,p]of i)(e||!(_f(tu(m))||_f(tu(p))))&&d.push([a(m),a(p)]);return f}case Qb:{const d=[],f=s([l,d],i);for(const m of i)(e||!_f(tu(m)))&&d.push(a(m));return f}}const{message:u}=i;return s([l,{name:c,message:u}],i)};return a},XE=(e,{json:t,lossy:n}={})=>{const r=[];return XH(!(t||n),!!t,new Map,r)(e),r},dc=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?QE(XE(e,t)):structuredClone(e):(e,t)=>QE(XE(e,t));function ZH(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function JH(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function e$(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||ZH,r=e.options.footnoteBackLabel||JH,s=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",i=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),m=Oc(f.toLowerCase());let p=0;const g=[],y=e.footnoteCounts.get(f);for(;y!==void 0&&++p<=y;){g.length>0&&g.push({type:"text",value:" "});let b=typeof n=="string"?n:n(c,p);typeof b=="string"&&(b={type:"text",value:b}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+m+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,p),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const w=d[d.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const b=w.children[w.children.length-1];b&&b.type==="text"?b.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...g)}else d.push(...g);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+m},children:e.wrap(d,!0)};e.patch(u,v),l.push(v)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...dc(i),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const fp=function(e){if(e==null)return s$;if(typeof e=="function")return hp(e);if(typeof e=="object")return Array.isArray(e)?t$(e):n$(e);if(typeof e=="string")return r$(e);throw new Error("Expected function, string, or object as test")};function t$(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=fp(e[n]);return hp(r);function r(...s){let a=-1;for(;++a<t.length;)if(t[a].apply(this,s))return!0;return!1}}function n$(e){const t=e;return hp(n);function n(r){const s=r;let a;for(a in e)if(s[a]!==t[a])return!1;return!0}}function r$(e){return hp(t);function t(n){return n&&n.type===e}}function hp(e){return t;function t(n,r,s){return!!(a$(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function s$(){return!0}function a$(e){return e!==null&&typeof e=="object"&&"type"in e}const c_=[],o$=!0,Lx=!1,i$="skip";function u_(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const a=fp(s),i=r?-1:1;l(e,void 0,[])();function l(c,u,d){const f=c&&typeof c=="object"?c:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(c.type+(p?"<"+p+">":""))+")"})}return m;function m(){let p=c_,g,y,w;if((!t||a(c,u,d[d.length-1]||void 0))&&(p=l$(n(c,d)),p[0]===Lx))return p;if("children"in c&&c.children){const v=c;if(v.children&&p[0]!==i$)for(y=(r?v.children.length:-1)+i,w=d.concat(v);y>-1&&y<v.children.length;){const b=v.children[y];if(g=l(b,y,w)(),g[0]===Lx)return g;y=typeof g[1]=="number"?g[1]:y+i}}return p}}}function l$(e){return Array.isArray(e)?e:typeof e=="number"?[o$,e]:e==null?c_:[e]}function mp(e,t,n,r){let s,a,i;typeof t=="function"&&typeof n!="function"?(a=void 0,i=t,s=n):(a=t,i=n,s=r),u_(e,a,l,s);function l(c,u){const d=u[u.length-1],f=d?d.children.indexOf(c):void 0;return i(c,f,d)}}const Mx={}.hasOwnProperty,c$={};function u$(e,t){const n=t||c$,r=new Map,s=new Map,a=new Map,i={...qH,...n.handlers},l={all:u,applyData:f$,definitionById:r,footnoteById:s,footnoteCounts:a,footnoteOrder:[],handlers:i,one:c,options:n,patch:d$,wrap:m$};return mp(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:s,m=String(d.identifier).toUpperCase();f.has(m)||f.set(m,d)}}),l;function c(d,f){const m=d.type,p=l.handlers[m];if(Mx.call(l.handlers,m)&&p)return p(l,d,f);if(l.options.passThrough&&l.options.passThrough.includes(m)){if("children"in d){const{children:y,...w}=d,v=dc(w);return v.children=l.all(d),v}return dc(d)}return(l.options.unknownHandler||h$)(l,d,f)}function u(d){const f=[];if("children"in d){const m=d.children;let p=-1;for(;++p<m.length;){const g=l.one(m[p],d);if(g){if(p&&m[p-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=ZE(g.value)),!Array.isArray(g)&&g.type==="element")){const y=g.children[0];y&&y.type==="text"&&(y.value=ZE(y.value))}Array.isArray(g)?f.push(...g):f.push(g)}}}return f}}function d$(e,t){e.position&&(t.position=J9(e))}function f$(e,t){let n=t;if(e&&e.data){const r=e.data.hName,s=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const i="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:i}}n.type==="element"&&a&&Object.assign(n.properties,dc(a)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function h$(e,t){const n=t.data||{},r="value"in t&&!(Mx.call(n,"hProperties")||Mx.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function m$(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function ZE(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function JE(e,t){const n=u$(e,t),r=n.one(e,void 0),s=e$(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&a.children.push({type:"text",value:`
`},s),a}function p$(e,t){return e&&"run"in e?async function(n,r){const s=JE(n,{file:r,...t});await e.run(s,r)}:function(n,r){return JE(n,{file:r,...e||t})}}function e2(e){if(e)throw e}var oh=Object.prototype.hasOwnProperty,d_=Object.prototype.toString,t2=Object.defineProperty,n2=Object.getOwnPropertyDescriptor,r2=function(t){return typeof Array.isArray=="function"?Array.isArray(t):d_.call(t)==="[object Array]"},s2=function(t){if(!t||d_.call(t)!=="[object Object]")return!1;var n=oh.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&oh.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var s;for(s in t);return typeof s>"u"||oh.call(t,s)},a2=function(t,n){t2&&n.name==="__proto__"?t2(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},o2=function(t,n){if(n==="__proto__")if(oh.call(t,n)){if(n2)return n2(t,n).value}else return;return t[n]},g$=function e(){var t,n,r,s,a,i,l=arguments[0],c=1,u=arguments.length,d=!1;for(typeof l=="boolean"&&(d=l,l=arguments[1]||{},c=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});c<u;++c)if(t=arguments[c],t!=null)for(n in t)r=o2(l,n),s=o2(t,n),l!==s&&(d&&s&&(s2(s)||(a=r2(s)))?(a?(a=!1,i=r&&r2(r)?r:[]):i=r&&s2(r)?r:{},a2(l,{name:n,newValue:e(d,i,s)})):typeof s<"u"&&a2(l,{name:n,newValue:s}));return l};const Lg=gm(g$);function Fx(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function x$(){const e=[],t={run:n,use:r};return t;function n(...s){let a=-1;const i=s.pop();if(typeof i!="function")throw new TypeError("Expected function as last argument, not "+i);l(null,...s);function l(c,...u){const d=e[++a];let f=-1;if(c){i(c);return}for(;++f<s.length;)(u[f]===null||u[f]===void 0)&&(u[f]=s[f]);s=u,d?y$(d,l)(...u):i(null,...u)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function y$(e,t){let n;return r;function r(...i){const l=e.length>i.length;let c;l&&i.push(s);try{c=e.apply(this,i)}catch(u){const d=u;if(l&&n)throw d;return s(d)}l||(c&&c.then&&typeof c.then=="function"?c.then(a,s):c instanceof Error?s(c):a(c))}function s(i,...l){n||(n=!0,t(i,...l))}function a(i){s(null,i)}}const Js={basename:b$,dirname:v$,extname:w$,join:E$,sep:"/"};function b$(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ud(e);let n=0,r=-1,s=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(a){n=s+1;break}}else r<0&&(a=!0,r=s+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let i=-1,l=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(a){n=s+1;break}}else i<0&&(a=!0,i=s+1),l>-1&&(e.codePointAt(s)===t.codePointAt(l--)?l<0&&(r=s):(l=-1,r=i));return n===r?r=i:r<0&&(r=e.length),e.slice(n,r)}function v$(e){if(Ud(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function w$(e){Ud(e);let t=e.length,n=-1,r=0,s=-1,a=0,i;for(;t--;){const l=e.codePointAt(t);if(l===47){if(i){r=t+1;break}continue}n<0&&(i=!0,n=t+1),l===46?s<0?s=t:a!==1&&(a=1):s>-1&&(a=-1)}return s<0||n<0||a===0||a===1&&s===n-1&&s===r+1?"":e.slice(s,n)}function E$(...e){let t=-1,n;for(;++t<e.length;)Ud(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":N$(n)}function N$(e){Ud(e);const t=e.codePointAt(0)===47;let n=T$(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function T$(e,t){let n="",r=0,s=-1,a=0,i=-1,l,c;for(;++i<=e.length;){if(i<e.length)l=e.codePointAt(i);else{if(l===47)break;l=47}if(l===47){if(!(s===i-1||a===1))if(s!==i-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),s=i,a=0;continue}}else if(n.length>0){n="",r=0,s=i,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(s+1,i):n=e.slice(s+1,i),r=i-s-1;s=i,a=0}else l===46&&a>-1?a++:a=-1}return n}function Ud(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const S$={cwd:k$};function k$(){return"/"}function Bx(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function C$(e){if(typeof e=="string")e=new URL(e);else if(!Bx(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return A$(e)}function A$(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const Mg=["history","path","basename","stem","extname","dirname"];class f_{constructor(t){let n;t?Bx(t)?n={path:t}:typeof t=="string"||_$(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":S$.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Mg.length;){const a=Mg[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let s;for(s in n)Mg.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?Js.basename(this.path):void 0}set basename(t){Bg(t,"basename"),Fg(t,"basename"),this.path=Js.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Js.dirname(this.path):void 0}set dirname(t){i2(this.basename,"dirname"),this.path=Js.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Js.extname(this.path):void 0}set extname(t){if(Fg(t,"extname"),i2(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Js.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Bx(t)&&(t=C$(t)),Bg(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Js.basename(this.path,this.extname):void 0}set stem(t){Bg(t,"stem"),Fg(t,"stem"),this.path=Js.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const s=this.message(t,n,r);throw s.fatal=!0,s}info(t,n,r){const s=this.message(t,n,r);return s.fatal=void 0,s}message(t,n,r){const s=new sr(t,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Fg(e,t){if(e&&e.includes(Js.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Js.sep+"`")}function Bg(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function i2(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function _$(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const j$=function(e){const r=this.constructor.prototype,s=r[e],a=function(){return s.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},I$={}.hasOwnProperty;class Xb extends j${constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=x$()}copy(){const t=new Xb;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Lg(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?($g("data",this.frozen),this.namespace[t]=n,this):I$.call(this.namespace,t)&&this.namespace[t]||void 0:t?($g("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(t,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=jf(t),r=this.parser||this.Parser;return Ug("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Ug("process",this.parser||this.Parser),Hg("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(a,i){const l=jf(t),c=r.parse(l);r.run(c,l,function(d,f,m){if(d||!f||!m)return u(d);const p=f,g=r.stringify(p,m);D$(g)?m.value=g:m.result=g,u(d,m)});function u(d,f){d||!f?i(d):a?a(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Ug("processSync",this.parser||this.Parser),Hg("processSync",this.compiler||this.Compiler),this.process(t,s),c2("processSync","process",n),r;function s(a,i){n=!0,e2(a),r=i}}run(t,n,r){l2(t),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(i,l){const c=jf(n);s.run(t,c,u);function u(d,f,m){const p=f||t;d?l(d):i?i(p):r(void 0,p,m)}}}runSync(t,n){let r=!1,s;return this.run(t,n,a),c2("runSync","run",r),s;function a(i,l){e2(i),s=l,r=!0}}stringify(t,n){this.freeze();const r=jf(n),s=this.compiler||this.Compiler;return Hg("stringify",s),l2(t),s(t,r)}use(t,...n){const r=this.attachers,s=this.namespace;if($g("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):i(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;c(d,f)}else i(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function i(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(s.settings=Lg(!0,s.settings,u.settings))}function l(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];a(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let f=-1,m=-1;for(;++f<r.length;)if(r[f][0]===u){m=f;break}if(m===-1)r.push([u,...d]);else if(d.length>0){let[p,...g]=d;const y=r[m][1];Fx(y)&&Fx(p)&&(p=Lg(!0,y,p)),r[m]=[u,p,...g]}}}}const R$=new Xb().freeze();function Ug(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Hg(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function $g(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function l2(e){if(!Fx(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function c2(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function jf(e){return P$(e)?e:new f_(e)}function P$(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function D$(e){return typeof e=="string"||O$(e)}function O$(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const L$="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",u2=[],d2={allowDangerousHtml:!0},M$=/^(https?|ircs?|mailto|xmpp)$/i,F$=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function h_(e){const t=B$(e),n=U$(e);return H$(t.runSync(t.parse(n),n),e)}function B$(e){const t=e.rehypePlugins||u2,n=e.remarkPlugins||u2,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...d2}:d2;return R$().use(wH).use(n).use(p$,r).use(t)}function U$(e){const t=e.children||"",n=new f_;return typeof t=="string"&&(n.value=t),n}function H$(e,t){const n=t.allowedElements,r=t.allowElement,s=t.components,a=t.disallowedElements,i=t.skipHtml,l=t.unwrapDisallowed,c=t.urlTransform||$$;for(const d of F$)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+L$+d.id,void 0);return mp(e,u),s7(e,{Fragment:o.Fragment,components:s,ignoreInvalidStyle:!0,jsx:o.jsx,jsxs:o.jsxs,passKeys:!0,passNode:!0});function u(d,f,m){if(d.type==="raw"&&m&&typeof f=="number")return i?m.children.splice(f,1):m.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let p;for(p in Pg)if(Object.hasOwn(Pg,p)&&Object.hasOwn(d.properties,p)){const g=d.properties[p],y=Pg[p];(y===null||y.includes(d.tagName))&&(d.properties[p]=c(String(g||""),p,d))}}if(d.type==="element"){let p=n?!n.includes(d.tagName):a?a.includes(d.tagName):!1;if(!p&&r&&typeof f=="number"&&(p=!r(d,f,m)),p&&m&&typeof f=="number")return l&&d.children?m.children.splice(f,1,...d.children):m.children.splice(f,1),f}}}function $$(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||r!==-1&&t>r||M$.test(e.slice(0,t))?e:""}function f2(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,s=n.indexOf(t);for(;s!==-1;)r++,s=n.indexOf(t,s+t.length);return r}function z$(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function W$(e,t,n){const s=fp((n||{}).ignore||[]),a=V$(t);let i=-1;for(;++i<a.length;)u_(e,"text",l);function l(u,d){let f=-1,m;for(;++f<d.length;){const p=d[f],g=m?m.children:void 0;if(s(p,g?g.indexOf(p):void 0,m))return;m=p}if(m)return c(u,d)}function c(u,d){const f=d[d.length-1],m=a[i][0],p=a[i][1];let g=0;const w=f.children.indexOf(u);let v=!1,b=[];m.lastIndex=0;let E=m.exec(u.value);for(;E;){const N=E.index,C={index:E.index,input:E.input,stack:[...d,u]};let S=p(...E,C);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?m.lastIndex=N+1:(g!==N&&b.push({type:"text",value:u.value.slice(g,N)}),Array.isArray(S)?b.push(...S):S&&b.push(S),g=N+E[0].length,v=!0),!m.global)break;E=m.exec(u.value)}return v?(g<u.value.length&&b.push({type:"text",value:u.value.slice(g)}),f.children.splice(w,1,...b)):b=[u],w+b.length}}function V$(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const s=n[r];t.push([Y$(s[0]),q$(s[1])])}return t}function Y$(e){return typeof e=="string"?new RegExp(z$(e),"g"):e}function q$(e){return typeof e=="function"?e:function(){return e}}const zg="phrasing",Wg=["autolink","link","image","label"];function G$(){return{transforms:[tz],enter:{literalAutolink:Q$,literalAutolinkEmail:Vg,literalAutolinkHttp:Vg,literalAutolinkWww:Vg},exit:{literalAutolink:ez,literalAutolinkEmail:J$,literalAutolinkHttp:X$,literalAutolinkWww:Z$}}}function K$(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:zg,notInConstruct:Wg},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:zg,notInConstruct:Wg},{character:":",before:"[ps]",after:"\\/",inConstruct:zg,notInConstruct:Wg}]}}function Q$(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Vg(e){this.config.enter.autolinkProtocol.call(this,e)}function X$(e){this.config.exit.autolinkProtocol.call(this,e)}function Z$(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function J$(e){this.config.exit.autolinkEmail.call(this,e)}function ez(e){this.exit(e)}function tz(e){W$(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,nz],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),rz]],{ignore:["link","linkReference"]})}function nz(e,t,n,r,s){let a="";if(!m_(s)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!sz(n)))return!1;const i=az(n+r);if(!i[0])return!1;const l={type:"link",title:null,url:a+t+i[0],children:[{type:"text",value:t+i[0]}]};return i[1]?[l,{type:"text",value:i[1]}]:l}function rz(e,t,n,r){return!m_(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function sz(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function az(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const s=f2(e,"(");let a=f2(e,")");for(;r!==-1&&s>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function m_(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Bi(n)||cp(n))&&(!t||n!==47)}p_.peek=mz;function oz(){this.buffer()}function iz(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function lz(){this.buffer()}function cz(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function uz(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Us(this.sliceSerialize(e)).toLowerCase(),n.label=t}function dz(e){this.exit(e)}function fz(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Us(this.sliceSerialize(e)).toLowerCase(),n.label=t}function hz(e){this.exit(e)}function mz(){return"["}function p_(e,t,n,r){const s=n.createTracker(r);let a=s.move("[^");const i=n.enter("footnoteReference"),l=n.enter("reference");return a+=s.move(n.safe(n.associationId(e),{after:"]",before:a})),l(),i(),a+=s.move("]"),a}function pz(){return{enter:{gfmFootnoteCallString:oz,gfmFootnoteCall:iz,gfmFootnoteDefinitionLabelString:lz,gfmFootnoteDefinition:cz},exit:{gfmFootnoteCallString:uz,gfmFootnoteCall:dz,gfmFootnoteDefinitionLabelString:fz,gfmFootnoteDefinition:hz}}}function gz(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:p_},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,s,a,i){const l=a.createTracker(i);let c=l.move("[^");const u=a.enter("footnoteDefinition"),d=a.enter("label");return c+=l.move(a.safe(a.associationId(r),{before:c,after:"]"})),d(),c+=l.move("]:"),r.children&&r.children.length>0&&(l.shift(4),c+=l.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,l.current()),t?g_:xz))),u(),c}}function xz(e,t,n){return t===0?e:g_(e,t,n)}function g_(e,t,n){return(n?"":"    ")+e}const yz=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];x_.peek=Nz;function bz(){return{canContainEols:["delete"],enter:{strikethrough:wz},exit:{strikethrough:Ez}}}function vz(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:yz}],handlers:{delete:x_}}}function wz(e){this.enter({type:"delete",children:[]},e)}function Ez(e){this.exit(e)}function x_(e,t,n,r){const s=n.createTracker(r),a=n.enter("strikethrough");let i=s.move("~~");return i+=n.containerPhrasing(e,{...s.current(),before:i,after:"~"}),i+=s.move("~~"),a(),i}function Nz(){return"~"}function Tz(e){return e.length}function Sz(e,t){const n=t||{},r=(n.align||[]).concat(),s=n.stringLength||Tz,a=[],i=[],l=[],c=[];let u=0,d=-1;for(;++d<e.length;){const y=[],w=[];let v=-1;for(e[d].length>u&&(u=e[d].length);++v<e[d].length;){const b=kz(e[d][v]);if(n.alignDelimiters!==!1){const E=s(b);w[v]=E,(c[v]===void 0||E>c[v])&&(c[v]=E)}y.push(b)}i[d]=y,l[d]=w}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)a[f]=h2(r[f]);else{const y=h2(r);for(;++f<u;)a[f]=y}f=-1;const m=[],p=[];for(;++f<u;){const y=a[f];let w="",v="";y===99?(w=":",v=":"):y===108?w=":":y===114&&(v=":");let b=n.alignDelimiters===!1?1:Math.max(1,c[f]-w.length-v.length);const E=w+"-".repeat(b)+v;n.alignDelimiters!==!1&&(b=w.length+b+v.length,b>c[f]&&(c[f]=b),p[f]=b),m[f]=E}i.splice(1,0,m),l.splice(1,0,p),d=-1;const g=[];for(;++d<i.length;){const y=i[d],w=l[d];f=-1;const v=[];for(;++f<u;){const b=y[f]||"";let E="",N="";if(n.alignDelimiters!==!1){const C=c[f]-(w[f]||0),S=a[f];S===114?E=" ".repeat(C):S===99?C%2?(E=" ".repeat(C/2+.5),N=" ".repeat(C/2-.5)):(E=" ".repeat(C/2),N=E):N=" ".repeat(C)}n.delimiterStart!==!1&&!f&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&b==="")&&(n.delimiterStart!==!1||f)&&v.push(" "),n.alignDelimiters!==!1&&v.push(E),v.push(b),n.alignDelimiters!==!1&&v.push(N),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&v.push("|")}g.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return g.join(`
`)}function kz(e){return e==null?"":String(e)}function h2(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const m2={}.hasOwnProperty;function y_(e,t){const n=t||{};function r(s,...a){let i=r.invalid;const l=r.handlers;if(s&&m2.call(s,e)){const c=String(s[e]);i=m2.call(l,c)?l[c]:r.unknown}if(i)return i.call(this,s,...a)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}function Cz(e,t,n,r){const s=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const i=n.indentLines(n.containerFlow(e,a.current()),Az);return s(),i}function Az(e,t,n){return">"+(n?"":" ")+e}function _z(e,t){return p2(e,t.inConstruct,!0)&&!p2(e,t.notInConstruct,!1)}function p2(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function g2(e,t,n,r){let s=-1;for(;++s<n.unsafe.length;)if(n.unsafe[s].character===`
`&&_z(n.stack,n.unsafe[s]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function jz(e,t){const n=String(e);let r=n.indexOf(t),s=r,a=0,i=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===s?++a>i&&(i=a):a=1,s=r+t.length,r=n.indexOf(t,s);return i}function Iz(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Rz(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Pz(e,t,n,r){const s=Rz(n),a=e.value||"",i=s==="`"?"GraveAccent":"Tilde";if(Iz(e,n)){const f=n.enter("codeIndented"),m=n.indentLines(a,Dz);return f(),m}const l=n.createTracker(r),c=s.repeat(Math.max(jz(a,s)+1,3)),u=n.enter("codeFenced");let d=l.move(c);if(e.lang){const f=n.enter(`codeFencedLang${i}`);d+=l.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...l.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${i}`);d+=l.move(" "),d+=l.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...l.current()})),f()}return d+=l.move(`
`),a&&(d+=l.move(a+`
`)),d+=l.move(c),u(),d}function Dz(e,t,n){return(n?"":"    ")+e}function Zb(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Oz(e,t,n,r){const s=Zb(n),a=s==='"'?"Quote":"Apostrophe",i=n.enter("definition");let l=n.enter("label");const c=n.createTracker(r);let u=c.move("[");return u+=c.move(n.safe(n.associationId(e),{before:u,after:"]",...c.current()})),u+=c.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...c.current()}))),l(),e.title&&(l=n.enter(`title${a}`),u+=c.move(" "+s),u+=c.move(n.safe(e.title,{before:u,after:s,...c.current()})),u+=c.move(s),l()),i(),u}function Lz(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function hd(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Qh(e,t,n){const r=uc(e),s=uc(t);return r===void 0?s===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}b_.peek=Mz;function b_(e,t,n,r){const s=Lz(n),a=n.enter("emphasis"),i=n.createTracker(r),l=i.move(s);let c=i.move(n.containerPhrasing(e,{after:s,before:l,...i.current()}));const u=c.charCodeAt(0),d=Qh(r.before.charCodeAt(r.before.length-1),u,s);d.inside&&(c=hd(u)+c.slice(1));const f=c.charCodeAt(c.length-1),m=Qh(r.after.charCodeAt(0),f,s);m.inside&&(c=c.slice(0,-1)+hd(f));const p=i.move(s);return a(),n.attentionEncodeSurroundingInfo={after:m.outside,before:d.outside},l+c+p}function Mz(e,t,n){return n.options.emphasis||"*"}function Fz(e,t){let n=!1;return mp(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Lx}),!!((!e.depth||e.depth<3)&&Wb(e)&&(t.options.setext||n))}function Bz(e,t,n,r){const s=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(Fz(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),m=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return f(),d(),m+`
`+(s===1?"=":"-").repeat(m.length-(Math.max(m.lastIndexOf("\r"),m.lastIndexOf(`
`))+1))}const i="#".repeat(s),l=n.enter("headingAtx"),c=n.enter("phrasing");a.move(i+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(u)&&(u=hd(u.charCodeAt(0))+u.slice(1)),u=u?i+" "+u:i,n.options.closeAtx&&(u+=" "+i),c(),l(),u}v_.peek=Uz;function v_(e){return e.value||""}function Uz(){return"<"}w_.peek=Hz;function w_(e,t,n,r){const s=Zb(n),a=s==='"'?"Quote":"Apostrophe",i=n.enter("image");let l=n.enter("label");const c=n.createTracker(r);let u=c.move("![");return u+=c.move(n.safe(e.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":")",...c.current()}))),l(),e.title&&(l=n.enter(`title${a}`),u+=c.move(" "+s),u+=c.move(n.safe(e.title,{before:u,after:s,...c.current()})),u+=c.move(s),l()),u+=c.move(")"),i(),u}function Hz(){return"!"}E_.peek=$z;function E_(e,t,n,r){const s=e.referenceType,a=n.enter("imageReference");let i=n.enter("label");const l=n.createTracker(r);let c=l.move("![");const u=n.safe(e.alt,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),i();const d=n.stack;n.stack=[],i=n.enter("reference");const f=n.safe(n.associationId(e),{before:c,after:"]",...l.current()});return i(),n.stack=d,a(),s==="full"||!u||u!==f?c+=l.move(f+"]"):s==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function $z(){return"!"}N_.peek=zz;function N_(e,t,n){let r=e.value||"",s="`",a=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(r);)s+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const i=n.unsafe[a],l=n.compilePattern(i);let c;if(i.atBreak)for(;c=l.exec(r);){let u=c.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(c.index+1)}}return s+r+s}function zz(){return"`"}function T_(e,t){const n=Wb(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}S_.peek=Wz;function S_(e,t,n,r){const s=Zb(n),a=s==='"'?"Quote":"Apostrophe",i=n.createTracker(r);let l,c;if(T_(e,n)){const d=n.stack;n.stack=[],l=n.enter("autolink");let f=i.move("<");return f+=i.move(n.containerPhrasing(e,{before:f,after:">",...i.current()})),f+=i.move(">"),l(),n.stack=d,f}l=n.enter("link"),c=n.enter("label");let u=i.move("[");return u+=i.move(n.containerPhrasing(e,{before:u,after:"](",...i.current()})),u+=i.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),u+=i.move("<"),u+=i.move(n.safe(e.url,{before:u,after:">",...i.current()})),u+=i.move(">")):(c=n.enter("destinationRaw"),u+=i.move(n.safe(e.url,{before:u,after:e.title?" ":")",...i.current()}))),c(),e.title&&(c=n.enter(`title${a}`),u+=i.move(" "+s),u+=i.move(n.safe(e.title,{before:u,after:s,...i.current()})),u+=i.move(s),c()),u+=i.move(")"),l(),u}function Wz(e,t,n){return T_(e,n)?"<":"["}k_.peek=Vz;function k_(e,t,n,r){const s=e.referenceType,a=n.enter("linkReference");let i=n.enter("label");const l=n.createTracker(r);let c=l.move("[");const u=n.containerPhrasing(e,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),i();const d=n.stack;n.stack=[],i=n.enter("reference");const f=n.safe(n.associationId(e),{before:c,after:"]",...l.current()});return i(),n.stack=d,a(),s==="full"||!u||u!==f?c+=l.move(f+"]"):s==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function Vz(){return"["}function Jb(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Yz(e){const t=Jb(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function qz(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function C_(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Gz(e,t,n,r){const s=n.enter("list"),a=n.bulletCurrent;let i=e.ordered?qz(n):Jb(n);const l=e.ordered?i==="."?")":".":Yz(n);let c=t&&n.bulletLastUsed?i===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((i==="*"||i==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),C_(n)===i&&d){let f=-1;for(;++f<e.children.length;){const m=e.children[f];if(m&&m.type==="listItem"&&m.children&&m.children[0]&&m.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(i=l),n.bulletCurrent=i;const u=n.containerFlow(e,r);return n.bulletLastUsed=i,n.bulletCurrent=a,s(),u}function Kz(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Qz(e,t,n,r){const s=Kz(n);let a=n.bulletCurrent||Jb(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let i=a.length+1;(s==="tab"||s==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(i=Math.ceil(i/4)*4);const l=n.createTracker(r);l.move(a+" ".repeat(i-a.length)),l.shift(i);const c=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,l.current()),d);return c(),u;function d(f,m,p){return m?(p?"":" ".repeat(i))+f:(p?a:a+" ".repeat(i-a.length))+f}}function Xz(e,t,n,r){const s=n.enter("paragraph"),a=n.enter("phrasing"),i=n.containerPhrasing(e,r);return a(),s(),i}const Zz=fp(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Jz(e,t,n,r){return(e.children.some(function(i){return Zz(i)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function eW(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}A_.peek=tW;function A_(e,t,n,r){const s=eW(n),a=n.enter("strong"),i=n.createTracker(r),l=i.move(s+s);let c=i.move(n.containerPhrasing(e,{after:s,before:l,...i.current()}));const u=c.charCodeAt(0),d=Qh(r.before.charCodeAt(r.before.length-1),u,s);d.inside&&(c=hd(u)+c.slice(1));const f=c.charCodeAt(c.length-1),m=Qh(r.after.charCodeAt(0),f,s);m.inside&&(c=c.slice(0,-1)+hd(f));const p=i.move(s+s);return a(),n.attentionEncodeSurroundingInfo={after:m.outside,before:d.outside},l+c+p}function tW(e,t,n){return n.options.strong||"*"}function nW(e,t,n,r){return n.safe(e.value,r)}function rW(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function sW(e,t,n){const r=(C_(n)+(n.options.ruleSpaces?" ":"")).repeat(rW(n));return n.options.ruleSpaces?r.slice(0,-1):r}const __={blockquote:Cz,break:g2,code:Pz,definition:Oz,emphasis:b_,hardBreak:g2,heading:Bz,html:v_,image:w_,imageReference:E_,inlineCode:N_,link:S_,linkReference:k_,list:Gz,listItem:Qz,paragraph:Xz,root:Jz,strong:A_,text:nW,thematicBreak:sW};function aW(){return{enter:{table:oW,tableData:x2,tableHeader:x2,tableRow:lW},exit:{codeText:cW,table:iW,tableData:Yg,tableHeader:Yg,tableRow:Yg}}}function oW(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function iW(e){this.exit(e),this.data.inTable=void 0}function lW(e){this.enter({type:"tableRow",children:[]},e)}function Yg(e){this.exit(e)}function x2(e){this.enter({type:"tableCell",children:[]},e)}function cW(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,uW));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function uW(e,t){return t==="|"?t:e}function dW(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,s=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:m,table:i,tableCell:c,tableRow:l}};function i(p,g,y,w){return u(d(p,y,w),p.align)}function l(p,g,y,w){const v=f(p,y,w),b=u([v]);return b.slice(0,b.indexOf(`
`))}function c(p,g,y,w){const v=y.enter("tableCell"),b=y.enter("phrasing"),E=y.containerPhrasing(p,{...w,before:a,after:a});return b(),v(),E}function u(p,g){return Sz(p,{align:g,alignDelimiters:r,padding:n,stringLength:s})}function d(p,g,y){const w=p.children;let v=-1;const b=[],E=g.enter("table");for(;++v<w.length;)b[v]=f(w[v],g,y);return E(),b}function f(p,g,y){const w=p.children;let v=-1;const b=[],E=g.enter("tableRow");for(;++v<w.length;)b[v]=c(w[v],p,g,y);return E(),b}function m(p,g,y){let w=__.inlineCode(p,g,y);return y.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function fW(){return{exit:{taskListCheckValueChecked:y2,taskListCheckValueUnchecked:y2,paragraph:mW}}}function hW(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:pW}}}function y2(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function mW(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const s=t.children;let a=-1,i;for(;++a<s.length;){const l=s[a];if(l.type==="paragraph"){i=l;break}}i===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function pW(e,t,n,r){const s=e.children[0],a=typeof e.checked=="boolean"&&s&&s.type==="paragraph",i="["+(e.checked?"x":" ")+"] ",l=n.createTracker(r);a&&l.move(i);let c=__.listItem(e,t,n,{...r,...l.current()});return a&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(d){return d+i}}function gW(){return[G$(),pz(),bz(),aW(),fW()]}function xW(e){return{extensions:[K$(),gz(e),vz(),dW(e),hW()]}}const yW={tokenize:TW,partial:!0},j_={tokenize:SW,partial:!0},I_={tokenize:kW,partial:!0},R_={tokenize:CW,partial:!0},bW={tokenize:AW,partial:!0},P_={name:"wwwAutolink",tokenize:EW,previous:O_},D_={name:"protocolAutolink",tokenize:NW,previous:L_},Va={name:"emailAutolink",tokenize:wW,previous:M_},ba={};function vW(){return{text:ba}}let li=48;for(;li<123;)ba[li]=Va,li++,li===58?li=65:li===91&&(li=97);ba[43]=Va;ba[45]=Va;ba[46]=Va;ba[95]=Va;ba[72]=[Va,D_];ba[104]=[Va,D_];ba[87]=[Va,P_];ba[119]=[Va,P_];function wW(e,t,n){const r=this;let s,a;return i;function i(f){return!Ux(f)||!M_.call(r,r.previous)||e1(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),l(f))}function l(f){return Ux(f)?(e.consume(f),l):f===64?(e.consume(f),c):n(f)}function c(f){return f===46?e.check(bW,d,u)(f):f===45||f===95||Xn(f)?(a=!0,e.consume(f),c):d(f)}function u(f){return e.consume(f),s=!0,c}function d(f){return a&&s&&gr(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function EW(e,t,n){const r=this;return s;function s(i){return i!==87&&i!==119||!O_.call(r,r.previous)||e1(r.events)?n(i):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(yW,e.attempt(j_,e.attempt(I_,a),n),n)(i))}function a(i){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(i)}}function NW(e,t,n){const r=this;let s="",a=!1;return i;function i(f){return(f===72||f===104)&&L_.call(r,r.previous)&&!e1(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),s+=String.fromCodePoint(f),e.consume(f),l):n(f)}function l(f){if(gr(f)&&s.length<5)return s+=String.fromCodePoint(f),e.consume(f),l;if(f===58){const m=s.toLowerCase();if(m==="http"||m==="https")return e.consume(f),c}return n(f)}function c(f){return f===47?(e.consume(f),a?u:(a=!0,c)):n(f)}function u(f){return f===null||Gh(f)||Rt(f)||Bi(f)||cp(f)?n(f):e.attempt(j_,e.attempt(I_,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function TW(e,t,n){let r=0;return s;function s(i){return(i===87||i===119)&&r<3?(r++,e.consume(i),s):i===46&&r===3?(e.consume(i),a):n(i)}function a(i){return i===null?n(i):t(i)}}function SW(e,t,n){let r,s,a;return i;function i(u){return u===46||u===95?e.check(R_,c,l)(u):u===null||Rt(u)||Bi(u)||u!==45&&cp(u)?c(u):(a=!0,e.consume(u),i)}function l(u){return u===95?r=!0:(s=r,r=void 0),e.consume(u),i}function c(u){return s||r||!a?n(u):t(u)}}function kW(e,t){let n=0,r=0;return s;function s(i){return i===40?(n++,e.consume(i),s):i===41&&r<n?a(i):i===33||i===34||i===38||i===39||i===41||i===42||i===44||i===46||i===58||i===59||i===60||i===63||i===93||i===95||i===126?e.check(R_,t,a)(i):i===null||Rt(i)||Bi(i)?t(i):(e.consume(i),s)}function a(i){return i===41&&r++,e.consume(i),s}}function CW(e,t,n){return r;function r(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(e.consume(l),r):l===38?(e.consume(l),a):l===93?(e.consume(l),s):l===60||l===null||Rt(l)||Bi(l)?t(l):n(l)}function s(l){return l===null||l===40||l===91||Rt(l)||Bi(l)?t(l):r(l)}function a(l){return gr(l)?i(l):n(l)}function i(l){return l===59?(e.consume(l),r):gr(l)?(e.consume(l),i):n(l)}}function AW(e,t,n){return r;function r(a){return e.consume(a),s}function s(a){return Xn(a)?n(a):t(a)}}function O_(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Rt(e)}function L_(e){return!gr(e)}function M_(e){return!(e===47||Ux(e))}function Ux(e){return e===43||e===45||e===46||e===95||Xn(e)}function e1(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const _W={tokenize:MW,partial:!0};function jW(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:DW,continuation:{tokenize:OW},exit:LW}},text:{91:{name:"gfmFootnoteCall",tokenize:PW},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:IW,resolveTo:RW}}}}function IW(e,t,n){const r=this;let s=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i;for(;s--;){const c=r.events[s][1];if(c.type==="labelImage"){i=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return l;function l(c){if(!i||!i._balanced)return n(c);const u=Us(r.sliceSerialize({start:i.end,end:r.now()}));return u.codePointAt(0)!==94||!a.includes(u.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function RW(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},e[e.length-1][1].start)},i={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},l=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",s,t],["exit",s,t],["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...l),e}function PW(e,t,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,i;return l;function l(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),c}function c(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(a>999||f===93&&!i||f===null||f===91||Rt(f))return n(f);if(f===93){e.exit("chunkString");const m=e.exit("gfmFootnoteCallString");return s.includes(Us(r.sliceSerialize(m)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Rt(f)||(i=!0),a++,e.consume(f),f===92?d:u}function d(f){return f===91||f===92||f===93?(e.consume(f),a++,u):u(f)}}function DW(e,t,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,i=0,l;return c;function c(g){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(g){return g===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(g)}function d(g){if(i>999||g===93&&!l||g===null||g===91||Rt(g))return n(g);if(g===93){e.exit("chunkString");const y=e.exit("gfmFootnoteDefinitionLabelString");return a=Us(r.sliceSerialize(y)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),m}return Rt(g)||(l=!0),i++,e.consume(g),g===92?f:d}function f(g){return g===91||g===92||g===93?(e.consume(g),i++,d):d(g)}function m(g){return g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),s.includes(a)||s.push(a),yt(e,p,"gfmFootnoteDefinitionWhitespace")):n(g)}function p(g){return t(g)}}function OW(e,t,n){return e.check(Bd,t,e.attempt(_W,t,n))}function LW(e){e.exit("gfmFootnoteDefinition")}function MW(e,t,n){const r=this;return yt(e,s,"gfmFootnoteDefinitionIndent",5);function s(a){const i=r.events[r.events.length-1];return i&&i[1].type==="gfmFootnoteDefinitionIndent"&&i[2].sliceSerialize(i[1],!0).length===4?t(a):n(a)}}function FW(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:s};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function s(i,l){let c=-1;for(;++c<i.length;)if(i[c][0]==="enter"&&i[c][1].type==="strikethroughSequenceTemporary"&&i[c][1]._close){let u=c;for(;u--;)if(i[u][0]==="exit"&&i[u][1].type==="strikethroughSequenceTemporary"&&i[u][1]._open&&i[c][1].end.offset-i[c][1].start.offset===i[u][1].end.offset-i[u][1].start.offset){i[c][1].type="strikethroughSequence",i[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},i[u][1].start),end:Object.assign({},i[c][1].end)},f={type:"strikethroughText",start:Object.assign({},i[u][1].end),end:Object.assign({},i[c][1].start)},m=[["enter",d,l],["enter",i[u][1],l],["exit",i[u][1],l],["enter",f,l]],p=l.parser.constructs.insideSpan.null;p&&ts(m,m.length,0,up(p,i.slice(u+1,c),l)),ts(m,m.length,0,[["exit",f,l],["enter",i[c][1],l],["exit",i[c][1],l],["exit",d,l]]),ts(i,u-1,c-u+3,m),c=u+m.length-2;break}}for(c=-1;++c<i.length;)i[c][1].type==="strikethroughSequenceTemporary"&&(i[c][1].type="data");return i}function a(i,l,c){const u=this.previous,d=this.events;let f=0;return m;function m(g){return u===126&&d[d.length-1][1].type!=="characterEscape"?c(g):(i.enter("strikethroughSequenceTemporary"),p(g))}function p(g){const y=uc(u);if(g===126)return f>1?c(g):(i.consume(g),f++,p);if(f<2&&!n)return c(g);const w=i.exit("strikethroughSequenceTemporary"),v=uc(g);return w._open=!v||v===2&&!!y,w._close=!y||y===2&&!!v,l(g)}}}class BW{constructor(){this.map=[]}add(t,n,r){UW(this,t,n,r)}consume(t){if(this.map.sort(function(a,i){return a[0]-i[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let s=r.pop();for(;s;){for(const a of s)t.push(a);s=r.pop()}this.map.length=0}}function UW(e,t,n,r){let s=0;if(!(n===0&&r.length===0)){for(;s<e.map.length;){if(e.map[s][0]===t){e.map[s][1]+=n,e.map[s][2].push(...r);return}s+=1}e.map.push([t,n,r])}}function HW(e,t){let n=!1;const r=[];for(;t<e.length;){const s=e[t];if(n){if(s[0]==="enter")s[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function $W(){return{flow:{null:{name:"table",tokenize:zW,resolveAll:WW}}}}function zW(e,t,n){const r=this;let s=0,a=0,i;return l;function l(k){let $=r.events.length-1;for(;$>-1;){const P=r.events[$][1].type;if(P==="lineEnding"||P==="linePrefix")$--;else break}const I=$>-1?r.events[$][1].type:null,Y=I==="tableHead"||I==="tableRow"?S:c;return Y===S&&r.parser.lazy[r.now().line]?n(k):Y(k)}function c(k){return e.enter("tableHead"),e.enter("tableRow"),u(k)}function u(k){return k===124||(i=!0,a+=1),d(k)}function d(k){return k===null?n(k):ze(k)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),p):n(k):ut(k)?yt(e,d,"whitespace")(k):(a+=1,i&&(i=!1,s+=1),k===124?(e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),i=!0,d):(e.enter("data"),f(k)))}function f(k){return k===null||k===124||Rt(k)?(e.exit("data"),d(k)):(e.consume(k),k===92?m:f)}function m(k){return k===92||k===124?(e.consume(k),f):f(k)}function p(k){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(k):(e.enter("tableDelimiterRow"),i=!1,ut(k)?yt(e,g,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):g(k))}function g(k){return k===45||k===58?w(k):k===124?(i=!0,e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),y):C(k)}function y(k){return ut(k)?yt(e,w,"whitespace")(k):w(k)}function w(k){return k===58?(a+=1,i=!0,e.enter("tableDelimiterMarker"),e.consume(k),e.exit("tableDelimiterMarker"),v):k===45?(a+=1,v(k)):k===null||ze(k)?N(k):C(k)}function v(k){return k===45?(e.enter("tableDelimiterFiller"),b(k)):C(k)}function b(k){return k===45?(e.consume(k),b):k===58?(i=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(k),e.exit("tableDelimiterMarker"),E):(e.exit("tableDelimiterFiller"),E(k))}function E(k){return ut(k)?yt(e,N,"whitespace")(k):N(k)}function N(k){return k===124?g(k):k===null||ze(k)?!i||s!==a?C(k):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(k)):C(k)}function C(k){return n(k)}function S(k){return e.enter("tableRow"),_(k)}function _(k){return k===124?(e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),_):k===null||ze(k)?(e.exit("tableRow"),t(k)):ut(k)?yt(e,_,"whitespace")(k):(e.enter("data"),H(k))}function H(k){return k===null||k===124||Rt(k)?(e.exit("data"),_(k)):(e.consume(k),k===92?V:H)}function V(k){return k===92||k===124?(e.consume(k),H):H(k)}}function WW(e,t){let n=-1,r=!0,s=0,a=[0,0,0,0],i=[0,0,0,0],l=!1,c=0,u,d,f;const m=new BW;for(;++n<e.length;){const p=e[n],g=p[1];p[0]==="enter"?g.type==="tableHead"?(l=!1,c!==0&&(b2(m,t,c,u,d),d=void 0,c=0),u={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},m.add(n,0,[["enter",u,t]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(r=!0,f=void 0,a=[0,0,0,0],i=[0,n+1,0,0],l&&(l=!1,d={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},m.add(n,0,[["enter",d,t]])),s=g.type==="tableDelimiterRow"?2:d?3:1):s&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(r=!1,i[2]===0&&(a[1]!==0&&(i[0]=i[1],f=If(m,t,a,s,void 0,f),a=[0,0,0,0]),i[2]=n)):g.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(i[0]=i[1],f=If(m,t,a,s,void 0,f)),a=i,i=[a[1],n,0,0])):g.type==="tableHead"?(l=!0,c=n):g.type==="tableRow"||g.type==="tableDelimiterRow"?(c=n,a[1]!==0?(i[0]=i[1],f=If(m,t,a,s,n,f)):i[1]!==0&&(f=If(m,t,i,s,n,f)),s=0):s&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(i[3]=n)}for(c!==0&&b2(m,t,c,u,d),m.consume(t.events),n=-1;++n<t.events.length;){const p=t.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=HW(t.events,n))}return e}function If(e,t,n,r,s,a){const i=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",l="tableContent";n[0]!==0&&(a.end=Object.assign({},fl(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const c=fl(t.events,n[1]);if(a={type:i,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const u=fl(t.events,n[2]),d=fl(t.events,n[3]),f={type:l,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const m=t.events[n[2]],p=t.events[n[3]];if(m[1].end=Object.assign({},p[1].end),m[1].type="chunkText",m[1].contentType="text",n[3]>n[2]+1){const g=n[2]+1,y=n[3]-n[2]-1;e.add(g,y,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return s!==void 0&&(a.end=Object.assign({},fl(t.events,s)),e.add(s,0,[["exit",a,t]]),a=void 0),a}function b2(e,t,n,r,s){const a=[],i=fl(t.events,n);s&&(s.end=Object.assign({},i),a.push(["exit",s,t])),r.end=Object.assign({},i),a.push(["exit",r,t]),e.add(n+1,0,a)}function fl(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const VW={name:"tasklistCheck",tokenize:qW};function YW(){return{text:{91:VW}}}function qW(e,t,n){const r=this;return s;function s(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),a)}function a(c){return Rt(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),i):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),i):n(c)}function i(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),l):n(c)}function l(c){return ze(c)?t(c):ut(c)?e.check({tokenize:GW},t,n)(c):n(c)}}function GW(e,t,n){return yt(e,r,"whitespace");function r(s){return s===null?n(s):t(s)}}function KW(e){return VA([vW(),jW(),FW(e),$W(),YW()])}const QW={};function F_(e){const t=this,n=e||QW,r=t.data(),s=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),i=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);s.push(KW(n)),a.push(gW()),i.push(xW(n))}const v2=/[#.]/g;function XW(e,t){const n=e||"",r={};let s=0,a,i;for(;s<n.length;){v2.lastIndex=s;const l=v2.exec(n),c=n.slice(s,l?l.index:n.length);c&&(a?a==="#"?r.id=c:Array.isArray(r.className)?r.className.push(c):r.className=[c]:i=c,s+=c.length),l&&(a=l[0],s++)}return{type:"element",tagName:i||t||"div",properties:r,children:[]}}function B_(e,t,n){const r=n?tV(n):void 0;function s(a,i,...l){let c;if(a==null){c={type:"root",children:[]};const u=i;l.unshift(u)}else{c=XW(a,t);const u=c.tagName.toLowerCase(),d=r?r.get(u):void 0;if(c.tagName=d||u,ZW(i))l.unshift(i);else for(const[f,m]of Object.entries(i))JW(e,c.properties,f,m)}for(const u of l)Hx(c.children,u);return c.type==="element"&&c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}return s}function ZW(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const s=t[r];if(s&&typeof s=="object"){if(!Array.isArray(s))return!0;const a=s;for(const i of a)if(typeof i!="number"&&typeof i!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function JW(e,t,n,r){const s=op(e,n);let a;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;a=r}else typeof r=="boolean"?a=r:typeof r=="string"?s.spaceSeparated?a=CE(r):s.commaSeparated?a=EE(r):s.commaOrSpaceSeparated?a=CE(EE(r).join(" ")):a=w2(s,s.property,r):Array.isArray(r)?a=[...r]:a=s.property==="style"?eV(r):String(r);if(Array.isArray(a)){const i=[];for(const l of a)i.push(w2(s,s.property,l));a=i}s.property==="className"&&Array.isArray(t.className)&&(a=t.className.concat(a)),t[s.property]=a}}function Hx(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)Hx(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?Hx(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function w2(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||dd(n)===dd(t)))return!0}return n}function eV(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function tV(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const nV=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],rV=B_(Fd,"div"),sV=B_(Jo,"g",nV);function aV(e){const t=String(e),n=[];return{toOffset:s,toPoint:r};function r(a){if(typeof a=="number"&&a>-1&&a<=t.length){let i=0;for(;;){let l=n[i];if(l===void 0){const c=E2(t,n[i-1]);l=c===-1?t.length+1:c+1,n[i]=l}if(l>a)return{line:i+1,column:a-(i>0?n[i-1]:0)+1,offset:a};i++}}}function s(a){if(a&&typeof a.line=="number"&&typeof a.column=="number"&&!Number.isNaN(a.line)&&!Number.isNaN(a.column)){for(;n.length<a.line;){const l=n[n.length-1],c=E2(t,l),u=c===-1?t.length+1:c+1;if(l===u)break;n.push(u)}const i=(a.line>1?n[a.line-2]:0)+a.column-1;if(i<n[a.line-1])return i}}}function E2(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const xi={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},U_={}.hasOwnProperty,oV=Object.prototype;function iV(e,t){const n=t||{};return t1({file:n.file||void 0,location:!1,schema:n.space==="svg"?Jo:Fd,verbose:n.verbose||!1},e)}function t1(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},ih(e,r,n),n}case"#document":case"#document-fragment":{const r=t,s="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:H_(e,t.childNodes),data:{quirksMode:s}},e.file&&e.location){const a=String(e.file),i=aV(a),l=i.toPoint(0),c=i.toPoint(a.length);n.position={start:l,end:c}}return n}case"#documentType":{const r=t;return n={type:"doctype"},ih(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},ih(e,r,n),n}default:return n=lV(e,t),n}}function H_(e,t){let n=-1;const r=[];for(;++n<t.length;){const s=t1(e,t[n]);r.push(s)}return r}function lV(e,t){const n=e.schema;e.schema=t.namespaceURI===xi.svg?Jo:Fd;let r=-1;const s={};for(;++r<t.attrs.length;){const l=t.attrs[r],c=(l.prefix?l.prefix+":":"")+l.name;U_.call(oV,c)||(s[c]=l.value)}const i=(e.schema.space==="svg"?sV:rV)(t.tagName,s,H_(e,t.childNodes));if(ih(e,t,i),i.tagName==="template"){const l=t,c=l.sourceCodeLocation,u=c&&c.startTag&&Al(c.startTag),d=c&&c.endTag&&Al(c.endTag),f=t1(e,l.content);u&&d&&e.file&&(f.position={start:u.end,end:d.start}),i.content=f}return e.schema=n,i}function ih(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=cV(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function cV(e,t,n){const r=Al(n);if(t.type==="element"){const s=t.children[t.children.length-1];if(r&&!n.endTag&&s&&s.position&&s.position.end&&(r.end=Object.assign({},s.position.end)),e.verbose){const a={};let i;if(n.attrs)for(i in n.attrs)U_.call(n.attrs,i)&&(a[op(e.schema,i).property]=Al(n.attrs[i]));n.startTag;const l=Al(n.startTag),c=n.endTag?Al(n.endTag):void 0,u={opening:l};c&&(u.closing=c),u.properties=a,t.data={position:u}}}return r}function Al(e){const t=N2({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=N2({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function N2(e){return e.line&&e.column?e:void 0}const uV={},dV={}.hasOwnProperty,$_=y_("type",{handlers:{root:hV,element:yV,text:gV,comment:xV,doctype:pV}});function fV(e,t){const r=(t||uV).space;return $_(e,r==="svg"?Jo:Fd)}function hV(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=n1(e.children,n,t),Lc(e,n),n}function mV(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=n1(e.children,n,t),Lc(e,n),n}function pV(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Lc(e,t),t}function gV(e){const t={nodeName:"#text",value:e.value,parentNode:null};return Lc(e,t),t}function xV(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return Lc(e,t),t}function yV(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=Jo);const s=[];let a;if(e.properties){for(a in e.properties)if(a!=="children"&&dV.call(e.properties,a)){const c=bV(r,a,e.properties[a]);c&&s.push(c)}}const i=r.space,l={nodeName:e.tagName,tagName:e.tagName,attrs:s,namespaceURI:xi[i],childNodes:[],parentNode:null};return l.childNodes=n1(e.children,l,r),Lc(e,l),e.tagName==="template"&&e.content&&(l.content=mV(e.content,r)),l}function bV(e,t,n){const r=op(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?jA(n):FA(n));const s={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const a=s.name.indexOf(":");a<0?s.prefix="":(s.name=s.name.slice(a+1),s.prefix=r.attribute.slice(0,a)),s.namespace=xi[r.space]}return s}function n1(e,t,n){let r=-1;const s=[];if(e)for(;++r<e.length;){const a=$_(e[r],n);a.parentNode=t,s.push(a)}return s}function Lc(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const vV=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],wV=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Wt="";var j;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(j||(j={}));const Ar={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function z_(e){return e>=55296&&e<=57343}function EV(e){return e>=56320&&e<=57343}function NV(e,t){return(e-55296)*1024+9216+t}function W_(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function V_(e){return e>=64976&&e<=65007||wV.has(e)}var ie;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ie||(ie={}));const TV=65536;class SV{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=TV,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:s,offset:a}=this,i=s+n,l=a+n;return{code:t,startLine:r,endLine:r,startCol:i,endCol:i,startOffset:l,endOffset:l}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(EV(n))return this.pos++,this._addGap(),NV(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,j.EOF;return this._err(ie.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,j.EOF;const r=this.html.charCodeAt(n);return r===j.CARRIAGE_RETURN?j.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,j.EOF;let t=this.html.charCodeAt(this.pos);return t===j.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,j.LINE_FEED):t===j.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,z_(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===j.LINE_FEED||t===j.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){W_(t)?this._err(ie.controlCharacterInInputStream):V_(t)&&this._err(ie.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var it;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(it||(it={}));function Y_(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const kV=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),CV=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function AV(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=CV.get(e))!==null&&t!==void 0?t:e}var Dn;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Dn||(Dn={}));const _V=32;var bo;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(bo||(bo={}));function $x(e){return e>=Dn.ZERO&&e<=Dn.NINE}function jV(e){return e>=Dn.UPPER_A&&e<=Dn.UPPER_F||e>=Dn.LOWER_A&&e<=Dn.LOWER_F}function IV(e){return e>=Dn.UPPER_A&&e<=Dn.UPPER_Z||e>=Dn.LOWER_A&&e<=Dn.LOWER_Z||$x(e)}function RV(e){return e===Dn.EQUALS||IV(e)}var In;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(In||(In={}));var ja;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(ja||(ja={}));class PV{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=In.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=ja.Strict}startEntity(t){this.decodeMode=t,this.state=In.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case In.EntityStart:return t.charCodeAt(n)===Dn.NUM?(this.state=In.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=In.NamedEntity,this.stateNamedEntity(t,n));case In.NumericStart:return this.stateNumericStart(t,n);case In.NumericDecimal:return this.stateNumericDecimal(t,n);case In.NumericHex:return this.stateNumericHex(t,n);case In.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|_V)===Dn.LOWER_X?(this.state=In.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=In.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,s){if(n!==r){const a=r-n;this.result=this.result*Math.pow(s,a)+Number.parseInt(t.substr(n,a),s),this.consumed+=a}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const s=t.charCodeAt(n);if($x(s)||jV(s))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const s=t.charCodeAt(n);if($x(s))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Dn.SEMI)this.consumed+=1;else if(this.decodeMode===ja.Strict)return 0;return this.emitCodePoint(AV(this.result),this.consumed),this.errors&&(t!==Dn.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let s=r[this.treeIndex],a=(s&bo.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const i=t.charCodeAt(n);if(this.treeIndex=DV(r,s,this.treeIndex+Math.max(1,a),i),this.treeIndex<0)return this.result===0||this.decodeMode===ja.Attribute&&(a===0||RV(i))?0:this.emitNotTerminatedNamedEntity();if(s=r[this.treeIndex],a=(s&bo.VALUE_LENGTH)>>14,a!==0){if(i===Dn.SEMI)return this.emitNamedEntityData(this.treeIndex,a,this.consumed+this.excess);this.decodeMode!==ja.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,s=(r[n]&bo.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,s,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:s}=this;return this.emitCodePoint(n===1?s[t]&~bo.VALUE_LENGTH:s[t+1],r),n===3&&this.emitCodePoint(s[t+2],r),r}end(){var t;switch(this.state){case In.NamedEntity:return this.result!==0&&(this.decodeMode!==ja.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case In.NumericDecimal:return this.emitNumericEntity(0,2);case In.NumericHex:return this.emitNumericEntity(0,3);case In.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case In.EntityStart:return 0}}}function DV(e,t,n,r){const s=(t&bo.BRANCH_LENGTH)>>7,a=t&bo.JUMP_TABLE;if(s===0)return a!==0&&r===a?n:-1;if(a){const c=r-a;return c<0||c>=s?-1:e[n+c]-1}let i=n,l=i+s-1;for(;i<=l;){const c=i+l>>>1,u=e[c];if(u<r)i=c+1;else if(u>r)l=c-1;else return e[c+s]}return-1}var he;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(he||(he={}));var _i;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(_i||(_i={}));var ps;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(ps||(ps={}));var ee;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(ee||(ee={}));var x;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(x||(x={}));const OV=new Map([[ee.A,x.A],[ee.ADDRESS,x.ADDRESS],[ee.ANNOTATION_XML,x.ANNOTATION_XML],[ee.APPLET,x.APPLET],[ee.AREA,x.AREA],[ee.ARTICLE,x.ARTICLE],[ee.ASIDE,x.ASIDE],[ee.B,x.B],[ee.BASE,x.BASE],[ee.BASEFONT,x.BASEFONT],[ee.BGSOUND,x.BGSOUND],[ee.BIG,x.BIG],[ee.BLOCKQUOTE,x.BLOCKQUOTE],[ee.BODY,x.BODY],[ee.BR,x.BR],[ee.BUTTON,x.BUTTON],[ee.CAPTION,x.CAPTION],[ee.CENTER,x.CENTER],[ee.CODE,x.CODE],[ee.COL,x.COL],[ee.COLGROUP,x.COLGROUP],[ee.DD,x.DD],[ee.DESC,x.DESC],[ee.DETAILS,x.DETAILS],[ee.DIALOG,x.DIALOG],[ee.DIR,x.DIR],[ee.DIV,x.DIV],[ee.DL,x.DL],[ee.DT,x.DT],[ee.EM,x.EM],[ee.EMBED,x.EMBED],[ee.FIELDSET,x.FIELDSET],[ee.FIGCAPTION,x.FIGCAPTION],[ee.FIGURE,x.FIGURE],[ee.FONT,x.FONT],[ee.FOOTER,x.FOOTER],[ee.FOREIGN_OBJECT,x.FOREIGN_OBJECT],[ee.FORM,x.FORM],[ee.FRAME,x.FRAME],[ee.FRAMESET,x.FRAMESET],[ee.H1,x.H1],[ee.H2,x.H2],[ee.H3,x.H3],[ee.H4,x.H4],[ee.H5,x.H5],[ee.H6,x.H6],[ee.HEAD,x.HEAD],[ee.HEADER,x.HEADER],[ee.HGROUP,x.HGROUP],[ee.HR,x.HR],[ee.HTML,x.HTML],[ee.I,x.I],[ee.IMG,x.IMG],[ee.IMAGE,x.IMAGE],[ee.INPUT,x.INPUT],[ee.IFRAME,x.IFRAME],[ee.KEYGEN,x.KEYGEN],[ee.LABEL,x.LABEL],[ee.LI,x.LI],[ee.LINK,x.LINK],[ee.LISTING,x.LISTING],[ee.MAIN,x.MAIN],[ee.MALIGNMARK,x.MALIGNMARK],[ee.MARQUEE,x.MARQUEE],[ee.MATH,x.MATH],[ee.MENU,x.MENU],[ee.META,x.META],[ee.MGLYPH,x.MGLYPH],[ee.MI,x.MI],[ee.MO,x.MO],[ee.MN,x.MN],[ee.MS,x.MS],[ee.MTEXT,x.MTEXT],[ee.NAV,x.NAV],[ee.NOBR,x.NOBR],[ee.NOFRAMES,x.NOFRAMES],[ee.NOEMBED,x.NOEMBED],[ee.NOSCRIPT,x.NOSCRIPT],[ee.OBJECT,x.OBJECT],[ee.OL,x.OL],[ee.OPTGROUP,x.OPTGROUP],[ee.OPTION,x.OPTION],[ee.P,x.P],[ee.PARAM,x.PARAM],[ee.PLAINTEXT,x.PLAINTEXT],[ee.PRE,x.PRE],[ee.RB,x.RB],[ee.RP,x.RP],[ee.RT,x.RT],[ee.RTC,x.RTC],[ee.RUBY,x.RUBY],[ee.S,x.S],[ee.SCRIPT,x.SCRIPT],[ee.SEARCH,x.SEARCH],[ee.SECTION,x.SECTION],[ee.SELECT,x.SELECT],[ee.SOURCE,x.SOURCE],[ee.SMALL,x.SMALL],[ee.SPAN,x.SPAN],[ee.STRIKE,x.STRIKE],[ee.STRONG,x.STRONG],[ee.STYLE,x.STYLE],[ee.SUB,x.SUB],[ee.SUMMARY,x.SUMMARY],[ee.SUP,x.SUP],[ee.TABLE,x.TABLE],[ee.TBODY,x.TBODY],[ee.TEMPLATE,x.TEMPLATE],[ee.TEXTAREA,x.TEXTAREA],[ee.TFOOT,x.TFOOT],[ee.TD,x.TD],[ee.TH,x.TH],[ee.THEAD,x.THEAD],[ee.TITLE,x.TITLE],[ee.TR,x.TR],[ee.TRACK,x.TRACK],[ee.TT,x.TT],[ee.U,x.U],[ee.UL,x.UL],[ee.SVG,x.SVG],[ee.VAR,x.VAR],[ee.WBR,x.WBR],[ee.XMP,x.XMP]]);function Mc(e){var t;return(t=OV.get(e))!==null&&t!==void 0?t:x.UNKNOWN}const ge=x,LV={[he.HTML]:new Set([ge.ADDRESS,ge.APPLET,ge.AREA,ge.ARTICLE,ge.ASIDE,ge.BASE,ge.BASEFONT,ge.BGSOUND,ge.BLOCKQUOTE,ge.BODY,ge.BR,ge.BUTTON,ge.CAPTION,ge.CENTER,ge.COL,ge.COLGROUP,ge.DD,ge.DETAILS,ge.DIR,ge.DIV,ge.DL,ge.DT,ge.EMBED,ge.FIELDSET,ge.FIGCAPTION,ge.FIGURE,ge.FOOTER,ge.FORM,ge.FRAME,ge.FRAMESET,ge.H1,ge.H2,ge.H3,ge.H4,ge.H5,ge.H6,ge.HEAD,ge.HEADER,ge.HGROUP,ge.HR,ge.HTML,ge.IFRAME,ge.IMG,ge.INPUT,ge.LI,ge.LINK,ge.LISTING,ge.MAIN,ge.MARQUEE,ge.MENU,ge.META,ge.NAV,ge.NOEMBED,ge.NOFRAMES,ge.NOSCRIPT,ge.OBJECT,ge.OL,ge.P,ge.PARAM,ge.PLAINTEXT,ge.PRE,ge.SCRIPT,ge.SECTION,ge.SELECT,ge.SOURCE,ge.STYLE,ge.SUMMARY,ge.TABLE,ge.TBODY,ge.TD,ge.TEMPLATE,ge.TEXTAREA,ge.TFOOT,ge.TH,ge.THEAD,ge.TITLE,ge.TR,ge.TRACK,ge.UL,ge.WBR,ge.XMP]),[he.MATHML]:new Set([ge.MI,ge.MO,ge.MN,ge.MS,ge.MTEXT,ge.ANNOTATION_XML]),[he.SVG]:new Set([ge.TITLE,ge.FOREIGN_OBJECT,ge.DESC]),[he.XLINK]:new Set,[he.XML]:new Set,[he.XMLNS]:new Set},zx=new Set([ge.H1,ge.H2,ge.H3,ge.H4,ge.H5,ge.H6]);ee.STYLE,ee.SCRIPT,ee.XMP,ee.IFRAME,ee.NOEMBED,ee.NOFRAMES,ee.PLAINTEXT;var R;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(R||(R={}));const dn={DATA:R.DATA,RCDATA:R.RCDATA,RAWTEXT:R.RAWTEXT,SCRIPT_DATA:R.SCRIPT_DATA,PLAINTEXT:R.PLAINTEXT,CDATA_SECTION:R.CDATA_SECTION};function MV(e){return e>=j.DIGIT_0&&e<=j.DIGIT_9}function mu(e){return e>=j.LATIN_CAPITAL_A&&e<=j.LATIN_CAPITAL_Z}function FV(e){return e>=j.LATIN_SMALL_A&&e<=j.LATIN_SMALL_Z}function to(e){return FV(e)||mu(e)}function T2(e){return to(e)||MV(e)}function Rf(e){return e+32}function q_(e){return e===j.SPACE||e===j.LINE_FEED||e===j.TABULATION||e===j.FORM_FEED}function S2(e){return q_(e)||e===j.SOLIDUS||e===j.GREATER_THAN_SIGN}function BV(e){return e===j.NULL?ie.nullCharacterReference:e>1114111?ie.characterReferenceOutsideUnicodeRange:z_(e)?ie.surrogateCharacterReference:V_(e)?ie.noncharacterCharacterReference:W_(e)||e===j.CARRIAGE_RETURN?ie.controlCharacterReference:null}class UV{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=R.DATA,this.returnState=R.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new SV(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new PV(kV,(r,s)=>{this.preprocessor.pos=this.entityStartPos+s-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(ie.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(ie.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const s=BV(r);s&&this._err(s,1)}}:void 0)}_err(t,n=0){var r,s;(s=(r=this.handler).onParseError)===null||s===void 0||s.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:it.START_TAG,tagName:"",tagID:x.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:it.END_TAG,tagName:"",tagID:x.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:it.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:it.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(Y_(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const s=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);s[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ie.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Mc(t.tagName),t.type===it.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(ie.endTagWithAttributes),t.selfClosing&&this._err(ie.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case it.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case it.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case it.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:it.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=q_(t)?it.WHITESPACE_CHARACTER:t===j.NULL?it.NULL_CHARACTER:it.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(it.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=R.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?ja.Attribute:ja.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===R.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===R.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===R.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case R.DATA:{this._stateData(t);break}case R.RCDATA:{this._stateRcdata(t);break}case R.RAWTEXT:{this._stateRawtext(t);break}case R.SCRIPT_DATA:{this._stateScriptData(t);break}case R.PLAINTEXT:{this._statePlaintext(t);break}case R.TAG_OPEN:{this._stateTagOpen(t);break}case R.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case R.TAG_NAME:{this._stateTagName(t);break}case R.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case R.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case R.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case R.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case R.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case R.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case R.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case R.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case R.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case R.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case R.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case R.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case R.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case R.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case R.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case R.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case R.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case R.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case R.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case R.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case R.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case R.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case R.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case R.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case R.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case R.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case R.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case R.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case R.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case R.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case R.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case R.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case R.BOGUS_COMMENT:{this._stateBogusComment(t);break}case R.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case R.COMMENT_START:{this._stateCommentStart(t);break}case R.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case R.COMMENT:{this._stateComment(t);break}case R.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case R.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case R.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case R.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case R.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case R.COMMENT_END:{this._stateCommentEnd(t);break}case R.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case R.DOCTYPE:{this._stateDoctype(t);break}case R.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case R.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case R.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case R.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case R.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case R.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case R.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case R.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case R.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case R.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case R.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case R.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case R.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case R.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case R.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case R.CDATA_SECTION:{this._stateCdataSection(t);break}case R.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case R.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case R.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case R.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case j.LESS_THAN_SIGN:{this.state=R.TAG_OPEN;break}case j.AMPERSAND:{this._startCharacterReference();break}case j.NULL:{this._err(ie.unexpectedNullCharacter),this._emitCodePoint(t);break}case j.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case j.AMPERSAND:{this._startCharacterReference();break}case j.LESS_THAN_SIGN:{this.state=R.RCDATA_LESS_THAN_SIGN;break}case j.NULL:{this._err(ie.unexpectedNullCharacter),this._emitChars(Wt);break}case j.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case j.LESS_THAN_SIGN:{this.state=R.RAWTEXT_LESS_THAN_SIGN;break}case j.NULL:{this._err(ie.unexpectedNullCharacter),this._emitChars(Wt);break}case j.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case j.LESS_THAN_SIGN:{this.state=R.SCRIPT_DATA_LESS_THAN_SIGN;break}case j.NULL:{this._err(ie.unexpectedNullCharacter),this._emitChars(Wt);break}case j.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case j.NULL:{this._err(ie.unexpectedNullCharacter),this._emitChars(Wt);break}case j.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(to(t))this._createStartTagToken(),this.state=R.TAG_NAME,this._stateTagName(t);else switch(t){case j.EXCLAMATION_MARK:{this.state=R.MARKUP_DECLARATION_OPEN;break}case j.SOLIDUS:{this.state=R.END_TAG_OPEN;break}case j.QUESTION_MARK:{this._err(ie.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=R.BOGUS_COMMENT,this._stateBogusComment(t);break}case j.EOF:{this._err(ie.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ie.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=R.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(to(t))this._createEndTagToken(),this.state=R.TAG_NAME,this._stateTagName(t);else switch(t){case j.GREATER_THAN_SIGN:{this._err(ie.missingEndTagName),this.state=R.DATA;break}case j.EOF:{this._err(ie.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ie.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=R.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:{this.state=R.BEFORE_ATTRIBUTE_NAME;break}case j.SOLIDUS:{this.state=R.SELF_CLOSING_START_TAG;break}case j.GREATER_THAN_SIGN:{this.state=R.DATA,this.emitCurrentTagToken();break}case j.NULL:{this._err(ie.unexpectedNullCharacter),n.tagName+=Wt;break}case j.EOF:{this._err(ie.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(mu(t)?Rf(t):t)}}_stateRcdataLessThanSign(t){t===j.SOLIDUS?this.state=R.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=R.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){to(t)?(this.state=R.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=R.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=R.BEFORE_ATTRIBUTE_NAME,!1;case j.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=R.SELF_CLOSING_START_TAG,!1;case j.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=R.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=R.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===j.SOLIDUS?this.state=R.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=R.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){to(t)?(this.state=R.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=R.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=R.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case j.SOLIDUS:{this.state=R.SCRIPT_DATA_END_TAG_OPEN;break}case j.EXCLAMATION_MARK:{this.state=R.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=R.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){to(t)?(this.state=R.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=R.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=R.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===j.HYPHEN_MINUS?(this.state=R.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=R.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===j.HYPHEN_MINUS?(this.state=R.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=R.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case j.HYPHEN_MINUS:{this.state=R.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case j.LESS_THAN_SIGN:{this.state=R.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case j.NULL:{this._err(ie.unexpectedNullCharacter),this._emitChars(Wt);break}case j.EOF:{this._err(ie.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case j.HYPHEN_MINUS:{this.state=R.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case j.LESS_THAN_SIGN:{this.state=R.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case j.NULL:{this._err(ie.unexpectedNullCharacter),this.state=R.SCRIPT_DATA_ESCAPED,this._emitChars(Wt);break}case j.EOF:{this._err(ie.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=R.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case j.HYPHEN_MINUS:{this._emitChars("-");break}case j.LESS_THAN_SIGN:{this.state=R.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case j.GREATER_THAN_SIGN:{this.state=R.SCRIPT_DATA,this._emitChars(">");break}case j.NULL:{this._err(ie.unexpectedNullCharacter),this.state=R.SCRIPT_DATA_ESCAPED,this._emitChars(Wt);break}case j.EOF:{this._err(ie.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=R.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===j.SOLIDUS?this.state=R.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:to(t)?(this._emitChars("<"),this.state=R.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=R.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){to(t)?(this.state=R.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=R.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=R.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Ar.SCRIPT,!1)&&S2(this.preprocessor.peek(Ar.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Ar.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=R.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case j.HYPHEN_MINUS:{this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case j.LESS_THAN_SIGN:{this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case j.NULL:{this._err(ie.unexpectedNullCharacter),this._emitChars(Wt);break}case j.EOF:{this._err(ie.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case j.HYPHEN_MINUS:{this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case j.LESS_THAN_SIGN:{this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case j.NULL:{this._err(ie.unexpectedNullCharacter),this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Wt);break}case j.EOF:{this._err(ie.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case j.HYPHEN_MINUS:{this._emitChars("-");break}case j.LESS_THAN_SIGN:{this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case j.GREATER_THAN_SIGN:{this.state=R.SCRIPT_DATA,this._emitChars(">");break}case j.NULL:{this._err(ie.unexpectedNullCharacter),this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Wt);break}case j.EOF:{this._err(ie.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===j.SOLIDUS?(this.state=R.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Ar.SCRIPT,!1)&&S2(this.preprocessor.peek(Ar.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Ar.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=R.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:break;case j.SOLIDUS:case j.GREATER_THAN_SIGN:case j.EOF:{this.state=R.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case j.EQUALS_SIGN:{this._err(ie.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=R.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=R.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:case j.SOLIDUS:case j.GREATER_THAN_SIGN:case j.EOF:{this._leaveAttrName(),this.state=R.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case j.EQUALS_SIGN:{this._leaveAttrName(),this.state=R.BEFORE_ATTRIBUTE_VALUE;break}case j.QUOTATION_MARK:case j.APOSTROPHE:case j.LESS_THAN_SIGN:{this._err(ie.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case j.NULL:{this._err(ie.unexpectedNullCharacter),this.currentAttr.name+=Wt;break}default:this.currentAttr.name+=String.fromCodePoint(mu(t)?Rf(t):t)}}_stateAfterAttributeName(t){switch(t){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:break;case j.SOLIDUS:{this.state=R.SELF_CLOSING_START_TAG;break}case j.EQUALS_SIGN:{this.state=R.BEFORE_ATTRIBUTE_VALUE;break}case j.GREATER_THAN_SIGN:{this.state=R.DATA,this.emitCurrentTagToken();break}case j.EOF:{this._err(ie.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=R.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:break;case j.QUOTATION_MARK:{this.state=R.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case j.APOSTROPHE:{this.state=R.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case j.GREATER_THAN_SIGN:{this._err(ie.missingAttributeValue),this.state=R.DATA,this.emitCurrentTagToken();break}default:this.state=R.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case j.QUOTATION_MARK:{this.state=R.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case j.AMPERSAND:{this._startCharacterReference();break}case j.NULL:{this._err(ie.unexpectedNullCharacter),this.currentAttr.value+=Wt;break}case j.EOF:{this._err(ie.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case j.APOSTROPHE:{this.state=R.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case j.AMPERSAND:{this._startCharacterReference();break}case j.NULL:{this._err(ie.unexpectedNullCharacter),this.currentAttr.value+=Wt;break}case j.EOF:{this._err(ie.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:{this._leaveAttrValue(),this.state=R.BEFORE_ATTRIBUTE_NAME;break}case j.AMPERSAND:{this._startCharacterReference();break}case j.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=R.DATA,this.emitCurrentTagToken();break}case j.NULL:{this._err(ie.unexpectedNullCharacter),this.currentAttr.value+=Wt;break}case j.QUOTATION_MARK:case j.APOSTROPHE:case j.LESS_THAN_SIGN:case j.EQUALS_SIGN:case j.GRAVE_ACCENT:{this._err(ie.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case j.EOF:{this._err(ie.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:{this._leaveAttrValue(),this.state=R.BEFORE_ATTRIBUTE_NAME;break}case j.SOLIDUS:{this._leaveAttrValue(),this.state=R.SELF_CLOSING_START_TAG;break}case j.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=R.DATA,this.emitCurrentTagToken();break}case j.EOF:{this._err(ie.eofInTag),this._emitEOFToken();break}default:this._err(ie.missingWhitespaceBetweenAttributes),this.state=R.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case j.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=R.DATA,this.emitCurrentTagToken();break}case j.EOF:{this._err(ie.eofInTag),this._emitEOFToken();break}default:this._err(ie.unexpectedSolidusInTag),this.state=R.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case j.GREATER_THAN_SIGN:{this.state=R.DATA,this.emitCurrentComment(n);break}case j.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case j.NULL:{this._err(ie.unexpectedNullCharacter),n.data+=Wt;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Ar.DASH_DASH,!0)?(this._createCommentToken(Ar.DASH_DASH.length+1),this.state=R.COMMENT_START):this._consumeSequenceIfMatch(Ar.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Ar.DOCTYPE.length+1),this.state=R.DOCTYPE):this._consumeSequenceIfMatch(Ar.CDATA_START,!0)?this.inForeignNode?this.state=R.CDATA_SECTION:(this._err(ie.cdataInHtmlContent),this._createCommentToken(Ar.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=R.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ie.incorrectlyOpenedComment),this._createCommentToken(2),this.state=R.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case j.HYPHEN_MINUS:{this.state=R.COMMENT_START_DASH;break}case j.GREATER_THAN_SIGN:{this._err(ie.abruptClosingOfEmptyComment),this.state=R.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=R.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case j.HYPHEN_MINUS:{this.state=R.COMMENT_END;break}case j.GREATER_THAN_SIGN:{this._err(ie.abruptClosingOfEmptyComment),this.state=R.DATA,this.emitCurrentComment(n);break}case j.EOF:{this._err(ie.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=R.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case j.HYPHEN_MINUS:{this.state=R.COMMENT_END_DASH;break}case j.LESS_THAN_SIGN:{n.data+="<",this.state=R.COMMENT_LESS_THAN_SIGN;break}case j.NULL:{this._err(ie.unexpectedNullCharacter),n.data+=Wt;break}case j.EOF:{this._err(ie.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case j.EXCLAMATION_MARK:{n.data+="!",this.state=R.COMMENT_LESS_THAN_SIGN_BANG;break}case j.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=R.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===j.HYPHEN_MINUS?this.state=R.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=R.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===j.HYPHEN_MINUS?this.state=R.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=R.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==j.GREATER_THAN_SIGN&&t!==j.EOF&&this._err(ie.nestedComment),this.state=R.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case j.HYPHEN_MINUS:{this.state=R.COMMENT_END;break}case j.EOF:{this._err(ie.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=R.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case j.GREATER_THAN_SIGN:{this.state=R.DATA,this.emitCurrentComment(n);break}case j.EXCLAMATION_MARK:{this.state=R.COMMENT_END_BANG;break}case j.HYPHEN_MINUS:{n.data+="-";break}case j.EOF:{this._err(ie.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=R.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case j.HYPHEN_MINUS:{n.data+="--!",this.state=R.COMMENT_END_DASH;break}case j.GREATER_THAN_SIGN:{this._err(ie.incorrectlyClosedComment),this.state=R.DATA,this.emitCurrentComment(n);break}case j.EOF:{this._err(ie.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=R.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:{this.state=R.BEFORE_DOCTYPE_NAME;break}case j.GREATER_THAN_SIGN:{this.state=R.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case j.EOF:{this._err(ie.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ie.missingWhitespaceBeforeDoctypeName),this.state=R.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(mu(t))this._createDoctypeToken(String.fromCharCode(Rf(t))),this.state=R.DOCTYPE_NAME;else switch(t){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:break;case j.NULL:{this._err(ie.unexpectedNullCharacter),this._createDoctypeToken(Wt),this.state=R.DOCTYPE_NAME;break}case j.GREATER_THAN_SIGN:{this._err(ie.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=R.DATA;break}case j.EOF:{this._err(ie.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=R.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:{this.state=R.AFTER_DOCTYPE_NAME;break}case j.GREATER_THAN_SIGN:{this.state=R.DATA,this.emitCurrentDoctype(n);break}case j.NULL:{this._err(ie.unexpectedNullCharacter),n.name+=Wt;break}case j.EOF:{this._err(ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(mu(t)?Rf(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:break;case j.GREATER_THAN_SIGN:{this.state=R.DATA,this.emitCurrentDoctype(n);break}case j.EOF:{this._err(ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Ar.PUBLIC,!1)?this.state=R.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Ar.SYSTEM,!1)?this.state=R.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ie.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:{this.state=R.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case j.QUOTATION_MARK:{this._err(ie.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=R.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case j.APOSTROPHE:{this._err(ie.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=R.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case j.GREATER_THAN_SIGN:{this._err(ie.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=R.DATA,this.emitCurrentDoctype(n);break}case j.EOF:{this._err(ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ie.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:break;case j.QUOTATION_MARK:{n.publicId="",this.state=R.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case j.APOSTROPHE:{n.publicId="",this.state=R.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case j.GREATER_THAN_SIGN:{this._err(ie.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=R.DATA,this.emitCurrentDoctype(n);break}case j.EOF:{this._err(ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ie.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case j.QUOTATION_MARK:{this.state=R.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case j.NULL:{this._err(ie.unexpectedNullCharacter),n.publicId+=Wt;break}case j.GREATER_THAN_SIGN:{this._err(ie.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=R.DATA;break}case j.EOF:{this._err(ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case j.APOSTROPHE:{this.state=R.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case j.NULL:{this._err(ie.unexpectedNullCharacter),n.publicId+=Wt;break}case j.GREATER_THAN_SIGN:{this._err(ie.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=R.DATA;break}case j.EOF:{this._err(ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:{this.state=R.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case j.GREATER_THAN_SIGN:{this.state=R.DATA,this.emitCurrentDoctype(n);break}case j.QUOTATION_MARK:{this._err(ie.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case j.APOSTROPHE:{this._err(ie.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case j.EOF:{this._err(ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ie.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:break;case j.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=R.DATA;break}case j.QUOTATION_MARK:{n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case j.APOSTROPHE:{n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case j.EOF:{this._err(ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ie.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:{this.state=R.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case j.QUOTATION_MARK:{this._err(ie.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case j.APOSTROPHE:{this._err(ie.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case j.GREATER_THAN_SIGN:{this._err(ie.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=R.DATA,this.emitCurrentDoctype(n);break}case j.EOF:{this._err(ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ie.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:break;case j.QUOTATION_MARK:{n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case j.APOSTROPHE:{n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case j.GREATER_THAN_SIGN:{this._err(ie.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=R.DATA,this.emitCurrentDoctype(n);break}case j.EOF:{this._err(ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ie.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case j.QUOTATION_MARK:{this.state=R.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case j.NULL:{this._err(ie.unexpectedNullCharacter),n.systemId+=Wt;break}case j.GREATER_THAN_SIGN:{this._err(ie.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=R.DATA;break}case j.EOF:{this._err(ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case j.APOSTROPHE:{this.state=R.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case j.NULL:{this._err(ie.unexpectedNullCharacter),n.systemId+=Wt;break}case j.GREATER_THAN_SIGN:{this._err(ie.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=R.DATA;break}case j.EOF:{this._err(ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:break;case j.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=R.DATA;break}case j.EOF:{this._err(ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ie.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case j.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=R.DATA;break}case j.NULL:{this._err(ie.unexpectedNullCharacter);break}case j.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case j.RIGHT_SQUARE_BRACKET:{this.state=R.CDATA_SECTION_BRACKET;break}case j.EOF:{this._err(ie.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===j.RIGHT_SQUARE_BRACKET?this.state=R.CDATA_SECTION_END:(this._emitChars("]"),this.state=R.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case j.GREATER_THAN_SIGN:{this.state=R.DATA;break}case j.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=R.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(j.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&T2(this.preprocessor.peek(1))?R.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){T2(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===j.SEMICOLON&&this._err(ie.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const G_=new Set([x.DD,x.DT,x.LI,x.OPTGROUP,x.OPTION,x.P,x.RB,x.RP,x.RT,x.RTC]),k2=new Set([...G_,x.CAPTION,x.COLGROUP,x.TBODY,x.TD,x.TFOOT,x.TH,x.THEAD,x.TR]),Xh=new Set([x.APPLET,x.CAPTION,x.HTML,x.MARQUEE,x.OBJECT,x.TABLE,x.TD,x.TEMPLATE,x.TH]),HV=new Set([...Xh,x.OL,x.UL]),$V=new Set([...Xh,x.BUTTON]),C2=new Set([x.ANNOTATION_XML,x.MI,x.MN,x.MO,x.MS,x.MTEXT]),A2=new Set([x.DESC,x.FOREIGN_OBJECT,x.TITLE]),zV=new Set([x.TR,x.TEMPLATE,x.HTML]),WV=new Set([x.TBODY,x.TFOOT,x.THEAD,x.TEMPLATE,x.HTML]),VV=new Set([x.TABLE,x.TEMPLATE,x.HTML]),YV=new Set([x.TD,x.TH]);class qV{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=x.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===x.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===he.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const s=this._indexOf(t)+1;this.items.splice(s,0,n),this.tagIDs.splice(s,0,r),this.stackTop++,s===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,s===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==he.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(Math.max(n,0))}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(zx,he.HTML)}popUntilTableCellPopped(){this.popUntilPopped(YV,he.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(VV,he.HTML)}clearBackToTableBodyContext(){this.clearBackTo(WV,he.HTML)}clearBackToTableRowContext(){this.clearBackTo(zV,he.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===x.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===x.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const s=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case he.HTML:{if(s===t)return!0;if(n.has(s))return!1;break}case he.SVG:{if(A2.has(s))return!1;break}case he.MATHML:{if(C2.has(s))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Xh)}hasInListItemScope(t){return this.hasInDynamicScope(t,HV)}hasInButtonScope(t){return this.hasInDynamicScope(t,$V)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case he.HTML:{if(zx.has(n))return!0;if(Xh.has(n))return!1;break}case he.SVG:{if(A2.has(n))return!1;break}case he.MATHML:{if(C2.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===he.HTML)switch(this.tagIDs[n]){case t:return!0;case x.TABLE:case x.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===he.HTML)switch(this.tagIDs[t]){case x.TBODY:case x.THEAD:case x.TFOOT:return!0;case x.TABLE:case x.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===he.HTML)switch(this.tagIDs[n]){case t:return!0;case x.OPTION:case x.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&G_.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&k2.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&k2.has(this.currentTagId);)this.pop()}}const qg=3;var ra;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(ra||(ra={}));const _2={type:ra.Marker};class GV{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],s=n.length,a=this.treeAdapter.getTagName(t),i=this.treeAdapter.getNamespaceURI(t);for(let l=0;l<this.entries.length;l++){const c=this.entries[l];if(c.type===ra.Marker)break;const{element:u}=c;if(this.treeAdapter.getTagName(u)===a&&this.treeAdapter.getNamespaceURI(u)===i){const d=this.treeAdapter.getAttrList(u);d.length===s&&r.push({idx:l,attrs:d})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<qg)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<qg)return;const s=new Map(n.map(i=>[i.name,i.value]));let a=0;for(let i=0;i<r.length;i++){const l=r[i];l.attrs.every(c=>s.get(c.name)===c.value)&&(a+=1,a>=qg&&this.entries.splice(l.idx,1))}}insertMarker(){this.entries.unshift(_2)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:ra.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:ra.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(_2);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===ra.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===ra.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===ra.Element&&n.element===t)}}const no={createDocument(){return{nodeName:"#document",mode:ps.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const s=e.childNodes.find(a=>a.nodeName==="#documentType");if(s)s.name=t,s.publicId=n,s.systemId=r;else{const a={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};no.appendChild(e,a)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(no.isTextNode(n)){n.value+=t;return}}no.appendChild(e,no.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&no.isTextNode(r)?r.value+=t:no.insertBefore(e,no.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},K_="html",KV="about:legacy-compat",QV="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Q_=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],XV=[...Q_,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],ZV=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),X_=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],JV=[...X_,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function j2(e,t){return t.some(n=>e.startsWith(n))}function eY(e){return e.name===K_&&e.publicId===null&&(e.systemId===null||e.systemId===KV)}function tY(e){if(e.name!==K_)return ps.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===QV)return ps.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),ZV.has(n))return ps.QUIRKS;let r=t===null?XV:Q_;if(j2(n,r))return ps.QUIRKS;if(r=t===null?X_:JV,j2(n,r))return ps.LIMITED_QUIRKS}return ps.NO_QUIRKS}const I2={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},nY="definitionurl",rY="definitionURL",sY=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),aY=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:he.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:he.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:he.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:he.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:he.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:he.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:he.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:he.XML}],["xml:space",{prefix:"xml",name:"space",namespace:he.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:he.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:he.XMLNS}]]),oY=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),iY=new Set([x.B,x.BIG,x.BLOCKQUOTE,x.BODY,x.BR,x.CENTER,x.CODE,x.DD,x.DIV,x.DL,x.DT,x.EM,x.EMBED,x.H1,x.H2,x.H3,x.H4,x.H5,x.H6,x.HEAD,x.HR,x.I,x.IMG,x.LI,x.LISTING,x.MENU,x.META,x.NOBR,x.OL,x.P,x.PRE,x.RUBY,x.S,x.SMALL,x.SPAN,x.STRONG,x.STRIKE,x.SUB,x.SUP,x.TABLE,x.TT,x.U,x.UL,x.VAR]);function lY(e){const t=e.tagID;return t===x.FONT&&e.attrs.some(({name:r})=>r===_i.COLOR||r===_i.SIZE||r===_i.FACE)||iY.has(t)}function Z_(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===nY){e.attrs[t].name=rY;break}}function J_(e){for(let t=0;t<e.attrs.length;t++){const n=sY.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function r1(e){for(let t=0;t<e.attrs.length;t++){const n=aY.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function cY(e){const t=oY.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Mc(e.tagName))}function uY(e,t){return t===he.MATHML&&(e===x.MI||e===x.MO||e===x.MN||e===x.MS||e===x.MTEXT)}function dY(e,t,n){if(t===he.MATHML&&e===x.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===_i.ENCODING){const s=n[r].value.toLowerCase();return s===I2.TEXT_HTML||s===I2.APPLICATION_XML}}return t===he.SVG&&(e===x.FOREIGN_OBJECT||e===x.DESC||e===x.TITLE)}function fY(e,t,n,r){return(!r||r===he.HTML)&&dY(e,t,n)||(!r||r===he.MATHML)&&uY(e,t)}const hY="hidden",mY=8,pY=3;var B;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(B||(B={}));const gY={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},e4=new Set([x.TABLE,x.TBODY,x.TFOOT,x.THEAD,x.TR]),R2={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:no,onParseError:null};class P2{constructor(t,n,r=null,s=null){this.fragmentContext=r,this.scriptHandler=s,this.currentToken=null,this.stopped=!1,this.insertionMode=B.INITIAL,this.originalInsertionMode=B.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...R2,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new UV(this.options,this),this.activeFormattingElements=new GV(this.treeAdapter),this.fragmentContextID=r?Mc(this.treeAdapter.getTagName(r)):x.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new qV(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...R2,...n};t??(t=r.treeAdapter.createElement(ee.TEMPLATE,he.HTML,[]));const s=r.treeAdapter.createElement("documentmock",he.HTML,[]),a=new this(r,s,t);return a.fragmentContextID===x.TEMPLATE&&a.tmplInsertionModeStack.unshift(B.IN_TEMPLATE),a._initTokenizerForFragmentParsing(),a._insertFakeRootElement(),a._resetInsertionMode(),a._findFormInFragmentContext(),a}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var s;if(!this.onParseError)return;const a=(s=t.location)!==null&&s!==void 0?s:gY,i={code:n,startLine:a.startLine,startCol:a.startCol,startOffset:a.startOffset,endLine:r?a.startLine:a.endLine,endCol:r?a.startCol:a.endCol,endOffset:r?a.startOffset:a.endOffset};this.onParseError(i)}onItemPush(t,n,r){var s,a;(a=(s=this.treeAdapter).onItemPush)===null||a===void 0||a.call(s,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,s;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(s=(r=this.treeAdapter).onItemPop)===null||s===void 0||s.call(r,t,this.openElements.current),n){let a,i;this.openElements.stackTop===0&&this.fragmentContext?(a=this.fragmentContext,i=this.fragmentContextID):{current:a,currentTagId:i}=this.openElements,this._setContextModes(a,i)}}_setContextModes(t,n){const r=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===he.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&t!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,he.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=B.TEXT}switchToPlaintextParsing(){this.insertionMode=B.TEXT,this.originalInsertionMode=B.IN_BODY,this.tokenizer.state=dn.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===ee.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==he.HTML))switch(this.fragmentContextID){case x.TITLE:case x.TEXTAREA:{this.tokenizer.state=dn.RCDATA;break}case x.STYLE:case x.XMP:case x.IFRAME:case x.NOEMBED:case x.NOFRAMES:case x.NOSCRIPT:{this.tokenizer.state=dn.RAWTEXT;break}case x.SCRIPT:{this.tokenizer.state=dn.SCRIPT_DATA;break}case x.PLAINTEXT:{this.tokenizer.state=dn.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",s=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,s),t.location){const i=this.treeAdapter.getChildNodes(this.document).find(l=>this.treeAdapter.isDocumentTypeNode(l));i&&this.treeAdapter.setNodeSourceCodeLocation(i,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,he.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,he.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(ee.HTML,he.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,x.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const s=this.treeAdapter.getChildNodes(n),a=r?s.lastIndexOf(r):s.length,i=s[a-1];if(this.treeAdapter.getNodeSourceCodeLocation(i)){const{endLine:c,endCol:u,endOffset:d}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(i,{endLine:c,endCol:u,endOffset:d})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(i,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,s=this.treeAdapter.getTagName(t),a=n.type===it.END_TAG&&s===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,a)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===x.SVG&&this.treeAdapter.getTagName(n)===ee.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===he.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===x.MGLYPH||t.tagID===x.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,he.HTML)}_processToken(t){switch(t.type){case it.CHARACTER:{this.onCharacter(t);break}case it.NULL_CHARACTER:{this.onNullCharacter(t);break}case it.COMMENT:{this.onComment(t);break}case it.DOCTYPE:{this.onDoctype(t);break}case it.START_TAG:{this._processStartTag(t);break}case it.END_TAG:{this.onEndTag(t);break}case it.EOF:{this.onEof(t);break}case it.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const s=this.treeAdapter.getNamespaceURI(n),a=this.treeAdapter.getAttrList(n);return fY(t,s,a,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(s=>s.type===ra.Marker||this.openElements.contains(s.element)),r=n===-1?t-1:n-1;for(let s=r;s>=0;s--){const a=this.activeFormattingElements.entries[s];this._insertElement(a.token,this.treeAdapter.getNamespaceURI(a.element)),a.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=B.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(x.P),this.openElements.popUntilTagNamePopped(x.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case x.TR:{this.insertionMode=B.IN_ROW;return}case x.TBODY:case x.THEAD:case x.TFOOT:{this.insertionMode=B.IN_TABLE_BODY;return}case x.CAPTION:{this.insertionMode=B.IN_CAPTION;return}case x.COLGROUP:{this.insertionMode=B.IN_COLUMN_GROUP;return}case x.TABLE:{this.insertionMode=B.IN_TABLE;return}case x.BODY:{this.insertionMode=B.IN_BODY;return}case x.FRAMESET:{this.insertionMode=B.IN_FRAMESET;return}case x.SELECT:{this._resetInsertionModeForSelect(t);return}case x.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case x.HTML:{this.insertionMode=this.headElement?B.AFTER_HEAD:B.BEFORE_HEAD;return}case x.TD:case x.TH:{if(t>0){this.insertionMode=B.IN_CELL;return}break}case x.HEAD:{if(t>0){this.insertionMode=B.IN_HEAD;return}break}}this.insertionMode=B.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===x.TEMPLATE)break;if(r===x.TABLE){this.insertionMode=B.IN_SELECT_IN_TABLE;return}}this.insertionMode=B.IN_SELECT}_isElementCausesFosterParenting(t){return e4.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case x.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===he.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case x.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return LV[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Yq(this,t);return}switch(this.insertionMode){case B.INITIAL:{nu(this,t);break}case B.BEFORE_HTML:{Iu(this,t);break}case B.BEFORE_HEAD:{Ru(this,t);break}case B.IN_HEAD:{Pu(this,t);break}case B.IN_HEAD_NO_SCRIPT:{Du(this,t);break}case B.AFTER_HEAD:{Ou(this,t);break}case B.IN_BODY:case B.IN_CAPTION:case B.IN_CELL:case B.IN_TEMPLATE:{n4(this,t);break}case B.TEXT:case B.IN_SELECT:case B.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case B.IN_TABLE:case B.IN_TABLE_BODY:case B.IN_ROW:{Gg(this,t);break}case B.IN_TABLE_TEXT:{l4(this,t);break}case B.IN_COLUMN_GROUP:{Zh(this,t);break}case B.AFTER_BODY:{Jh(this,t);break}case B.AFTER_AFTER_BODY:{lh(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Vq(this,t);return}switch(this.insertionMode){case B.INITIAL:{nu(this,t);break}case B.BEFORE_HTML:{Iu(this,t);break}case B.BEFORE_HEAD:{Ru(this,t);break}case B.IN_HEAD:{Pu(this,t);break}case B.IN_HEAD_NO_SCRIPT:{Du(this,t);break}case B.AFTER_HEAD:{Ou(this,t);break}case B.TEXT:{this._insertCharacters(t);break}case B.IN_TABLE:case B.IN_TABLE_BODY:case B.IN_ROW:{Gg(this,t);break}case B.IN_COLUMN_GROUP:{Zh(this,t);break}case B.AFTER_BODY:{Jh(this,t);break}case B.AFTER_AFTER_BODY:{lh(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){Wx(this,t);return}switch(this.insertionMode){case B.INITIAL:case B.BEFORE_HTML:case B.BEFORE_HEAD:case B.IN_HEAD:case B.IN_HEAD_NO_SCRIPT:case B.AFTER_HEAD:case B.IN_BODY:case B.IN_TABLE:case B.IN_CAPTION:case B.IN_COLUMN_GROUP:case B.IN_TABLE_BODY:case B.IN_ROW:case B.IN_CELL:case B.IN_SELECT:case B.IN_SELECT_IN_TABLE:case B.IN_TEMPLATE:case B.IN_FRAMESET:case B.AFTER_FRAMESET:{Wx(this,t);break}case B.IN_TABLE_TEXT:{ru(this,t);break}case B.AFTER_BODY:{NY(this,t);break}case B.AFTER_AFTER_BODY:case B.AFTER_AFTER_FRAMESET:{TY(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case B.INITIAL:{SY(this,t);break}case B.BEFORE_HEAD:case B.IN_HEAD:case B.IN_HEAD_NO_SCRIPT:case B.AFTER_HEAD:{this._err(t,ie.misplacedDoctype);break}case B.IN_TABLE_TEXT:{ru(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,ie.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?qq(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case B.INITIAL:{nu(this,t);break}case B.BEFORE_HTML:{kY(this,t);break}case B.BEFORE_HEAD:{AY(this,t);break}case B.IN_HEAD:{Ys(this,t);break}case B.IN_HEAD_NO_SCRIPT:{IY(this,t);break}case B.AFTER_HEAD:{PY(this,t);break}case B.IN_BODY:{ar(this,t);break}case B.IN_TABLE:{fc(this,t);break}case B.IN_TABLE_TEXT:{ru(this,t);break}case B.IN_CAPTION:{_q(this,t);break}case B.IN_COLUMN_GROUP:{o1(this,t);break}case B.IN_TABLE_BODY:{xp(this,t);break}case B.IN_ROW:{yp(this,t);break}case B.IN_CELL:{Rq(this,t);break}case B.IN_SELECT:{d4(this,t);break}case B.IN_SELECT_IN_TABLE:{Dq(this,t);break}case B.IN_TEMPLATE:{Lq(this,t);break}case B.AFTER_BODY:{Fq(this,t);break}case B.IN_FRAMESET:{Bq(this,t);break}case B.AFTER_FRAMESET:{Hq(this,t);break}case B.AFTER_AFTER_BODY:{zq(this,t);break}case B.AFTER_AFTER_FRAMESET:{Wq(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?Gq(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case B.INITIAL:{nu(this,t);break}case B.BEFORE_HTML:{CY(this,t);break}case B.BEFORE_HEAD:{_Y(this,t);break}case B.IN_HEAD:{jY(this,t);break}case B.IN_HEAD_NO_SCRIPT:{RY(this,t);break}case B.AFTER_HEAD:{DY(this,t);break}case B.IN_BODY:{gp(this,t);break}case B.TEXT:{bq(this,t);break}case B.IN_TABLE:{md(this,t);break}case B.IN_TABLE_TEXT:{ru(this,t);break}case B.IN_CAPTION:{jq(this,t);break}case B.IN_COLUMN_GROUP:{Iq(this,t);break}case B.IN_TABLE_BODY:{Vx(this,t);break}case B.IN_ROW:{u4(this,t);break}case B.IN_CELL:{Pq(this,t);break}case B.IN_SELECT:{f4(this,t);break}case B.IN_SELECT_IN_TABLE:{Oq(this,t);break}case B.IN_TEMPLATE:{Mq(this,t);break}case B.AFTER_BODY:{m4(this,t);break}case B.IN_FRAMESET:{Uq(this,t);break}case B.AFTER_FRAMESET:{$q(this,t);break}case B.AFTER_AFTER_BODY:{lh(this,t);break}}}onEof(t){switch(this.insertionMode){case B.INITIAL:{nu(this,t);break}case B.BEFORE_HTML:{Iu(this,t);break}case B.BEFORE_HEAD:{Ru(this,t);break}case B.IN_HEAD:{Pu(this,t);break}case B.IN_HEAD_NO_SCRIPT:{Du(this,t);break}case B.AFTER_HEAD:{Ou(this,t);break}case B.IN_BODY:case B.IN_TABLE:case B.IN_CAPTION:case B.IN_COLUMN_GROUP:case B.IN_TABLE_BODY:case B.IN_ROW:case B.IN_CELL:case B.IN_SELECT:case B.IN_SELECT_IN_TABLE:{o4(this,t);break}case B.TEXT:{vq(this,t);break}case B.IN_TABLE_TEXT:{ru(this,t);break}case B.IN_TEMPLATE:{h4(this,t);break}case B.AFTER_BODY:case B.IN_FRAMESET:case B.AFTER_FRAMESET:case B.AFTER_AFTER_BODY:case B.AFTER_AFTER_FRAMESET:{a1(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===j.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case B.IN_HEAD:case B.IN_HEAD_NO_SCRIPT:case B.AFTER_HEAD:case B.TEXT:case B.IN_COLUMN_GROUP:case B.IN_SELECT:case B.IN_SELECT_IN_TABLE:case B.IN_FRAMESET:case B.AFTER_FRAMESET:{this._insertCharacters(t);break}case B.IN_BODY:case B.IN_CAPTION:case B.IN_CELL:case B.IN_TEMPLATE:case B.AFTER_BODY:case B.AFTER_AFTER_BODY:case B.AFTER_AFTER_FRAMESET:{t4(this,t);break}case B.IN_TABLE:case B.IN_TABLE_BODY:case B.IN_ROW:{Gg(this,t);break}case B.IN_TABLE_TEXT:{i4(this,t);break}}}}function xY(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):a4(e,t),n}function yY(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const s=e.openElements.items[r];if(s===t.element)break;e._isSpecialElement(s,e.openElements.tagIDs[r])&&(n=s)}return n||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),n}function bY(e,t,n){let r=t,s=e.openElements.getCommonAncestor(t);for(let a=0,i=s;i!==n;a++,i=s){s=e.openElements.getCommonAncestor(i);const l=e.activeFormattingElements.getElementEntry(i),c=l&&a>=pY;!l||c?(c&&e.activeFormattingElements.removeEntry(l),e.openElements.remove(i)):(i=vY(e,l),r===t&&(e.activeFormattingElements.bookmark=l),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(i,r),r=i)}return r}function vY(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function wY(e,t,n){const r=e.treeAdapter.getTagName(t),s=Mc(r);if(e._isElementCausesFosterParenting(s))e._fosterParentElement(n);else{const a=e.treeAdapter.getNamespaceURI(t);s===x.TEMPLATE&&a===he.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function EY(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:s}=n,a=e.treeAdapter.createElement(s.tagName,r,s.attrs);e._adoptNodes(t,a),e.treeAdapter.appendChild(t,a),e.activeFormattingElements.insertElementAfterBookmark(a,s),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,a,s.tagID)}function s1(e,t){for(let n=0;n<mY;n++){const r=xY(e,t);if(!r)break;const s=yY(e,r);if(!s)break;e.activeFormattingElements.bookmark=r;const a=bY(e,s,r.element),i=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(a),i&&wY(e,i,a),EY(e,s,r)}}function Wx(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function NY(e,t){e._appendCommentNode(t,e.openElements.items[0])}function TY(e,t){e._appendCommentNode(t,e.document)}function a1(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],s=e.treeAdapter.getNodeSourceCodeLocation(r);if(s&&!s.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const a=e.openElements.items[1],i=e.treeAdapter.getNodeSourceCodeLocation(a);i&&!i.endTag&&e._setEndLocation(a,t)}}}}function SY(e,t){e._setDocumentType(t);const n=t.forceQuirks?ps.QUIRKS:tY(t);eY(t)||e._err(t,ie.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=B.BEFORE_HTML}function nu(e,t){e._err(t,ie.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,ps.QUIRKS),e.insertionMode=B.BEFORE_HTML,e._processToken(t)}function kY(e,t){t.tagID===x.HTML?(e._insertElement(t,he.HTML),e.insertionMode=B.BEFORE_HEAD):Iu(e,t)}function CY(e,t){const n=t.tagID;(n===x.HTML||n===x.HEAD||n===x.BODY||n===x.BR)&&Iu(e,t)}function Iu(e,t){e._insertFakeRootElement(),e.insertionMode=B.BEFORE_HEAD,e._processToken(t)}function AY(e,t){switch(t.tagID){case x.HTML:{ar(e,t);break}case x.HEAD:{e._insertElement(t,he.HTML),e.headElement=e.openElements.current,e.insertionMode=B.IN_HEAD;break}default:Ru(e,t)}}function _Y(e,t){const n=t.tagID;n===x.HEAD||n===x.BODY||n===x.HTML||n===x.BR?Ru(e,t):e._err(t,ie.endTagWithoutMatchingOpenElement)}function Ru(e,t){e._insertFakeElement(ee.HEAD,x.HEAD),e.headElement=e.openElements.current,e.insertionMode=B.IN_HEAD,e._processToken(t)}function Ys(e,t){switch(t.tagID){case x.HTML:{ar(e,t);break}case x.BASE:case x.BASEFONT:case x.BGSOUND:case x.LINK:case x.META:{e._appendElement(t,he.HTML),t.ackSelfClosing=!0;break}case x.TITLE:{e._switchToTextParsing(t,dn.RCDATA);break}case x.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,dn.RAWTEXT):(e._insertElement(t,he.HTML),e.insertionMode=B.IN_HEAD_NO_SCRIPT);break}case x.NOFRAMES:case x.STYLE:{e._switchToTextParsing(t,dn.RAWTEXT);break}case x.SCRIPT:{e._switchToTextParsing(t,dn.SCRIPT_DATA);break}case x.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=B.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(B.IN_TEMPLATE);break}case x.HEAD:{e._err(t,ie.misplacedStartTagForHeadElement);break}default:Pu(e,t)}}function jY(e,t){switch(t.tagID){case x.HEAD:{e.openElements.pop(),e.insertionMode=B.AFTER_HEAD;break}case x.BODY:case x.BR:case x.HTML:{Pu(e,t);break}case x.TEMPLATE:{Qi(e,t);break}default:e._err(t,ie.endTagWithoutMatchingOpenElement)}}function Qi(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==x.TEMPLATE&&e._err(t,ie.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(x.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,ie.endTagWithoutMatchingOpenElement)}function Pu(e,t){e.openElements.pop(),e.insertionMode=B.AFTER_HEAD,e._processToken(t)}function IY(e,t){switch(t.tagID){case x.HTML:{ar(e,t);break}case x.BASEFONT:case x.BGSOUND:case x.HEAD:case x.LINK:case x.META:case x.NOFRAMES:case x.STYLE:{Ys(e,t);break}case x.NOSCRIPT:{e._err(t,ie.nestedNoscriptInHead);break}default:Du(e,t)}}function RY(e,t){switch(t.tagID){case x.NOSCRIPT:{e.openElements.pop(),e.insertionMode=B.IN_HEAD;break}case x.BR:{Du(e,t);break}default:e._err(t,ie.endTagWithoutMatchingOpenElement)}}function Du(e,t){const n=t.type===it.EOF?ie.openElementsLeftAfterEof:ie.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=B.IN_HEAD,e._processToken(t)}function PY(e,t){switch(t.tagID){case x.HTML:{ar(e,t);break}case x.BODY:{e._insertElement(t,he.HTML),e.framesetOk=!1,e.insertionMode=B.IN_BODY;break}case x.FRAMESET:{e._insertElement(t,he.HTML),e.insertionMode=B.IN_FRAMESET;break}case x.BASE:case x.BASEFONT:case x.BGSOUND:case x.LINK:case x.META:case x.NOFRAMES:case x.SCRIPT:case x.STYLE:case x.TEMPLATE:case x.TITLE:{e._err(t,ie.abandonedHeadElementChild),e.openElements.push(e.headElement,x.HEAD),Ys(e,t),e.openElements.remove(e.headElement);break}case x.HEAD:{e._err(t,ie.misplacedStartTagForHeadElement);break}default:Ou(e,t)}}function DY(e,t){switch(t.tagID){case x.BODY:case x.HTML:case x.BR:{Ou(e,t);break}case x.TEMPLATE:{Qi(e,t);break}default:e._err(t,ie.endTagWithoutMatchingOpenElement)}}function Ou(e,t){e._insertFakeElement(ee.BODY,x.BODY),e.insertionMode=B.IN_BODY,pp(e,t)}function pp(e,t){switch(t.type){case it.CHARACTER:{n4(e,t);break}case it.WHITESPACE_CHARACTER:{t4(e,t);break}case it.COMMENT:{Wx(e,t);break}case it.START_TAG:{ar(e,t);break}case it.END_TAG:{gp(e,t);break}case it.EOF:{o4(e,t);break}}}function t4(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function n4(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function OY(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function LY(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function MY(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,he.HTML),e.insertionMode=B.IN_FRAMESET)}function FY(e,t){e.openElements.hasInButtonScope(x.P)&&e._closePElement(),e._insertElement(t,he.HTML)}function BY(e,t){e.openElements.hasInButtonScope(x.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&zx.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,he.HTML)}function UY(e,t){e.openElements.hasInButtonScope(x.P)&&e._closePElement(),e._insertElement(t,he.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function HY(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(x.P)&&e._closePElement(),e._insertElement(t,he.HTML),n||(e.formElement=e.openElements.current))}function $Y(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const s=e.openElements.tagIDs[r];if(n===x.LI&&s===x.LI||(n===x.DD||n===x.DT)&&(s===x.DD||s===x.DT)){e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.popUntilTagNamePopped(s);break}if(s!==x.ADDRESS&&s!==x.DIV&&s!==x.P&&e._isSpecialElement(e.openElements.items[r],s))break}e.openElements.hasInButtonScope(x.P)&&e._closePElement(),e._insertElement(t,he.HTML)}function zY(e,t){e.openElements.hasInButtonScope(x.P)&&e._closePElement(),e._insertElement(t,he.HTML),e.tokenizer.state=dn.PLAINTEXT}function WY(e,t){e.openElements.hasInScope(x.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(x.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,he.HTML),e.framesetOk=!1}function VY(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(ee.A);n&&(s1(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,he.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function YY(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,he.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function qY(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(x.NOBR)&&(s1(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,he.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function GY(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,he.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function KY(e,t){e.treeAdapter.getDocumentMode(e.document)!==ps.QUIRKS&&e.openElements.hasInButtonScope(x.P)&&e._closePElement(),e._insertElement(t,he.HTML),e.framesetOk=!1,e.insertionMode=B.IN_TABLE}function r4(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,he.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function s4(e){const t=Y_(e,_i.TYPE);return t!=null&&t.toLowerCase()===hY}function QY(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,he.HTML),s4(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function XY(e,t){e._appendElement(t,he.HTML),t.ackSelfClosing=!0}function ZY(e,t){e.openElements.hasInButtonScope(x.P)&&e._closePElement(),e._appendElement(t,he.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function JY(e,t){t.tagName=ee.IMG,t.tagID=x.IMG,r4(e,t)}function eq(e,t){e._insertElement(t,he.HTML),e.skipNextNewLine=!0,e.tokenizer.state=dn.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=B.TEXT}function tq(e,t){e.openElements.hasInButtonScope(x.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,dn.RAWTEXT)}function nq(e,t){e.framesetOk=!1,e._switchToTextParsing(t,dn.RAWTEXT)}function D2(e,t){e._switchToTextParsing(t,dn.RAWTEXT)}function rq(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,he.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===B.IN_TABLE||e.insertionMode===B.IN_CAPTION||e.insertionMode===B.IN_TABLE_BODY||e.insertionMode===B.IN_ROW||e.insertionMode===B.IN_CELL?B.IN_SELECT_IN_TABLE:B.IN_SELECT}function sq(e,t){e.openElements.currentTagId===x.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,he.HTML)}function aq(e,t){e.openElements.hasInScope(x.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,he.HTML)}function oq(e,t){e.openElements.hasInScope(x.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(x.RTC),e._insertElement(t,he.HTML)}function iq(e,t){e._reconstructActiveFormattingElements(),Z_(t),r1(t),t.selfClosing?e._appendElement(t,he.MATHML):e._insertElement(t,he.MATHML),t.ackSelfClosing=!0}function lq(e,t){e._reconstructActiveFormattingElements(),J_(t),r1(t),t.selfClosing?e._appendElement(t,he.SVG):e._insertElement(t,he.SVG),t.ackSelfClosing=!0}function O2(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,he.HTML)}function ar(e,t){switch(t.tagID){case x.I:case x.S:case x.B:case x.U:case x.EM:case x.TT:case x.BIG:case x.CODE:case x.FONT:case x.SMALL:case x.STRIKE:case x.STRONG:{YY(e,t);break}case x.A:{VY(e,t);break}case x.H1:case x.H2:case x.H3:case x.H4:case x.H5:case x.H6:{BY(e,t);break}case x.P:case x.DL:case x.OL:case x.UL:case x.DIV:case x.DIR:case x.NAV:case x.MAIN:case x.MENU:case x.ASIDE:case x.CENTER:case x.FIGURE:case x.FOOTER:case x.HEADER:case x.HGROUP:case x.DIALOG:case x.DETAILS:case x.ADDRESS:case x.ARTICLE:case x.SEARCH:case x.SECTION:case x.SUMMARY:case x.FIELDSET:case x.BLOCKQUOTE:case x.FIGCAPTION:{FY(e,t);break}case x.LI:case x.DD:case x.DT:{$Y(e,t);break}case x.BR:case x.IMG:case x.WBR:case x.AREA:case x.EMBED:case x.KEYGEN:{r4(e,t);break}case x.HR:{ZY(e,t);break}case x.RB:case x.RTC:{aq(e,t);break}case x.RT:case x.RP:{oq(e,t);break}case x.PRE:case x.LISTING:{UY(e,t);break}case x.XMP:{tq(e,t);break}case x.SVG:{lq(e,t);break}case x.HTML:{OY(e,t);break}case x.BASE:case x.LINK:case x.META:case x.STYLE:case x.TITLE:case x.SCRIPT:case x.BGSOUND:case x.BASEFONT:case x.TEMPLATE:{Ys(e,t);break}case x.BODY:{LY(e,t);break}case x.FORM:{HY(e,t);break}case x.NOBR:{qY(e,t);break}case x.MATH:{iq(e,t);break}case x.TABLE:{KY(e,t);break}case x.INPUT:{QY(e,t);break}case x.PARAM:case x.TRACK:case x.SOURCE:{XY(e,t);break}case x.IMAGE:{JY(e,t);break}case x.BUTTON:{WY(e,t);break}case x.APPLET:case x.OBJECT:case x.MARQUEE:{GY(e,t);break}case x.IFRAME:{nq(e,t);break}case x.SELECT:{rq(e,t);break}case x.OPTION:case x.OPTGROUP:{sq(e,t);break}case x.NOEMBED:case x.NOFRAMES:{D2(e,t);break}case x.FRAMESET:{MY(e,t);break}case x.TEXTAREA:{eq(e,t);break}case x.NOSCRIPT:{e.options.scriptingEnabled?D2(e,t):O2(e,t);break}case x.PLAINTEXT:{zY(e,t);break}case x.COL:case x.TH:case x.TD:case x.TR:case x.HEAD:case x.FRAME:case x.TBODY:case x.TFOOT:case x.THEAD:case x.CAPTION:case x.COLGROUP:break;default:O2(e,t)}}function cq(e,t){if(e.openElements.hasInScope(x.BODY)&&(e.insertionMode=B.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function uq(e,t){e.openElements.hasInScope(x.BODY)&&(e.insertionMode=B.AFTER_BODY,m4(e,t))}function dq(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function fq(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(x.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(x.FORM):n&&e.openElements.remove(n))}function hq(e){e.openElements.hasInButtonScope(x.P)||e._insertFakeElement(ee.P,x.P),e._closePElement()}function mq(e){e.openElements.hasInListItemScope(x.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(x.LI),e.openElements.popUntilTagNamePopped(x.LI))}function pq(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function gq(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function xq(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function yq(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(ee.BR,x.BR),e.openElements.pop(),e.framesetOk=!1}function a4(e,t){const n=t.tagName,r=t.tagID;for(let s=e.openElements.stackTop;s>0;s--){const a=e.openElements.items[s],i=e.openElements.tagIDs[s];if(r===i&&(r!==x.UNKNOWN||e.treeAdapter.getTagName(a)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=s&&e.openElements.shortenToLength(s);break}if(e._isSpecialElement(a,i))break}}function gp(e,t){switch(t.tagID){case x.A:case x.B:case x.I:case x.S:case x.U:case x.EM:case x.TT:case x.BIG:case x.CODE:case x.FONT:case x.NOBR:case x.SMALL:case x.STRIKE:case x.STRONG:{s1(e,t);break}case x.P:{hq(e);break}case x.DL:case x.UL:case x.OL:case x.DIR:case x.DIV:case x.NAV:case x.PRE:case x.MAIN:case x.MENU:case x.ASIDE:case x.BUTTON:case x.CENTER:case x.FIGURE:case x.FOOTER:case x.HEADER:case x.HGROUP:case x.DIALOG:case x.ADDRESS:case x.ARTICLE:case x.DETAILS:case x.SEARCH:case x.SECTION:case x.SUMMARY:case x.LISTING:case x.FIELDSET:case x.BLOCKQUOTE:case x.FIGCAPTION:{dq(e,t);break}case x.LI:{mq(e);break}case x.DD:case x.DT:{pq(e,t);break}case x.H1:case x.H2:case x.H3:case x.H4:case x.H5:case x.H6:{gq(e);break}case x.BR:{yq(e);break}case x.BODY:{cq(e,t);break}case x.HTML:{uq(e,t);break}case x.FORM:{fq(e);break}case x.APPLET:case x.OBJECT:case x.MARQUEE:{xq(e,t);break}case x.TEMPLATE:{Qi(e,t);break}default:a4(e,t)}}function o4(e,t){e.tmplInsertionModeStack.length>0?h4(e,t):a1(e,t)}function bq(e,t){var n;t.tagID===x.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function vq(e,t){e._err(t,ie.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function Gg(e,t){if(e.openElements.currentTagId!==void 0&&e4.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=B.IN_TABLE_TEXT,t.type){case it.CHARACTER:{l4(e,t);break}case it.WHITESPACE_CHARACTER:{i4(e,t);break}}else Hd(e,t)}function wq(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,he.HTML),e.insertionMode=B.IN_CAPTION}function Eq(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,he.HTML),e.insertionMode=B.IN_COLUMN_GROUP}function Nq(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(ee.COLGROUP,x.COLGROUP),e.insertionMode=B.IN_COLUMN_GROUP,o1(e,t)}function Tq(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,he.HTML),e.insertionMode=B.IN_TABLE_BODY}function Sq(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(ee.TBODY,x.TBODY),e.insertionMode=B.IN_TABLE_BODY,xp(e,t)}function kq(e,t){e.openElements.hasInTableScope(x.TABLE)&&(e.openElements.popUntilTagNamePopped(x.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function Cq(e,t){s4(t)?e._appendElement(t,he.HTML):Hd(e,t),t.ackSelfClosing=!0}function Aq(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,he.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function fc(e,t){switch(t.tagID){case x.TD:case x.TH:case x.TR:{Sq(e,t);break}case x.STYLE:case x.SCRIPT:case x.TEMPLATE:{Ys(e,t);break}case x.COL:{Nq(e,t);break}case x.FORM:{Aq(e,t);break}case x.TABLE:{kq(e,t);break}case x.TBODY:case x.TFOOT:case x.THEAD:{Tq(e,t);break}case x.INPUT:{Cq(e,t);break}case x.CAPTION:{wq(e,t);break}case x.COLGROUP:{Eq(e,t);break}default:Hd(e,t)}}function md(e,t){switch(t.tagID){case x.TABLE:{e.openElements.hasInTableScope(x.TABLE)&&(e.openElements.popUntilTagNamePopped(x.TABLE),e._resetInsertionMode());break}case x.TEMPLATE:{Qi(e,t);break}case x.BODY:case x.CAPTION:case x.COL:case x.COLGROUP:case x.HTML:case x.TBODY:case x.TD:case x.TFOOT:case x.TH:case x.THEAD:case x.TR:break;default:Hd(e,t)}}function Hd(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,pp(e,t),e.fosterParentingEnabled=n}function i4(e,t){e.pendingCharacterTokens.push(t)}function l4(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function ru(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)Hd(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const c4=new Set([x.CAPTION,x.COL,x.COLGROUP,x.TBODY,x.TD,x.TFOOT,x.TH,x.THEAD,x.TR]);function _q(e,t){const n=t.tagID;c4.has(n)?e.openElements.hasInTableScope(x.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(x.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=B.IN_TABLE,fc(e,t)):ar(e,t)}function jq(e,t){const n=t.tagID;switch(n){case x.CAPTION:case x.TABLE:{e.openElements.hasInTableScope(x.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(x.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=B.IN_TABLE,n===x.TABLE&&md(e,t));break}case x.BODY:case x.COL:case x.COLGROUP:case x.HTML:case x.TBODY:case x.TD:case x.TFOOT:case x.TH:case x.THEAD:case x.TR:break;default:gp(e,t)}}function o1(e,t){switch(t.tagID){case x.HTML:{ar(e,t);break}case x.COL:{e._appendElement(t,he.HTML),t.ackSelfClosing=!0;break}case x.TEMPLATE:{Ys(e,t);break}default:Zh(e,t)}}function Iq(e,t){switch(t.tagID){case x.COLGROUP:{e.openElements.currentTagId===x.COLGROUP&&(e.openElements.pop(),e.insertionMode=B.IN_TABLE);break}case x.TEMPLATE:{Qi(e,t);break}case x.COL:break;default:Zh(e,t)}}function Zh(e,t){e.openElements.currentTagId===x.COLGROUP&&(e.openElements.pop(),e.insertionMode=B.IN_TABLE,e._processToken(t))}function xp(e,t){switch(t.tagID){case x.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,he.HTML),e.insertionMode=B.IN_ROW;break}case x.TH:case x.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(ee.TR,x.TR),e.insertionMode=B.IN_ROW,yp(e,t);break}case x.CAPTION:case x.COL:case x.COLGROUP:case x.TBODY:case x.TFOOT:case x.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=B.IN_TABLE,fc(e,t));break}default:fc(e,t)}}function Vx(e,t){const n=t.tagID;switch(t.tagID){case x.TBODY:case x.TFOOT:case x.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=B.IN_TABLE);break}case x.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=B.IN_TABLE,md(e,t));break}case x.BODY:case x.CAPTION:case x.COL:case x.COLGROUP:case x.HTML:case x.TD:case x.TH:case x.TR:break;default:md(e,t)}}function yp(e,t){switch(t.tagID){case x.TH:case x.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,he.HTML),e.insertionMode=B.IN_CELL,e.activeFormattingElements.insertMarker();break}case x.CAPTION:case x.COL:case x.COLGROUP:case x.TBODY:case x.TFOOT:case x.THEAD:case x.TR:{e.openElements.hasInTableScope(x.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=B.IN_TABLE_BODY,xp(e,t));break}default:fc(e,t)}}function u4(e,t){switch(t.tagID){case x.TR:{e.openElements.hasInTableScope(x.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=B.IN_TABLE_BODY);break}case x.TABLE:{e.openElements.hasInTableScope(x.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=B.IN_TABLE_BODY,Vx(e,t));break}case x.TBODY:case x.TFOOT:case x.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(x.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=B.IN_TABLE_BODY,Vx(e,t));break}case x.BODY:case x.CAPTION:case x.COL:case x.COLGROUP:case x.HTML:case x.TD:case x.TH:break;default:md(e,t)}}function Rq(e,t){const n=t.tagID;c4.has(n)?(e.openElements.hasInTableScope(x.TD)||e.openElements.hasInTableScope(x.TH))&&(e._closeTableCell(),yp(e,t)):ar(e,t)}function Pq(e,t){const n=t.tagID;switch(n){case x.TD:case x.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=B.IN_ROW);break}case x.TABLE:case x.TBODY:case x.TFOOT:case x.THEAD:case x.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),u4(e,t));break}case x.BODY:case x.CAPTION:case x.COL:case x.COLGROUP:case x.HTML:break;default:gp(e,t)}}function d4(e,t){switch(t.tagID){case x.HTML:{ar(e,t);break}case x.OPTION:{e.openElements.currentTagId===x.OPTION&&e.openElements.pop(),e._insertElement(t,he.HTML);break}case x.OPTGROUP:{e.openElements.currentTagId===x.OPTION&&e.openElements.pop(),e.openElements.currentTagId===x.OPTGROUP&&e.openElements.pop(),e._insertElement(t,he.HTML);break}case x.HR:{e.openElements.currentTagId===x.OPTION&&e.openElements.pop(),e.openElements.currentTagId===x.OPTGROUP&&e.openElements.pop(),e._appendElement(t,he.HTML),t.ackSelfClosing=!0;break}case x.INPUT:case x.KEYGEN:case x.TEXTAREA:case x.SELECT:{e.openElements.hasInSelectScope(x.SELECT)&&(e.openElements.popUntilTagNamePopped(x.SELECT),e._resetInsertionMode(),t.tagID!==x.SELECT&&e._processStartTag(t));break}case x.SCRIPT:case x.TEMPLATE:{Ys(e,t);break}}}function f4(e,t){switch(t.tagID){case x.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===x.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===x.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===x.OPTGROUP&&e.openElements.pop();break}case x.OPTION:{e.openElements.currentTagId===x.OPTION&&e.openElements.pop();break}case x.SELECT:{e.openElements.hasInSelectScope(x.SELECT)&&(e.openElements.popUntilTagNamePopped(x.SELECT),e._resetInsertionMode());break}case x.TEMPLATE:{Qi(e,t);break}}}function Dq(e,t){const n=t.tagID;n===x.CAPTION||n===x.TABLE||n===x.TBODY||n===x.TFOOT||n===x.THEAD||n===x.TR||n===x.TD||n===x.TH?(e.openElements.popUntilTagNamePopped(x.SELECT),e._resetInsertionMode(),e._processStartTag(t)):d4(e,t)}function Oq(e,t){const n=t.tagID;n===x.CAPTION||n===x.TABLE||n===x.TBODY||n===x.TFOOT||n===x.THEAD||n===x.TR||n===x.TD||n===x.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(x.SELECT),e._resetInsertionMode(),e.onEndTag(t)):f4(e,t)}function Lq(e,t){switch(t.tagID){case x.BASE:case x.BASEFONT:case x.BGSOUND:case x.LINK:case x.META:case x.NOFRAMES:case x.SCRIPT:case x.STYLE:case x.TEMPLATE:case x.TITLE:{Ys(e,t);break}case x.CAPTION:case x.COLGROUP:case x.TBODY:case x.TFOOT:case x.THEAD:{e.tmplInsertionModeStack[0]=B.IN_TABLE,e.insertionMode=B.IN_TABLE,fc(e,t);break}case x.COL:{e.tmplInsertionModeStack[0]=B.IN_COLUMN_GROUP,e.insertionMode=B.IN_COLUMN_GROUP,o1(e,t);break}case x.TR:{e.tmplInsertionModeStack[0]=B.IN_TABLE_BODY,e.insertionMode=B.IN_TABLE_BODY,xp(e,t);break}case x.TD:case x.TH:{e.tmplInsertionModeStack[0]=B.IN_ROW,e.insertionMode=B.IN_ROW,yp(e,t);break}default:e.tmplInsertionModeStack[0]=B.IN_BODY,e.insertionMode=B.IN_BODY,ar(e,t)}}function Mq(e,t){t.tagID===x.TEMPLATE&&Qi(e,t)}function h4(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(x.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):a1(e,t)}function Fq(e,t){t.tagID===x.HTML?ar(e,t):Jh(e,t)}function m4(e,t){var n;if(t.tagID===x.HTML){if(e.fragmentContext||(e.insertionMode=B.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===x.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else Jh(e,t)}function Jh(e,t){e.insertionMode=B.IN_BODY,pp(e,t)}function Bq(e,t){switch(t.tagID){case x.HTML:{ar(e,t);break}case x.FRAMESET:{e._insertElement(t,he.HTML);break}case x.FRAME:{e._appendElement(t,he.HTML),t.ackSelfClosing=!0;break}case x.NOFRAMES:{Ys(e,t);break}}}function Uq(e,t){t.tagID===x.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==x.FRAMESET&&(e.insertionMode=B.AFTER_FRAMESET))}function Hq(e,t){switch(t.tagID){case x.HTML:{ar(e,t);break}case x.NOFRAMES:{Ys(e,t);break}}}function $q(e,t){t.tagID===x.HTML&&(e.insertionMode=B.AFTER_AFTER_FRAMESET)}function zq(e,t){t.tagID===x.HTML?ar(e,t):lh(e,t)}function lh(e,t){e.insertionMode=B.IN_BODY,pp(e,t)}function Wq(e,t){switch(t.tagID){case x.HTML:{ar(e,t);break}case x.NOFRAMES:{Ys(e,t);break}}}function Vq(e,t){t.chars=Wt,e._insertCharacters(t)}function Yq(e,t){e._insertCharacters(t),e.framesetOk=!1}function p4(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==he.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function qq(e,t){if(lY(t))p4(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===he.MATHML?Z_(t):r===he.SVG&&(cY(t),J_(t)),r1(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function Gq(e,t){if(t.tagID===x.P||t.tagID===x.BR){p4(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===he.HTML){e._endTagOutsideForeignContent(t);break}const s=e.treeAdapter.getTagName(r);if(s.toLowerCase()===t.tagName){t.tagName=s,e.openElements.shortenToLength(n);break}}}ee.AREA,ee.BASE,ee.BASEFONT,ee.BGSOUND,ee.BR,ee.COL,ee.EMBED,ee.FRAME,ee.HR,ee.IMG,ee.INPUT,ee.KEYGEN,ee.LINK,ee.META,ee.PARAM,ee.SOURCE,ee.TRACK,ee.WBR;const Kq=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,Qq=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),L2={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function g4(e,t){const n=oG(e),r=y_("type",{handlers:{root:Xq,element:Zq,text:Jq,comment:y4,doctype:eG,raw:nG},unknown:rG}),s={parser:n?new P2(L2):P2.getFragmentParser(void 0,L2),handle(l){r(l,s)},stitches:!1,options:t||{}};r(e,s),Fc(s,ya());const a=n?s.parser.document:s.parser.getFragment(),i=iV(a,{file:s.options.file});return s.stitches&&mp(i,"comment",function(l,c,u){const d=l;if(d.value.stitch&&u&&c!==void 0){const f=u.children;return f[c]=d.value.stitch,c}}),i.type==="root"&&i.children.length===1&&i.children[0].type===e.type?i.children[0]:i}function x4(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function Xq(e,t){x4(e.children,t)}function Zq(e,t){sG(e,t),x4(e.children,t),aG(e,t)}function Jq(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:it.CHARACTER,chars:e.value,location:$d(e)};Fc(t,ya(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function eG(e,t){const n={type:it.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:$d(e)};Fc(t,ya(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function tG(e,t){t.stitches=!0;const n=iG(e);if("children"in e&&"children"in n){const r=g4({type:"root",children:e.children},t.options);n.children=r.children}y4({type:"comment",value:{stitch:n}},t)}function y4(e,t){const n=e.value,r={type:it.COMMENT,data:n,location:$d(e)};Fc(t,ya(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function nG(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,b4(t,ya(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(Kq,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function rG(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))tG(n,t);else{let r="";throw Qq.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function Fc(e,t){b4(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=dn.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function b4(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function sG(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===dn.PLAINTEXT)return;Fc(t,ya(e));const r=t.parser.openElements.current;let s="namespaceURI"in r?r.namespaceURI:xi.html;s===xi.html&&n==="svg"&&(s=xi.svg);const a=fV({...e,children:[]},{space:s===xi.svg?"svg":"html"}),i={type:it.START_TAG,tagName:n,tagID:Mc(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in a?a.attrs:[],location:$d(e)};t.parser.currentToken=i,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function aG(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&vV.includes(n)||t.parser.tokenizer.state===dn.PLAINTEXT)return;Fc(t,lp(e));const r={type:it.END_TAG,tagName:n,tagID:Mc(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:$d(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===dn.RCDATA||t.parser.tokenizer.state===dn.RAWTEXT||t.parser.tokenizer.state===dn.SCRIPT_DATA)&&(t.parser.tokenizer.state=dn.DATA)}function oG(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function $d(e){const t=ya(e)||{line:void 0,column:void 0,offset:void 0},n=lp(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function iG(e){return"children"in e?dc({...e,children:[]}):dc(e)}function lG(e){return function(t,n){return g4(t,{...e,file:n})}}function M2(e){return e.replace(/<style[^>]*>[\s\S]*?<\/style>/gi,"")}function cG(e){if(!e)return e;const t=/([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})/g,n=/(?:(https?:\/\/)|\bwww\.)[\w.-]+(?:\.[\w.-]+)+(?:[\w\-._~:/?#\[\]@!$&'()*+,;=%]*)/g;let r=e.replace(t,s=>`<a href="mailto:${s}">${s}</a>`);return r=r.replace(n,s=>`<a href="${s.startsWith("http://")||s.startsWith("https://")?s:`http://${s}`}" target="_blank" rel="noopener noreferrer">${s}</a>`),r}function uG(e){return e&&e.replace(/\\n/g,"")}function dG({isDocumentProcessed:e,currentDocument:t,onProcessingChange:n,selectedSummaryId:r,onSummarySelect:s}){const[a,i]=h.useState(!1),[l,c]=h.useState(!1),[u,d]=h.useState(!1),[f,m]=h.useState(""),[p,g]=h.useState(null),[y,w]=h.useState(null),[v]=h.useState(()=>aa.initializeSession()),[b,E]=h.useState([]),[N,C]=h.useState(!1),[S,_]=h.useState(!1),[H,V]=h.useState(null),[k,$]=h.useState(null),[I,Y]=h.useState(null),[P,L]=h.useState(null),M=h.useRef(null),K=h.useRef({jobId:null,status:null}),F=h.useRef(null);h.useEffect(()=>{n(S)},[S,n]),h.useEffect(()=>()=>{},[]),h.useEffect(()=>{(async()=>{const A=await Io.resolveTokenRole();V(A)})()},[]),h.useEffect(()=>{(async()=>{if(t!=null&&t.id)try{const W=await Pr.getByDocumentId(t.id);if(E(W),(!r||!W.find(z=>z.id===r))&&W.length>0){const z=[...W].sort((ae,J)=>new Date(J.updatedAt||0).getTime()-new Date(ae.updatedAt||0).getTime());s(z[0].id)}}catch{E([])}})()},[t==null?void 0:t.id]),h.useEffect(()=>{if(!r&&b.length>0){const W=[...b].sort((z,ae)=>new Date(ae.updatedAt||0).getTime()-new Date(z.updatedAt||0).getTime());s(W[0].id);return}const A=b.find(W=>W.id===r);if(A){m(A.content),c(!0),g(null),w(null);return}m(""),c(!1),g(null),w(null)},[r,b,s]),h.useEffect(()=>{const A=async()=>{if(!(t!=null&&t.id))return;const z=`summary_processing_${t.id}`,ae=Number(localStorage.getItem(z));if(ae){const J=await Pr.getByDocumentId(t.id);if(J&&J.length>0){const ce=J.find(xe=>new Date(xe.updatedAt).getTime()>ae);ce&&(E(J),_(!1),localStorage.removeItem(z),localStorage.setItem(`summary_ready_${t.id}`,"1"),O.success("Summary is ready!"),s(ce.id))}}};A();const W=()=>A();return window.addEventListener("focus",W),()=>window.removeEventListener("focus",W)},[t==null?void 0:t.id,s]),h.useEffect(()=>{if(!(t!=null&&t.id))return;const A=`summary_processing_${t.id}`;Number(localStorage.getItem(A))&&_(!0)},[t==null?void 0:t.id]),h.useEffect(()=>{if(!(t!=null&&t.id))return;const A=`summary_processing_${t.id}`,W=Number(localStorage.getItem(A));if(S&&b&&b.length>0&&W){const z=b.reduce((ae,J)=>new Date(ae.updatedAt).getTime()>new Date(J.updatedAt).getTime()?ae:J);new Date(z.updatedAt).getTime()>W&&(localStorage.removeItem(A),_(!1))}},[b,S,t==null?void 0:t.id]),h.useEffect(()=>{const A=Bl("https://smart-rhtp-backend-2.onrender.com",{transports:["websocket"]});return console.log("conection",A),A.on("summary_status",W=>{const{jobId:z,status:ae,error:J}=W,ce=ae==null?void 0:ae.trim().toLowerCase();if(!(K.current.jobId===z&&K.current.status===ce))if(K.current={jobId:z,status:ce},console.log("Socket event received:",W),M.current&&(clearTimeout(M.current),M.current=null),ce==="success")t!=null&&t.id&&Pr.getByDocumentId(t.id).then(xe=>{var re;E(xe),O.success("Summary generated!"),_(!1),$(((re=xe[0])==null?void 0:re.id)||null),xe.length>0&&s(xe[0].id)}),t!=null&&t.id&&localStorage.removeItem(`summary_processing_${t.id}`);else if(ce==="failed"){_(!1),$(null),t!=null&&t.id&&localStorage.removeItem(`summary_processing_${t.id}`);let xe="Unknown error";typeof J=="string"?xe=J:J!=null&&J.message?xe=J.message:J!=null&&J.stack&&(xe=J.stack),O.error(`Summary failed: ${xe}`)}else ce==="processing"?(_(!0),t!=null&&t.id&&localStorage.setItem(`summary_processing_${t.id}`,"1")):(_(!1),t!=null&&t.id&&localStorage.removeItem(`summary_processing_${t.id}`))}),()=>{A.disconnect(),M.current&&clearTimeout(M.current)}},[t==null?void 0:t.id,s]);const D=async()=>{var W;if(!(t!=null&&t.id))return;const A=b[0];try{if(A)try{await Pr.delete(A.id)}catch(ae){const J=(W=ae==null?void 0:ae.response)==null?void 0:W.status;if(J!==403&&J!==404)throw ae}m(""),c(!1),s(null),_(!0);const z=Date.now();localStorage.setItem(`summary_processing_${t.id}`,z.toString()),O.info("Summary request processing..."),M.current&&clearTimeout(M.current),M.current=setTimeout(()=>{_(!1),O.error("Summary generation timed out after 10 minutes. Please try again.")},10*60*1e3),await gA.createSummary(t.type==="RHP"?"Generate RHP Doc Summary":"Generate DRHP Doc Summary",v,void 0,t.namespace,t.id,void 0,t.type,t.rhpNamespace)}catch{O.error("Failed to create new summary"),_(!1),localStorage.removeItem(`summary_processing_${t.id}`)}},T=()=>{const A=document.createElement("div");A.innerHTML=M2(f||"");const W=A.textContent||A.innerText||"";navigator.clipboard.writeText(W),d(!0),O.success("Summary copied to clipboard"),setTimeout(()=>{d(!1)},3e3)},G=async()=>{if(!r){O.error("No summary selected");return}let A;try{A=O.loading("Download processing...");const W=await Pr.downloadDocx(r);if(W.type&&W.type!=="application/vnd.openxmlformats-officedocument.wordprocessingml.document"){const J=await W.text();let ce;try{throw ce=JSON.parse(J),new Error(ce.message||ce.error||"DOCX generation service unavailable")}catch{throw new Error("Invalid DOCX response from server")}}const z=window.URL.createObjectURL(W),ae=document.createElement("a");ae.href=z,ae.download=`${(t==null?void 0:t.name)||"summary"}.docx`,document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),window.URL.revokeObjectURL(z),O.dismiss(A),O.success("DOCX downloaded successfully")}catch(W){O.dismiss(A);const z=(W==null?void 0:W.message)||"Failed to download DOCX";O.error(z),console.error("DOCX download error:",W)}},ne=()=>{if(F.current){const A=window.open("","","width=900,height=650");A&&(A.document.write(`
          <html>
            <head>
              <title>Print Summary</title>
              <style>
                body { font-family: sans-serif; margin: 0; padding: 2rem; }
                .summary-content table {
                  border-collapse: collapse;
                  width: 100%;
                  border: 2px solid #d1d5de;
                  margin: 16px 0;
                  font-size: 13px;
                  background: #f1eada;
                }
                .summary-content th, .summary-content td {
                  border: 1px solid #d1d5de;
                  padding: 6px 8px;
                  text-align: left;
                }
                .summary-content th {
                  background: #f1eada;
                  font-weight: 600;
                }
                .summary-content tr:nth-child(even) td {
                  background: #f1eada;
                }
                @media print {
                  .summary-content table {
                    border-collapse: collapse !important;
                    width: 100% !important;
                    border: 2px solid #d1d5de !important;
                    background: #f1eada !important;
                  }
                  .summary-content th, .summary-content td {
                    border: 1px solid #d1d5de !important;
                    padding: 6px 8px !important;
                    text-align: left !important;
                    background: #f1eada !important;
                    color: #222 !important;
                  }
                  .summary-content th {
                    background: #f1eada !important;
                    font-weight: 600 !important;
                  }
                  .summary-content tr:nth-child(even) td {
                    background: #f1eada !important;
                  }
                }
              </style>
            </head>
            <body>
              <div class="summary-content">
                ${F.current.innerHTML}
              </div>
            </body>
          </html>
        `),A.document.close(),A.focus(),A.print())}};return h.useEffect(()=>{if(!(t!=null&&t.id))return;let A=null;return S&&(A=setInterval(async()=>{const W=await Pr.getByDocumentId(t.id);E(W)},5e3)),()=>{A&&clearInterval(A)}},[S,t==null?void 0:t.id]),h.useEffect(()=>{if(!(t!=null&&t.id))return;const A=async()=>{if(S){const W=await Pr.getByDocumentId(t.id);E(W)}};return window.addEventListener("focus",A),()=>window.removeEventListener("focus",A)},[S,t==null?void 0:t.id]),e?o.jsx("div",{className:"flex flex-col h-full w-full",children:l?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex gap-2 mb-4 items-center justify-between",children:[o.jsx(Re,{onClick:D,disabled:S||H==="viewer",className:"bg-[#4B2A06] text-white font-semibold  p-6 rounded-md shadow-lg text-xl hover:bg-[#3A2004] focus:outline-none transition-colors",children:S?o.jsxs(o.Fragment,{children:[o.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin text-white"}),"Processing..."]}):"New Summary"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsxs(Eg,{children:[o.jsx(Ng,{asChild:!0,children:o.jsx("button",{className:"bg-white border border-border rounded-sm p-2 w-10 h-10 flex items-center justify-center hover:bg-muted transition-colors text-foreground shadow-none",onClick:G,title:"Download DOCX file",children:o.jsx(Yt,{className:"h-6 w-6 text-blue-700"})})}),o.jsx(Zf,{children:"Download DOCX file"})]}),o.jsxs(Eg,{children:[o.jsx(Ng,{asChild:!0,children:o.jsx("button",{className:"bg-white border border-border rounded-sm p-2 w-10 h-10 flex items-center justify-center hover:bg-muted transition-colors text-foreground shadow-none",onClick:T,title:u?"Copied!":"Copy to clipboard",children:u?o.jsx(Uo,{className:"h-6 w-6 text-green-500"}):o.jsx(Rk,{className:"h-6 w-6 text-muted-foreground"})})}),o.jsx(Zf,{children:u?"Copied!":"Copy to clipboard"})]}),o.jsxs(Eg,{children:[o.jsx(Ng,{asChild:!0,children:o.jsx("button",{className:"bg-white border border-border rounded-sm p-2 w-10 h-10 flex items-center justify-center hover:bg-muted transition-colors text-foreground shadow-none",onClick:ne,title:"Print Summary",children:o.jsx(Bh,{className:"h-6 w-6 text-gray-700"})})}),o.jsx(Zf,{children:"Print Summary"})]})]})]}),o.jsxs("div",{className:"flex-1 bg-[#ECE9E2] rounded-lg p-4 overflow-y-auto min-h-0 animate-fade-in relative",style:{height:"100%"},children:[o.jsx("style",{children:`
              .summary-content table {
                border-collapse: collapse;
                width: 100%;
                font-size: 13px;
                background: #ECE9E2;
              }
              .summary-content th, .summary-content td {
                border: 1px solid #d1d5de;
                padding: 6px 8px;
                text-align: left;
              }
              .summary-content th {
                background: #ECE9E2;
                font-weight: 600;
              }
              .summary-content tr:nth-child(even) td {
                background: #ECE9E2;
              }
              .summary-content h1 { font-size: 22px; font-weight: 700; color: #1F2937; margin: 10px 0; }
              .summary-content h2 { font-size: 20px; font-weight: 700; color: #1F2937; margin: 10px 0; }
              .summary-content h3 { font-size: 18px; font-weight: 700; color: #1F2937; margin: 10px 0; }
              .summary-content h4 { font-size: 16px; font-weight: 700; color: #1F2937; margin: 10px 0; }
              .summary-content h5 { font-size: 14px; font-weight: 700; color: #1F2937; margin: 10px 0; }
              .summary-content h6 { font-size: 12px; font-weight: 700; color: #1F2937; margin: 10px 0; }
              .summary-content b, .summary-content strong { font-weight: 700; }
              .summary-content hr { border: none; border-top: 1px solid #E5E7EB; margin: 12px 0; }
              .summary-content a { color: #1d4ed8; text-decoration: underline; word-break: break-word; }
            `}),o.jsxs("div",{className:"overflow-x-auto hide-scrollbar ",children:[(t==null?void 0:t.type)&&o.jsx("div",{className:"mb-2 absolute top-5 right-5 right-0 z-100",children:o.jsx(An,{variant:"default",className:"text-xs ",children:t.type})}),o.jsx("div",{ref:F,className:"summary-content text-foreground/90 leading-relaxed",style:{width:"100%",padding:"8px",wordBreak:"break-word",overflowWrap:"break-word"},children:o.jsx(h_,{remarkPlugins:[F_],rehypePlugins:[lG],components:{table:({node:A,...W})=>o.jsx("div",{className:"overflow-x-auto  rounded-lg border border-[#d1d5de]",children:o.jsx("table",{...W})}),h1:({node:A,...W})=>o.jsx("h1",{className:"text-2xl font-bold my-4 text-[#1F2937]",...W}),h2:({node:A,...W})=>o.jsx("h2",{className:"text-xl font-bold my-3 text-[#1F2937]",...W}),h3:({node:A,...W})=>o.jsx("h3",{className:"text-lg font-bold my-2 text-[#1F2937]",...W}),p:({node:A,...W})=>o.jsx("p",{className:"my-2",...W}),ul:({node:A,...W})=>o.jsx("ul",{className:"list-disc ml-6 my-2",...W}),ol:({node:A,...W})=>o.jsx("ol",{className:"list-decimal ml-6 my-2",...W}),li:({node:A,...W})=>o.jsx("li",{className:"my-1",...W}),a:({node:A,...W})=>o.jsx("a",{className:"text-[#1d4ed8] underline hover:text-[#1e40af] transition-colors",target:"_blank",rel:"noopener noreferrer",...W})},children:uG(cG(M2(f)))})})]})]})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[o.jsx("div",{className:"h-20 w-20 rounded-2xl border-2 border-dashed border-[#e0d7ce] flex items-center justify-center mb-6 bg-white shadow-sm",children:o.jsx(Yt,{className:"h-10 w-10 text-[#3f2306]"})}),o.jsx("h3",{className:"text-xl font-bold mb-2 text-foreground",children:"Generate summary"}),o.jsxs("p",{className:"text-muted-foreground text-base mb-6",children:["Click here to generate"," ",(t==null?void 0:t.type)==="RHP"?"RHP":"DRHP"," Summary"]}),o.jsx(Re,{onClick:D,disabled:S||H==="viewer",className:" text-[#FF7A1A]  px-6 py-2 font-semibold shadow-none border-none bg-none text-lg flex items-center gap-2",children:S?o.jsxs(o.Fragment,{children:[o.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin text-[#FF7A1A]"}),"Processing..."]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-xl ",children:"+"})," Generate New Summary"]})})]})}):null}const xt=h.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,className:Oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-0 focus-visible:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));xt.displayName="Input";var fG=h.createContext(void 0);function bp(e){const t=h.useContext(fG);return e||t||"ltr"}function Yx(e,[t,n]){return Math.min(n,Math.max(t,e))}function hG(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var i1="ScrollArea",[v4]=os(i1),[mG,ws]=v4(i1),w4=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:a=600,...i}=e,[l,c]=h.useState(null),[u,d]=h.useState(null),[f,m]=h.useState(null),[p,g]=h.useState(null),[y,w]=h.useState(null),[v,b]=h.useState(0),[E,N]=h.useState(0),[C,S]=h.useState(!1),[_,H]=h.useState(!1),V=st(t,$=>c($)),k=bp(s);return o.jsx(mG,{scope:n,type:r,dir:k,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:m,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:C,onScrollbarXEnabledChange:S,scrollbarY:y,onScrollbarYChange:w,scrollbarYEnabled:_,onScrollbarYEnabledChange:H,onCornerWidthChange:b,onCornerHeightChange:N,children:o.jsx(Ue.div,{dir:k,...i,ref:V,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":E+"px",...e.style}})})});w4.displayName=i1;var E4="ScrollAreaViewport",N4=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...a}=e,i=ws(E4,n),l=h.useRef(null),c=st(t,l,i.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(Ue.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});N4.displayName=E4;var va="ScrollAreaScrollbar",l1=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=ws(va,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return h.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),s.type==="hover"?o.jsx(pG,{...r,ref:t,forceMount:n}):s.type==="scroll"?o.jsx(gG,{...r,ref:t,forceMount:n}):s.type==="auto"?o.jsx(T4,{...r,ref:t,forceMount:n}):s.type==="always"?o.jsx(c1,{...r,ref:t}):null});l1.displayName=va;var pG=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=ws(va,e.__scopeScrollArea),[a,i]=h.useState(!1);return h.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(rr,{present:n||a,children:o.jsx(T4,{"data-state":a?"visible":"hidden",...r,ref:t})})}),gG=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=ws(va,e.__scopeScrollArea),a=e.orientation==="horizontal",i=wp(()=>c("SCROLL_END"),100),[l,c]=hG("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),h.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const m=()=>{const p=u[d];f!==p&&(c("SCROLL"),i()),f=p};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[s.viewport,a,c,i]),o.jsx(rr,{present:n||l!=="hidden",children:o.jsx(c1,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ke(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ke(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),T4=h.forwardRef((e,t)=>{const n=ws(va,e.__scopeScrollArea),{forceMount:r,...s}=e,[a,i]=h.useState(!1),l=e.orientation==="horizontal",c=wp(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;i(l?u:d)}},10);return hc(n.viewport,c),hc(n.content,c),o.jsx(rr,{present:r||a,children:o.jsx(c1,{"data-state":a?"visible":"hidden",...s,ref:t})})}),c1=h.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=ws(va,e.__scopeScrollArea),a=h.useRef(null),i=h.useRef(0),[l,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=_4(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function f(m,p){return EG(m,i.current,l,p)}return n==="horizontal"?o.jsx(xG,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollLeft,p=F2(m,l,s.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=f(m,s.dir))}}):n==="vertical"?o.jsx(yG,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollTop,p=F2(m,l);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=f(m))}}):null}),xG=h.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=ws(va,e.__scopeScrollArea),[i,l]=h.useState(),c=h.useRef(null),u=st(t,c,a.onScrollbarXChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(k4,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":vp(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const m=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(m),I4(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:tm(i.paddingLeft),paddingEnd:tm(i.paddingRight)}})}})}),yG=h.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=ws(va,e.__scopeScrollArea),[i,l]=h.useState(),c=h.useRef(null),u=st(t,c,a.onScrollbarYChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(k4,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":vp(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const m=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(m),I4(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:tm(i.paddingTop),paddingEnd:tm(i.paddingBottom)}})}})}),[bG,S4]=v4(va),k4=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...m}=e,p=ws(va,n),[g,y]=h.useState(null),w=st(t,V=>y(V)),v=h.useRef(null),b=h.useRef(""),E=p.viewport,N=r.content-r.viewport,C=rn(d),S=rn(c),_=wp(f,10);function H(V){if(v.current){const k=V.clientX-v.current.left,$=V.clientY-v.current.top;u({x:k,y:$})}}return h.useEffect(()=>{const V=k=>{const $=k.target;(g==null?void 0:g.contains($))&&C(k,N)};return document.addEventListener("wheel",V,{passive:!1}),()=>document.removeEventListener("wheel",V,{passive:!1})},[E,g,N,C]),h.useEffect(S,[r,S]),hc(g,_),hc(p.content,_),o.jsx(bG,{scope:n,scrollbar:g,hasThumb:s,onThumbChange:rn(a),onThumbPointerUp:rn(i),onThumbPositionChange:S,onThumbPointerDown:rn(l),children:o.jsx(Ue.div,{...m,ref:w,style:{position:"absolute",...m.style},onPointerDown:ke(e.onPointerDown,V=>{V.button===0&&(V.target.setPointerCapture(V.pointerId),v.current=g.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),H(V))}),onPointerMove:ke(e.onPointerMove,H),onPointerUp:ke(e.onPointerUp,V=>{const k=V.target;k.hasPointerCapture(V.pointerId)&&k.releasePointerCapture(V.pointerId),document.body.style.webkitUserSelect=b.current,p.viewport&&(p.viewport.style.scrollBehavior=""),v.current=null})})})}),em="ScrollAreaThumb",C4=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=S4(em,e.__scopeScrollArea);return o.jsx(rr,{present:n||s.hasThumb,children:o.jsx(vG,{ref:t,...r})})}),vG=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,a=ws(em,n),i=S4(em,n),{onThumbPositionChange:l}=i,c=st(t,f=>i.onThumbChange(f)),u=h.useRef(void 0),d=wp(()=>{u.current&&(u.current(),u.current=void 0)},100);return h.useEffect(()=>{const f=a.viewport;if(f){const m=()=>{if(d(),!u.current){const p=NG(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[a.viewport,d,l]),o.jsx(Ue.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ke(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),g=f.clientX-p.left,y=f.clientY-p.top;i.onThumbPointerDown({x:g,y})}),onPointerUp:ke(e.onPointerUp,i.onThumbPointerUp)})});C4.displayName=em;var u1="ScrollAreaCorner",A4=h.forwardRef((e,t)=>{const n=ws(u1,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(wG,{...e,ref:t}):null});A4.displayName=u1;var wG=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=ws(u1,n),[a,i]=h.useState(0),[l,c]=h.useState(0),u=!!(a&&l);return hc(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),hc(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?o.jsx(Ue.div,{...r,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function tm(e){return e?parseInt(e,10):0}function _4(e,t){const n=e/t;return isNaN(n)?0:n}function vp(e){const t=_4(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function EG(e,t,n,r="ltr"){const s=vp(n),a=s/2,i=t||a,l=s-i,c=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return j4([c,u],f)(e)}function F2(e,t,n="ltr"){const r=vp(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,i=t.content-t.viewport,l=a-r,c=n==="ltr"?[0,i]:[i*-1,0],u=Yx(e,c);return j4([0,i],[0,l])(u)}function j4(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function I4(e,t){return e>0&&e<t}var NG=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},i=n.left!==a.left,l=n.top!==a.top;(i||l)&&t(),n=a,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function wp(e,t){const n=rn(e),r=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),h.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function hc(e,t){const n=rn(t);hn(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var R4=w4,TG=N4,SG=A4;const P4=h.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(R4,{ref:r,className:Oe("relative overflow-hidden",e),...n,children:[o.jsx(TG,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(D4,{}),o.jsx(SG,{})]}));P4.displayName=R4.displayName;const D4=h.forwardRef(({className:e,orientation:t="vertical",...n},r)=>o.jsx(l1,{ref:r,orientation:t,className:Oe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:o.jsx(C4,{className:"relative flex-1 rounded-full bg-border"})}));D4.displayName=l1.displayName;const B2="http://localhost:5678",U2={DRHP:`${B2}/webhook/1/chat/docs`,RHP:`${B2}/webhook/1/chat/docs`},kG={async sendMessage(e,t,n=[],r,s,a,i,l){var c,u,d,f;try{console.log("Sending message to N8n with namespace:",r,"documentType:",a);const m=a==="RHP"?U2.RHP:U2.DRHP;console.log("Using webhook URL:",m);const p=new URLSearchParams({message:e,session_id:t.id,conversation_history:JSON.stringify(n.map(w=>({role:w.type,content:w.text,timestamp:w.timestamp}))),timestamp:new Date().toISOString(),action:"chat"});i&&p.append("jobId",i),r&&p.append("namespace",r),a&&p.append("document_type",a),s&&p.append("documentId",s);try{const w=localStorage.getItem("accessToken");if(w){const b=JSON.parse(atob(w.split(".")[1]));let E=b==null?void 0:b.domain;if(!E&&typeof(b==null?void 0:b.email)=="string"){const C=b.email.split("@");C.length===2&&(E=C[1].toLowerCase())}E&&p.append("domain",E);const N=b==null?void 0:b.domainId;N?p.append("domainId",N):console.warn("domainId not found in JWT token for chat request")}const v=localStorage.getItem("currentWorkspace");v&&p.append("workspaceId",v)}catch(w){console.error("Error extracting domain/domainId from token:",w)}const g=await te.get(`${m}?${p.toString()}`,{headers:{"Content-Type":"application/json"}});console.log("Response received from N8n:",g.data);let y;return Array.isArray(g.data)?g.data.length===1&&g.data[0].output?y=g.data[0].output:(g.data.length>=2,y=g.data):y=g.data,{response:y,memory_context:(c=g.data[0])==null?void 0:c.memory_context}}catch(m){return te.isCancel(m)?(console.log("N8n request canceled:",m.message),{response:[],error:"Request was canceled by the user."}):(console.error("Error sending message to N8n:",m),te.isAxiosError(m)&&(console.error("Response data:",(u=m.response)==null?void 0:u.data),console.error("Response status:",(d=m.response)==null?void 0:d.status),console.error("Response headers:",(f=m.response)==null?void 0:f.headers)),{response:[],error:m instanceof Error?m.message:"Unknown error"})}}},Na={async getChatsForDoc(e){try{const t=await hr.getByDocumentId(e);return Array.isArray(t)?t:[]}catch(t){return console.error("Error fetching chats:",t),[]}},async getChatById(e,t){try{const n=await hr.getByDocumentId(e);return Array.isArray(n)?n.find(r=>r.id===t):void 0}catch(n){console.error("Error fetching chat:",n);return}},async saveChatForDoc(e,t){var n;try{const r=t.messages.filter(i=>i.isUser).length,s=t.messages.filter(i=>!i.isUser).length;if(!(r>=1||s>1)){if(t.id)try{await hr.delete(t.id)}catch{}return}if(t.messages.length===2&&t.title==="New Chat"&&t.messages[1].isUser&&(t.title=t.messages[1].content.slice(0,30)+(t.messages[1].content.length>30?"...":"")),t.id)try{await hr.update(t.id,t)}catch(i){if(((n=i==null?void 0:i.response)==null?void 0:n.status)===404){const l=await hr.create({...t,documentId:e});t.id=l.id}else throw i}else{const i=await hr.create({...t,documentId:e});t.id=i.id}}catch(r){throw console.error("Error saving chat:",r),r}},async listChatsForDoc(e){return this.getChatsForDoc(e)},async createChatForDoc(e,t){return{id:Date.now().toString(),title:"New Chat",messages:[t],updatedAt:new Date().toISOString(),documentId:e}},async updateChatTitle(e,t,n){try{const r=await this.getChatById(e,t);r&&(r.title=n,r.updatedAt=new Date().toISOString(),await this.saveChatForDoc(e,r))}catch(r){throw console.error("Error updating chat title:",r),r}},async deleteChatForDoc(e,t){try{await hr.delete(t)}catch(n){throw console.error("Error deleting chat:",n),n}}};var Kg=0;function Ep(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??H2()),document.body.insertAdjacentElement("beforeend",e[1]??H2()),Kg++,()=>{Kg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Kg--}},[])}function H2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Qg="focusScope.autoFocusOnMount",Xg="focusScope.autoFocusOnUnmount",$2={bubbles:!1,cancelable:!0},CG="FocusScope",zd=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=h.useState(null),u=rn(s),d=rn(a),f=h.useRef(null),m=st(t,y=>c(y)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let y=function(E){if(p.paused||!l)return;const N=E.target;l.contains(N)?f.current=N:ro(f.current,{select:!0})},w=function(E){if(p.paused||!l)return;const N=E.relatedTarget;N!==null&&(l.contains(N)||ro(f.current,{select:!0}))},v=function(E){if(document.activeElement===document.body)for(const C of E)C.removedNodes.length>0&&ro(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const b=new MutationObserver(v);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),b.disconnect()}}},[r,l,p.paused]),h.useEffect(()=>{if(l){W2.add(p);const y=document.activeElement;if(!l.contains(y)){const v=new CustomEvent(Qg,$2);l.addEventListener(Qg,u),l.dispatchEvent(v),v.defaultPrevented||(AG(PG(O4(l)),{select:!0}),document.activeElement===y&&ro(l))}return()=>{l.removeEventListener(Qg,u),setTimeout(()=>{const v=new CustomEvent(Xg,$2);l.addEventListener(Xg,d),l.dispatchEvent(v),v.defaultPrevented||ro(y??document.body,{select:!0}),l.removeEventListener(Xg,d),W2.remove(p)},0)}}},[l,u,d,p]);const g=h.useCallback(y=>{if(!n&&!r||p.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,v=document.activeElement;if(w&&v){const b=y.currentTarget,[E,N]=_G(b);E&&N?!y.shiftKey&&v===N?(y.preventDefault(),n&&ro(E,{select:!0})):y.shiftKey&&v===E&&(y.preventDefault(),n&&ro(N,{select:!0})):v===b&&y.preventDefault()}},[n,r,p.paused]);return o.jsx(Ue.div,{tabIndex:-1,...i,ref:m,onKeyDown:g})});zd.displayName=CG;function AG(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ro(r,{select:t}),document.activeElement!==n)return}function _G(e){const t=O4(e),n=z2(t,e),r=z2(t.reverse(),e);return[n,r]}function O4(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function z2(e,t){for(const n of e)if(!jG(n,{upTo:t}))return n}function jG(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function IG(e){return e instanceof HTMLInputElement&&"select"in e}function ro(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&IG(e)&&t&&e.select()}}var W2=RG();function RG(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=V2(e,t),e.unshift(t)},remove(t){var n;e=V2(e,t),(n=e[0])==null||n.resume()}}}function V2(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function PG(e){return e.filter(t=>t.tagName!=="A")}var DG=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},il=new WeakMap,Pf=new WeakMap,Df={},Zg=0,L4=function(e){return e&&(e.host||L4(e.parentNode))},OG=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=L4(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},LG=function(e,t,n,r){var s=OG(t,Array.isArray(e)?e:[e]);Df[n]||(Df[n]=new WeakMap);var a=Df[n],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var p=m.getAttribute(r),g=p!==null&&p!=="false",y=(il.get(m)||0)+1,w=(a.get(m)||0)+1;il.set(m,y),a.set(m,w),i.push(m),y===1&&g&&Pf.set(m,!0),w===1&&m.setAttribute(n,"true"),g||m.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",m,v)}})};return d(t),l.clear(),Zg++,function(){i.forEach(function(f){var m=il.get(f)-1,p=a.get(f)-1;il.set(f,m),a.set(f,p),m||(Pf.has(f)||f.removeAttribute(r),Pf.delete(f)),p||f.removeAttribute(n)}),Zg--,Zg||(il=new WeakMap,il=new WeakMap,Pf=new WeakMap,Df={})}},Np=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=DG(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),LG(r,s,n,"aria-hidden")):function(){return null}},oa=function(){return oa=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},oa.apply(this,arguments)};function M4(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function MG(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var ch="right-scroll-bar-position",uh="width-before-scroll-bar",FG="with-scroll-bars-hidden",BG="--removed-body-scroll-bar-size";function Jg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function UG(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var HG=typeof window<"u"?h.useLayoutEffect:h.useEffect,Y2=new WeakMap;function $G(e,t){var n=UG(null,function(r){return e.forEach(function(s){return Jg(s,r)})});return HG(function(){var r=Y2.get(n);if(r){var s=new Set(r),a=new Set(e),i=n.current;s.forEach(function(l){a.has(l)||Jg(l,null)}),a.forEach(function(l){s.has(l)||Jg(l,i)})}Y2.set(n,e)},[e]),n}function zG(e){return e}function WG(e,t){t===void 0&&(t=zG);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var i=t(a,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(r=!0;n.length;){var i=n;n=[],i.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(a),i=n}var c=function(){var d=i;i=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function VG(e){e===void 0&&(e={});var t=WG(null);return t.options=oa({async:!0,ssr:!1},e),t}var F4=function(e){var t=e.sideCar,n=M4(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,oa({},n))};F4.isSideCarExport=!0;function YG(e,t){return e.useMedium(t),F4}var B4=VG(),e0=function(){},Tp=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:e0,onWheelCapture:e0,onTouchMoveCapture:e0}),s=r[0],a=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,p=e.noRelative,g=e.noIsolation,y=e.inert,w=e.allowPinchZoom,v=e.as,b=v===void 0?"div":v,E=e.gapMode,N=M4(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=m,S=$G([n,t]),_=oa(oa({},N),s);return h.createElement(h.Fragment,null,d&&h.createElement(C,{sideCar:B4,removeScrollBar:u,shards:f,noRelative:p,noIsolation:g,inert:y,setCallbacks:a,allowPinchZoom:!!w,lockRef:n,gapMode:E}),i?h.cloneElement(h.Children.only(l),oa(oa({},_),{ref:S})):h.createElement(b,oa({},_,{className:c,ref:S}),l))});Tp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Tp.classNames={fullWidth:uh,zeroRight:ch};var qG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function GG(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=qG();return t&&e.setAttribute("nonce",t),e}function KG(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function QG(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var XG=function(){var e=0,t=null;return{add:function(n){e==0&&(t=GG())&&(KG(t,n),QG(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ZG=function(){var e=XG();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},U4=function(){var e=ZG(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},JG={left:0,top:0,right:0,gap:0},t0=function(e){return parseInt(e||"",10)||0},eK=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[t0(n),t0(r),t0(s)]},tK=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return JG;var t=eK(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},nK=U4(),Hl="data-scroll-locked",rK=function(e,t,n,r){var s=e.left,a=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(FG,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Hl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ch,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(uh,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ch," .").concat(ch,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(uh," .").concat(uh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Hl,`] {
    `).concat(BG,": ").concat(l,`px;
  }
`)},q2=function(){var e=parseInt(document.body.getAttribute(Hl)||"0",10);return isFinite(e)?e:0},sK=function(){h.useEffect(function(){return document.body.setAttribute(Hl,(q2()+1).toString()),function(){var e=q2()-1;e<=0?document.body.removeAttribute(Hl):document.body.setAttribute(Hl,e.toString())}},[])},aK=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;sK();var a=h.useMemo(function(){return tK(s)},[s]);return h.createElement(nK,{styles:rK(a,!t,s,n?"":"!important")})},qx=!1;if(typeof window<"u")try{var Of=Object.defineProperty({},"passive",{get:function(){return qx=!0,!0}});window.addEventListener("test",Of,Of),window.removeEventListener("test",Of,Of)}catch{qx=!1}var ll=qx?{passive:!1}:!1,oK=function(e){return e.tagName==="TEXTAREA"},H4=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!oK(e)&&n[t]==="visible")},iK=function(e){return H4(e,"overflowY")},lK=function(e){return H4(e,"overflowX")},G2=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=$4(e,r);if(s){var a=z4(e,r),i=a[1],l=a[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},cK=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},uK=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},$4=function(e,t){return e==="v"?iK(t):lK(t)},z4=function(e,t){return e==="v"?cK(t):uK(t)},dK=function(e,t){return e==="h"&&t==="rtl"?-1:1},fK=function(e,t,n,r,s){var a=dK(e,window.getComputedStyle(t).direction),i=a*r,l=n.target,c=t.contains(l),u=!1,d=i>0,f=0,m=0;do{if(!l)break;var p=z4(e,l),g=p[0],y=p[1],w=p[2],v=y-w-a*g;(g||v)&&$4(e,l)&&(f+=v,m+=g);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},Lf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},K2=function(e){return[e.deltaX,e.deltaY]},Q2=function(e){return e&&"current"in e?e.current:e},hK=function(e,t){return e[0]===t[0]&&e[1]===t[1]},mK=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},pK=0,cl=[];function gK(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),s=h.useState(pK++)[0],a=h.useState(U4)[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=MG([e.lockRef.current],(e.shards||[]).map(Q2),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var v=Lf(y),b=n.current,E="deltaX"in y?y.deltaX:b[0]-v[0],N="deltaY"in y?y.deltaY:b[1]-v[1],C,S=y.target,_=Math.abs(E)>Math.abs(N)?"h":"v";if("touches"in y&&_==="h"&&S.type==="range")return!1;var H=G2(_,S);if(!H)return!0;if(H?C=_:(C=_==="v"?"h":"v",H=G2(_,S)),!H)return!1;if(!r.current&&"changedTouches"in y&&(E||N)&&(r.current=C),!C)return!0;var V=r.current||C;return fK(V,w,y,V==="h"?E:N)},[]),c=h.useCallback(function(y){var w=y;if(!(!cl.length||cl[cl.length-1]!==a)){var v="deltaY"in w?K2(w):Lf(w),b=t.current.filter(function(C){return C.name===w.type&&(C.target===w.target||w.target===C.shadowParent)&&hK(C.delta,v)})[0];if(b&&b.should){w.cancelable&&w.preventDefault();return}if(!b){var E=(i.current.shards||[]).map(Q2).filter(Boolean).filter(function(C){return C.contains(w.target)}),N=E.length>0?l(w,E[0]):!i.current.noIsolation;N&&w.cancelable&&w.preventDefault()}}},[]),u=h.useCallback(function(y,w,v,b){var E={name:y,delta:w,target:v,should:b,shadowParent:xK(v)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(N){return N!==E})},1)},[]),d=h.useCallback(function(y){n.current=Lf(y),r.current=void 0},[]),f=h.useCallback(function(y){u(y.type,K2(y),y.target,l(y,e.lockRef.current))},[]),m=h.useCallback(function(y){u(y.type,Lf(y),y.target,l(y,e.lockRef.current))},[]);h.useEffect(function(){return cl.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,ll),document.addEventListener("touchmove",c,ll),document.addEventListener("touchstart",d,ll),function(){cl=cl.filter(function(y){return y!==a}),document.removeEventListener("wheel",c,ll),document.removeEventListener("touchmove",c,ll),document.removeEventListener("touchstart",d,ll)}},[]);var p=e.removeScrollBar,g=e.inert;return h.createElement(h.Fragment,null,g?h.createElement(a,{styles:mK(s)}):null,p?h.createElement(aK,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function xK(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const yK=YG(B4,gK);var Wd=h.forwardRef(function(e,t){return h.createElement(Tp,oa({},e,{ref:t,sideCar:yK}))});Wd.classNames=Tp.classNames;var Sp="Popover",[W4]=os(Sp,[Xo]),Vd=Xo(),[bK,ti]=W4(Sp),V4=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:i=!1}=e,l=Vd(t),c=h.useRef(null),[u,d]=h.useState(!1),[f,m]=Fo({prop:r,defaultProp:s??!1,onChange:a,caller:Sp});return o.jsx(Wm,{...l,children:o.jsx(bK,{scope:t,contentId:Bs(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:h.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:u,onCustomAnchorAdd:h.useCallback(()=>d(!0),[]),onCustomAnchorRemove:h.useCallback(()=>d(!1),[]),modal:i,children:n})})};V4.displayName=Sp;var Y4="PopoverAnchor",vK=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ti(Y4,n),a=Vd(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=s;return h.useEffect(()=>(i(),()=>l()),[i,l]),o.jsx(Id,{...a,...r,ref:t})});vK.displayName=Y4;var q4="PopoverTrigger",wK=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ti(q4,n),a=Vd(n),i=st(t,s.triggerRef),l=o.jsx(Ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Z4(s.open),...r,ref:i,onClick:ke(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:o.jsx(Id,{asChild:!0,...a,children:l})});wK.displayName=q4;var d1="PopoverPortal",[EK,NK]=W4(d1,{forceMount:void 0}),G4=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,a=ti(d1,t);return o.jsx(EK,{scope:t,forceMount:n,children:o.jsx(rr,{present:n||a.open,children:o.jsx(Tc,{asChild:!0,container:s,children:r})})})};G4.displayName=d1;var mc="PopoverContent",K4=h.forwardRef((e,t)=>{const n=NK(mc,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,a=ti(mc,e.__scopePopover);return o.jsx(rr,{present:r||a.open,children:a.modal?o.jsx(SK,{...s,ref:t}):o.jsx(kK,{...s,ref:t})})});K4.displayName=mc;var TK=Mo("PopoverContent.RemoveScroll"),SK=h.forwardRef((e,t)=>{const n=ti(mc,e.__scopePopover),r=h.useRef(null),s=st(t,r),a=h.useRef(!1);return h.useEffect(()=>{const i=r.current;if(i)return Np(i)},[]),o.jsx(Wd,{as:TK,allowPinchZoom:!0,children:o.jsx(Q4,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ke(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ke(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),kK=h.forwardRef((e,t)=>{const n=ti(mc,e.__scopePopover),r=h.useRef(!1),s=h.useRef(!1);return o.jsx(Q4,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),Q4=h.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,m=ti(mc,n),p=Vd(n);return Ep(),o.jsx(zd,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(Gi,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:o.jsx(Vm,{"data-state":Z4(m.open),role:"dialog",id:m.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),X4="PopoverClose",CK=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ti(X4,n);return o.jsx(Ue.button,{type:"button",...r,ref:t,onClick:ke(e.onClick,()=>s.onOpenChange(!1))})});CK.displayName=X4;var AK="PopoverArrow",_K=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Vd(n);return o.jsx(Ym,{...s,...r,ref:t})});_K.displayName=AK;function Z4(e){return e?"open":"closed"}var jK=V4,IK=G4,J4=K4;const RK=jK,e3=h.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>o.jsx(IK,{children:o.jsx(J4,{ref:s,align:t,sideOffset:n,className:Oe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));e3.displayName=J4.displayName;function PK(e){return e.replace(/((?:\|[^\n]*\|(?:\n|$))+)/g,t=>t.split(`
`).filter(n=>n.trim()!=="").join(`
`)+`
`)}function DK({isDocumentProcessed:e,currentDocument:t,chatId:n,onChatCreated:r,onProcessingChange:s,customStyles:a={},newChatTrigger:i}){const[l,c]=h.useState(()=>aa.initializeSession()),[u,d]=h.useState([]),[f,m]=h.useState({last_topic:null,user_interests:[],conversation_summary:""}),[p,g]=h.useState([]),[y,w]=h.useState(n||null),[v,b]=h.useState(""),[E,N]=h.useState(!1),C=h.useRef(null),S=h.useRef(null),_=h.useRef(null),[H,V]=h.useState(null),k=h.useRef(null),$=h.useRef({jobId:null,status:null,timestamp:0}),I=["Summarise key risk factors relevant to investors.","What is the issue size, price band, and lot size?","How will the proceeds be used (utilisation of funds)?","Who are the lead managers, registrar, and their roles?"],Y=M=>{e&&(b(M),setTimeout(()=>L(),0))};h.useEffect(()=>()=>{_.current&&_.current.abort(),k.current&&clearTimeout(k.current)},[]);const P=async()=>{t&&(w(null),g([{id:"greet",content:`Hello! I'm your DRHP document assistant. Ask a question about ${t.name} to start a chat.`,isUser:!1,timestamp:new Date}]))};h.useEffect(()=>{i&&i>0&&P()},[i]),h.useEffect(()=>{var M;(M=S.current)==null||M.focus()},[]),h.useEffect(()=>(k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{w(null),g([{id:"greet",content:"Hello! I'm your DRHP document assistant. Ask a question to start a chat.",isUser:!1,timestamp:new Date}])},20*60*1e3),()=>{k.current&&clearTimeout(k.current)}),[l.id]),h.useEffect(()=>{t&&t.id!==H&&V(t.id)},[t]),h.useEffect(()=>{(async()=>{if(!t){g([]),w(null);return}try{if(n){const F=(await Na.getChatsForDoc(t.id)).find(D=>D.id===n);if(F&&Array.isArray(F.messages)){g(F.messages.map(D=>({...D,timestamp:new Date(D.timestamp)}))),w(F.id);return}}if(aa.isSessionExpired(l)||l.resetOnInit){g([{id:"greet",content:"Hello! I'm your DRHP document assistant. Ask a question to start a chat.",isUser:!1,timestamp:new Date}]),w(null);return}g([{id:"greet",content:"Hello! I'm your DRHP document assistant. Ask a question to start a chat.",isUser:!1,timestamp:new Date}]),w(null)}catch(K){console.error("Error loading chat:",K),g([]),w(null)}})()},[t,n]),h.useEffect(()=>{const M=Bl("https://smart-rhtp-backend-2.onrender.com",{transports:["websocket"]});return M.on("chat_status",K=>{const{jobId:F,status:D,error:T}=K,G=D==null?void 0:D.trim().toLowerCase();$.current.jobId===F&&$.current.status===G&&Date.now()-$.current.timestamp<2e3||G==="failed"&&T&&($.current={jobId:F,status:G,timestamp:Date.now()},O.error(`Chat error: ${T.message||T}`),g(ne=>{const A=ne[ne.length-1];if(A&&!A.isUser&&A.content===(T.message||T))return ne;const W={id:Date.now().toString(),content:`Error: ${T.message||T}`,isUser:!1,timestamp:new Date};return[...ne,W]}),N(!1),s==null||s(!1))}),()=>{M.disconnect()}},[s]),h.useEffect(()=>{if(C.current){const M=C.current.querySelector("[data-radix-scroll-area-viewport]");M&&(M.scrollTop=M.scrollHeight)}},[p]);const L=async()=>{if(!v.trim()||!t)return;if(aa.isSessionExpired(l)){const T=aa.clearSession();c(T),w(null)}const M={id:Date.now().toString(),content:v,isUser:!0,timestamp:new Date().toISOString()};g(T=>[...T,{...M,timestamp:new Date(M.timestamp)}]),b(""),N(!0),s==null||s(!0),c(T=>aa.updateSessionActivity(T)),k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{w(null),g([{id:"greet",content:"Hello! I'm your DRHP document assistant. Ask a question to start a chat.",isUser:!1,timestamp:new Date}])},20*60*1e3);let K,F=y,D=[];try{if(y)K=(await Na.getChatsForDoc(t.id)).find(ae=>ae.id===y),K&&(K.messages.push(M),K.updatedAt=new Date().toISOString(),await Na.saveChatForDoc(t.id,K),D=K.messages.map(ae=>({...ae,timestamp:new Date(ae.timestamp)})));else{const z={id:(Date.now()-1).toString(),content:`Hello! I'm your DRHP document assistant. Ask a question about ${t.name} to start a chat.`,isUser:!1,timestamp:new Date().toISOString()};K=await Na.createChatForDoc(t.id,z),F=K.id||void 0,K.messages.push(M),K.updatedAt=new Date().toISOString(),await Na.saveChatForDoc(t.id,K),!F&&K.id&&(F=K.id,w(F),r&&r(F)),D=K.messages.map(ae=>({...ae,timestamp:new Date(ae.timestamp)}))}_.current&&_.current.abort(),_.current=new AbortController;const T=await kG.sendMessage(v,l,u,t.namespace,t.id,t.type||"DRHP",M.id,_.current.signal);if(T.error)throw new Error(T.error);T.memory_context&&m(T.memory_context);const G={type:"user",text:v,timestamp:Date.now()},ne=Array.isArray(T.response)?T.response.join(`
`):T.response,A={type:"bot",text:ne,timestamp:Date.now()};d(z=>[...z,G,A]);const W={id:(Date.now()+1).toString(),content:ne,isUser:!1,timestamp:new Date().toISOString()};if(t&&F){const ae=(await Na.getChatsForDoc(t.id)).find(J=>J.id===F);ae&&(ae.messages.push(W),ae.updatedAt=new Date().toISOString(),await Na.saveChatForDoc(t.id,ae),g(ae.messages.map(J=>({...J,timestamp:new Date(J.timestamp)}))))}}catch(T){console.error("Error in chat:",T);const G=T instanceof Error?T.message:"Sorry, I encountered an error while processing your message.";O.error(G);const ne={id:(Date.now()+1).toString(),content:G,isUser:!1,timestamp:new Date().toISOString()};if(t&&F)try{const W=(await Na.getChatsForDoc(t.id)).find(z=>z.id===F);W?(W.messages.push(ne),W.updatedAt=new Date().toISOString(),await Na.saveChatForDoc(t.id,W),g(W.messages.map(z=>({...z,timestamp:new Date(z.timestamp)})))):g(z=>[...z,{...ne,timestamp:new Date(ne.timestamp)}])}catch(A){console.error("Error saving error message:",A),g(W=>[...W,{...ne,timestamp:new Date(ne.timestamp)}])}}finally{N(!1),s==null||s(!1)}};return o.jsxs("div",{className:"flex flex-col flex-1 min-h-0",children:[t&&o.jsx("div",{className:"flex items-center justify-end p-2 gap-2"}),!a.removeHeader&&o.jsx("div",{className:"flex items-center justify-between p-4 border-b border-border flex-shrink-0",children:o.jsx("h2",{className:"font-semibold mt-50 text-lg text-foreground",children:"Chat Assistant"})}),o.jsx(P4,{ref:C,className:"flex-1",children:o.jsxs("div",{className:"p-4 space-y-4",children:[p.map(M=>o.jsxs("div",{className:Oe("flex items-start gap-3",M.isUser?"justify-end":"justify-start"),children:[!M.isUser&&o.jsx("div",{className:"h-8 w-8 rounded-full bg-[#ECE9E2] flex items-center justify-center flex-shrink-0",children:o.jsx(gw,{className:"h-4 w-4 text-muted-foreground"})}),o.jsxs("div",{className:Oe("rounded-2xl p-4 max-w-[75%] ",M.isUser?"rounded-br-none whitespace-pre-wrap":"rounded-bl-none"),style:{background:M.isUser?"#e6e3df":"#e7ebee",color:M.isUser?"rgba(62, 36, 7, 1)":"rgba(38, 40, 43, 1)"},children:[M.isUser?o.jsx("p",{className:"text-sm break-words",children:M.content}):o.jsx("div",{className:"markdown-chat-message  text-sm break-words",children:o.jsx(h_,{remarkPlugins:[F_],components:{h1:({children:K})=>o.jsx("h1",{className:"text-[18px] font-bold text-[#1F2937] my-2",children:K}),h2:({children:K})=>o.jsx("h2",{className:"text-[16px] font-bold text-[#1F2937] my-2",children:K}),h3:({children:K})=>o.jsx("h3",{className:"text-[15px] font-bold text-[#1F2937] my-2",children:K}),h4:({children:K})=>o.jsx("h4",{className:"text-[14px] font-bold text-[#1F2937] my-1.5",children:K}),h5:({children:K})=>o.jsx("h5",{className:"text-[13px] font-semibold text-[#1F2937] my-1.5",children:K}),h6:({children:K})=>o.jsx("h6",{className:"text-[12px] font-semibold text-[#1F2937] my-1",children:K}),p:({children:K})=>o.jsx("p",{className:"my-1 leading-relaxed",children:K}),ul:({children:K})=>o.jsx("ul",{className:"list-disc pl-5 my-1 space-y-1",children:K}),ol:({children:K})=>o.jsx("ol",{className:"list-decimal pl-5 my-1 space-y-1",children:K}),li:({children:K})=>o.jsx("li",{className:"leading-relaxed",children:K}),table:({children:K})=>o.jsx("table",{className:"min-w-full  border border-gray-300 my-2",children:K}),th:({children:K})=>o.jsx("th",{className:"border px-2 py-1 bg-gray-100 font-semibold",children:K}),td:({children:K})=>o.jsx("td",{className:"border px-2 py-1",children:K}),a:({href:K,children:F,...D})=>o.jsx("a",{href:K,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",...D,children:F})},children:PK(M.content)})}),o.jsx("span",{className:"text-xs opacity-70 block mt-1",style:{color:a.timestamp||"#A1A1AA"},children:new Date(M.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),M.isUser&&o.jsx("div",{className:"h-8 w-8 rounded-full bg-[#ECE9E2]  flex items-center justify-center flex-shrink-0",children:o.jsx(Ci,{className:"h-4 w-4 text-muted-foreground"})})]},M.id)),E&&o.jsxs("div",{className:"flex max-w-[80%] mr-auto animate-fade-in items-center gap-3",children:[o.jsx("div",{className:"h-8 w-8 rounded-full bg-muted flex items-center justify-center flex-shrink-0",children:o.jsx(gw,{className:"h-4 w-4 text-muted-foreground"})}),o.jsx("div",{className:"rounded-2xl p-3 bg-card text-card-foreground",children:o.jsxs("div",{className:"flex space-x-2 items-center",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-muted-foreground/60 animate-pulse"}),o.jsx("div",{className:"w-2 h-2 rounded-full bg-muted-foreground/60 animate-pulse delay-150"}),o.jsx("div",{className:"w-2 h-2 rounded-full bg-muted-foreground/60 animate-pulse delay-300"})]})})]})]})}),o.jsxs("div",{className:"p-4 flex-shrink-0  mb-8 bg-white",children:[p.filter(M=>M.isUser).length===0&&o.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:I.map(M=>o.jsx("button",{type:"button",onClick:()=>Y(M),disabled:!e,className:Oe("px-3 py-1.5 text-sm rounded-full border border-[#E5E5E5] bg-[#F9F6F2] text-[#4B2A06] hover:bg-[#F1EDE6]",!e&&"opacity-50 cursor-not-allowed"),children:M},M))}),o.jsxs("form",{onSubmit:M=>{M.preventDefault(),L()},className:"flex items-center border-t pt-4 gap-2",children:[o.jsx(xt,{ref:S,value:v,onChange:M=>b(M.target.value),placeholder:a.inputPlaceholder||"Ask a question about your document...",className:Oe("flex-1 chat-input-focus focus:outline-none ring-0",a.inputFocusClassName),style:{background:a.inputBg||void 0,borderColor:a.inputBorder||void 0,borderRadius:a.inputRadius||void 0,boxShadow:a.inputShadow||void 0,borderWidth:a.removeInputBorder?0:void 0},disabled:!e}),o.jsx(Re,{type:"submit",size:"icon",style:{background:a.sendBtnBg||void 0,borderRadius:a.inputRadius||void 0,boxShadow:a.inputShadow||void 0},className:Oe("text-primary-foreground hover:opacity-90 transition-opacity",!e&&"opacity-50 pointer-events-none"),disabled:!e,children:E?o.jsx(Ze,{className:"h-4 w-4 animate-spin",style:{color:a.sendBtnIcon||void 0}}):o.jsx(QD,{className:"h-4 w-4",style:{color:a.sendBtnIcon||void 0}})})]})]})]})}function t3({documentId:e,documentName:t,renderAsButton:n=!1,buttonLabel:r="View Document",buttonClassName:s="text-sm text-[#4B2A06]"}){const[a,i]=oe.useState(null),[l,c]=oe.useState(!1),[u,d]=oe.useState(!1),[f,m]=oe.useState(null),[p,g]=oe.useState(!1),y=async()=>{c(!0);try{const E=await te.get(`http://localhost:5000/api/documents/${e}`);i(E.data)}catch{i({text:"Failed to load document details."})}finally{c(!1)}},w=async()=>{const E=localStorage.getItem("accessToken");try{const N=await fetch(`http://localhost:5000/api/documents/download/${e} `,{headers:{Authorization:`Bearer ${E}`}});if(!N.ok)throw new Error("Failed to download file");const C=await N.blob(),S=window.URL.createObjectURL(C),_=document.createElement("a");_.href=S,_.download=t||"document.pdf",document.body.appendChild(_),_.click(),_.remove(),window.URL.revokeObjectURL(S)}catch(N){alert("Download failed: "+N.message)}},v=async()=>{g(!0),d(!0);const E=localStorage.getItem("accessToken");try{const N=await te.get(`http://localhost:5000/api/documents/download/${e}?inline=1`,{headers:{Authorization:`Bearer ${E}`},responseType:"blob"}),C=new Blob([N.data],{type:"application/pdf"}),S=URL.createObjectURL(C);m(S)}catch(N){const C=N instanceof Error?N.message:"Unknown error";alert("Failed to load PDF: "+C),d(!1)}finally{g(!1)}},b=()=>{f&&URL.revokeObjectURL(f),d(!1),m(null),g(!1)};return o.jsxs(o.Fragment,{children:[n?o.jsx("button",{type:"button",className:s,onClick:E=>{E.preventDefault(),E.stopPropagation(),v()},children:r}):o.jsx("span",{className:"cursor-pointer underline text-base font-semibold text-[#4B2A06] mx-4",onClick:v,children:t}),o.jsx(RK,{onOpenChange:E=>{E&&!a&&!l&&y()},children:o.jsx(e3,{className:"max-w-lg",children:l?o.jsx("div",{children:"Loading..."}):a?o.jsx(o.Fragment,{children:!u&&o.jsx(o.Fragment,{children:o.jsx("button",{onClick:w,className:"inline-block mt-2 px-4 py-2 bg-[#4B2A06] text-white rounded hover:bg-[#3A2004] mr-2",children:"Download PDF"})})}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:y,className:"inline-block mt-2 px-4 py-2 bg-[#A1A1AA] text-white rounded cursor-pointer disabled:opacity-60 disabled:cursor-not-allowed mr-2",disabled:l,children:"Fetch Text"}),!u&&o.jsx(o.Fragment,{children:o.jsx("button",{onClick:w,className:"inline-block mt-2 px-4 py-2 bg-[#4B2A06] text-white rounded hover:bg-[#3A2004] mr-2",children:"Download PDF"})})]})})}),u&&ab.createPortal(o.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center bg-black/40",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-2 w-full max-w-5xl h-[90vh] flex flex-col relative",children:[o.jsx("button",{className:"absolute top-3 right-4 text-2xl font-bold text-gray-500 hover:text-gray-800 z-10",onClick:b,"aria-label":"Close PDF",children:""}),p?o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsx("span",{className:"text-lg font-semibold",children:"Processing..."})}):f&&o.jsxs(o.Fragment,{children:[o.jsx("iframe",{src:f,title:"PDF Viewer",width:"100%",height:"100%",className:"flex-1 rounded",style:{border:"none"}}),o.jsx("button",{onClick:w,className:"z-[1001] absolute top-5 right-24 p-1.5 bg-[#3c3c3c] text-white hover:bg-[#515a5a] rounded-full",children:o.jsx("svg",{className:"h-5 w-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})})]})]})}),document.body)]})}const f1={normalizeNamespace(e){let t=e.trim();return t=t.replace(/[\-_]+/g," "),t=t.replace(/\s+/g," "),t.trim()},async checkDocumentStatus(e,t){try{const n=await It.getById(e);return{status:n.status||"failed",documentId:n.id,namespace:n.namespace,message:n.status==="processing"?"Document is still processing.":n.status==="completed"?"Document processing completed.":"Document processing failed."}}catch(n){return console.error("Error checking document status from backend:",n),{status:"failed",error:n instanceof Error?n.message:"Unknown error"}}},async checkExistingDocument(e){try{const t=e;return await It.checkExistingByNamespace(t)}catch(t){return console.error("Error checking existing document:",t),{exists:!1,message:"Error checking existing document"}}},async uploadFileToBackend(e){const t=e.name,n=await this.checkExistingDocument(e.name);if(n.exists)return{success:!1,existingDocument:n.document,message:n.message,error:"Document already exists"};const r=localStorage.getItem("accessToken"),s=new FormData;s.append("file",e),s.append("namespace",t);const a=await fetch("http://localhost:5000/api/documents/upload",{method:"POST",headers:{Authorization:`Bearer ${r}`},body:s});if(!a.ok){if(a.status===409){const i=await a.json();return{success:!1,existingDocument:i.existingDocument,message:i.error||"Document already exists",error:"Document already exists"}}throw new Error("Failed to upload file to backend")}return a.json()},async uploadRhpToBackend(e,t){const n=localStorage.getItem("accessToken"),r=new FormData;r.append("file",e),r.append("drhpId",t);const s=await fetch("http://localhost:5000/api/documents/upload-rhp",{method:"POST",headers:{Authorization:`Bearer ${n}`},body:r});if(!s.ok){const a=await s.json();throw new Error(a.error||"Failed to upload RHP file")}return s.json()}},h1=({resourceType:e,resourceId:t,open:n,onOpenChange:r})=>{const[s,a]=h.useState(!1),[i,l]=h.useState([]),[c,u]=h.useState("viewer"),[d,f]=h.useState("user"),[m,p]=h.useState(""),[g,y]=h.useState(null),{user:w}=Nn(),v=((w==null?void 0:w.role)||"").toLowerCase()==="admin",b=async()=>{if(t){a(!0);try{const S=await Io.list(e,t);l(S||[])}catch{O.error("Failed to load shares")}finally{a(!1)}}};h.useEffect(()=>{n&&b()},[n,t]),h.useEffect(()=>{!v&&c!=="viewer"&&u("viewer")},[v,c]);const E=async S=>{try{await Io.revoke(S),await b(),O.success("Share revoked")}catch{O.error("Failed to revoke share")}},N=async()=>{if(t)try{const{token:S}=await Io.createOrRotateLink(e,t,c==="owner"?"editor":c);y(S),await b(),O.success("Link created")}catch{O.error("Failed to create link")}},C=async()=>{if(!g)return;const S=`${window.location.origin}/dashboard?linkToken=${encodeURIComponent(g)}`;await navigator.clipboard.writeText(S),O.success("Link copied")};return n?o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:o.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden",style:{borderRadius:16},children:[o.jsxs("div",{className:" px-6 py-4 flex items-center justify-between",children:[o.jsx("div",{className:"text-lg font-extrabold item-right text-[#232323]",children:"Share"}),o.jsx("button",{onClick:()=>r(!1),className:"text-gray-500 hover:text-gray-700   ",children:o.jsx(Bn,{className:"h-5 w-5"})})]}),o.jsx("div",{className:"h-px bg-[#EFEAE4]"}),o.jsxs("div",{className:"px-6 py-5 text-center flex flex-col items-center",children:[o.jsx("div",{className:"text-sm text-[#232323] mb-3 font-semibold",children:"General access"}),o.jsxs("div",{className:"flex  items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded-lg bg-[#F5F3EF] border border-[#E8E2DA]",children:o.jsx("span",{className:"text-[#4B2A06]",children:""})}),o.jsxs("div",{className:"flex items-center  gap-2 relative",children:[o.jsxs("select",{value:d==="link"?"link":"restricted",onChange:S=>f(S.target.value==="link"?"link":"user"),className:"h-10 pl-3 pr-10 appearance-none rounded-lg bg-[#F5F3EF] border border-[#E8E2DA] text-[#232323] text-sm",children:[o.jsx("option",{value:"restricted",children:"Restricted"}),o.jsx("option",{value:"link",children:"Anyone with link"})]}),o.jsx("span",{className:"pointer-events-none absolute right-3 text-[#7C7C7C]",children:""})]}),o.jsxs("div",{className:"flex items-center gap-2 relative ",children:[o.jsxs("select",{value:c,onChange:S=>u(S.target.value),className:"h-10 pl-3 pr-10 appearance-none rounded-lg bg-[#F5F3EF] border border-[#E8E2DA] text-[#232323] text-sm ",disabled:!v||d!=="link",title:"Access level for link viewers",children:[o.jsx("option",{value:"viewer",children:"Viewer"}),o.jsx("option",{value:"editor",children:"Editor"}),v&&o.jsx("option",{value:"owner",children:"Owner"})]}),o.jsx("span",{className:"pointer-events-none absolute right-3 text-[#7C7C7C]",children:""})]})]}),o.jsxs("div",{className:"mt-6 flex justify-center gap-2 w-full",children:[o.jsx("button",{onClick:N,className:"inline-flex items-center gap-2 bg-[#4B2A06] text-white px-4 py-2 rounded-md hover:bg-[#3A2004] disabled:opacity-50",disabled:d!=="link",title:d!=="link"?'Switch to "Anyone with link" first':"Create share link",children:"Create link"}),o.jsxs("button",{onClick:C,className:"inline-flex items-center gap-2 bg-[#4B2A06] text-white px-4 py-2 rounded-md hover:bg-[#3A2004] disabled:opacity-50",disabled:!g,title:g?"Copy link to clipboard":"Create a link first",children:[o.jsx(Rk,{className:"h-4 w-4"})," Copy link"]})]}),o.jsxs("div",{className:"mt-6 w-full",children:[o.jsx("div",{className:"text-sm font-semibold mb-2 text-[#232323]",children:"People with access"}),o.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto w-full",children:s?o.jsx("div",{className:"text-gray-500 text-sm",children:"Loading..."}):i.length===0?o.jsx("div",{className:"text-gray-500 text-sm",children:"No shares yet"}):i.map(S=>o.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-[#F9F6F2] px-3 py-2",children:[o.jsxs("div",{className:"text-sm text-[#232323]",children:[o.jsx("div",{className:"font-medium",children:S.scope==="link"?"Link":S.scope==="workspace"?`Workspace: ${S.principalId}`:`User: ${S.principalId}`}),o.jsxs("div",{className:"text-xs text-[#7C7C7C]",children:["Role: ",S.role]})]}),o.jsx("button",{className:"text-red-600 hover:text-red-700",onClick:()=>E(S.id),title:"Revoke",children:o.jsx(Kn,{className:"h-4 w-4"})})]},S.id))})]})]})]})}):null};function qs(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ui(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const n3=6048e5,OK=864e5;let LK={};function kp(){return LK}function pd(e,t){var l,c,u,d;const n=kp(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=qs(e),a=s.getDay(),i=(a<r?7:0)+a-r;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function nm(e){return pd(e,{weekStartsOn:1})}function r3(e){const t=qs(e),n=t.getFullYear(),r=Ui(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=nm(r),a=Ui(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const i=nm(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function X2(e){const t=qs(e);return t.setHours(0,0,0,0),t}function Z2(e){const t=qs(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function MK(e,t){const n=X2(e),r=X2(t),s=+n-Z2(n),a=+r-Z2(r);return Math.round((s-a)/OK)}function FK(e){const t=r3(e),n=Ui(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),nm(n)}function BK(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function UK(e){if(!BK(e)&&typeof e!="number")return!1;const t=qs(e);return!isNaN(Number(t))}function HK(e){const t=qs(e),n=Ui(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const $K={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zK=(e,t,n)=>{let r;const s=$K[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function n0(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const WK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},VK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},YK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qK={date:n0({formats:WK,defaultWidth:"full"}),time:n0({formats:VK,defaultWidth:"full"}),dateTime:n0({formats:YK,defaultWidth:"full"})},GK={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},KK=(e,t,n,r)=>GK[e];function su(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):i;s=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[i]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const QK={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},XK={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ZK={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},JK={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},tQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},nQ=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},rQ={ordinalNumber:nQ,era:su({values:QK,defaultWidth:"wide"}),quarter:su({values:XK,defaultWidth:"wide",argumentCallback:e=>e-1}),month:su({values:ZK,defaultWidth:"wide"}),day:su({values:JK,defaultWidth:"wide"}),dayPeriod:su({values:eQ,defaultWidth:"wide",formattingValues:tQ,defaultFormattingWidth:"wide"})};function au(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const i=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?aQ(l,f=>f.test(i)):sQ(l,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function sQ(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function aQ(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function oQ(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],a=t.match(e.parsePattern);if(!a)return null;let i=e.valueCallback?e.valueCallback(a[0]):a[0];i=n.valueCallback?n.valueCallback(i):i;const l=t.slice(s.length);return{value:i,rest:l}}}const iQ=/^(\d+)(th|st|nd|rd)?/i,lQ=/\d+/i,cQ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},uQ={any:[/^b/i,/^(a|c)/i]},dQ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fQ={any:[/1/i,/2/i,/3/i,/4/i]},hQ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mQ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pQ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},gQ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xQ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},yQ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bQ={ordinalNumber:oQ({matchPattern:iQ,parsePattern:lQ,valueCallback:e=>parseInt(e,10)}),era:au({matchPatterns:cQ,defaultMatchWidth:"wide",parsePatterns:uQ,defaultParseWidth:"any"}),quarter:au({matchPatterns:dQ,defaultMatchWidth:"wide",parsePatterns:fQ,defaultParseWidth:"any",valueCallback:e=>e+1}),month:au({matchPatterns:hQ,defaultMatchWidth:"wide",parsePatterns:mQ,defaultParseWidth:"any"}),day:au({matchPatterns:pQ,defaultMatchWidth:"wide",parsePatterns:gQ,defaultParseWidth:"any"}),dayPeriod:au({matchPatterns:xQ,defaultMatchWidth:"any",parsePatterns:yQ,defaultParseWidth:"any"})},vQ={code:"en-US",formatDistance:zK,formatLong:qK,formatRelative:KK,localize:rQ,match:bQ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function wQ(e){const t=qs(e);return MK(t,HK(t))+1}function EQ(e){const t=qs(e),n=+nm(t)-+FK(t);return Math.round(n/n3)+1}function s3(e,t){var d,f,m,p;const n=qs(e),r=n.getFullYear(),s=kp(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(m=s.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,i=Ui(e,0);i.setFullYear(r+1,0,a),i.setHours(0,0,0,0);const l=pd(i,t),c=Ui(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const u=pd(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function NQ(e,t){var l,c,u,d;const n=kp(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=s3(e,t),a=Ui(e,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),pd(a,t)}function TQ(e,t){const n=qs(e),r=+pd(n,t)-+NQ(n,t);return Math.round(r/n3)+1}function kt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Ja={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return kt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):kt(n+1,2)},d(e,t){return kt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return kt(e.getHours()%12||12,t.length)},H(e,t){return kt(e.getHours(),t.length)},m(e,t){return kt(e.getMinutes(),t.length)},s(e,t){return kt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return kt(s,t.length)}},ul={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},J2={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Ja.y(e,t)},Y:function(e,t,n,r){const s=s3(e,r),a=s>0?s:1-s;if(t==="YY"){const i=a%100;return kt(i,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):kt(a,t.length)},R:function(e,t){const n=r3(e);return kt(n,t.length)},u:function(e,t){const n=e.getFullYear();return kt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return kt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return kt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Ja.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return kt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=TQ(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):kt(s,t.length)},I:function(e,t,n){const r=EQ(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):kt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ja.d(e,t)},D:function(e,t,n){const r=wQ(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):kt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return kt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return kt(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return kt(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=ul.noon:r===0?s=ul.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=ul.evening:r>=12?s=ul.afternoon:r>=4?s=ul.morning:s=ul.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ja.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ja.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):kt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):kt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ja.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ja.s(e,t)},S:function(e,t){return Ja.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return tN(r);case"XXXX":case"XX":return di(r);case"XXXXX":case"XXX":default:return di(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return tN(r);case"xxxx":case"xx":return di(r);case"xxxxx":case"xxx":default:return di(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+eN(r,":");case"OOOO":default:return"GMT"+di(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+eN(r,":");case"zzzz":default:return"GMT"+di(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return kt(r,t.length)},T:function(e,t,n){const r=e.getTime();return kt(r,t.length)}};function eN(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),a=r%60;return a===0?n+String(s):n+String(s)+t+kt(a,2)}function tN(e,t){return e%60===0?(e>0?"-":"+")+kt(Math.abs(e)/60,2):di(e,t)}function di(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=kt(Math.trunc(r/60),2),a=kt(r%60,2);return n+s+t+a}const nN=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},a3=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},SQ=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return nN(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",nN(r,t)).replace("{{time}}",a3(s,t))},kQ={p:a3,P:SQ},CQ=/^D+$/,AQ=/^Y+$/,_Q=["D","DD","YY","YYYY"];function jQ(e){return CQ.test(e)}function IQ(e){return AQ.test(e)}function RQ(e,t,n){const r=PQ(e,t,n);if(console.warn(r),_Q.includes(e))throw new RangeError(r)}function PQ(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const DQ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,OQ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,LQ=/^'([^]*?)'?$/,MQ=/''/g,FQ=/[a-zA-Z]/;function BQ(e,t,n){var d,f,m,p;const r=kp(),s=r.locale??vQ,a=r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=r.weekStartsOn??((p=(m=r.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,l=qs(e);if(!UK(l))throw new RangeError("Invalid time value");let c=t.match(OQ).map(g=>{const y=g[0];if(y==="p"||y==="P"){const w=kQ[y];return w(g,s.formatLong)}return g}).join("").match(DQ).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const y=g[0];if(y==="'")return{isToken:!1,value:UQ(g)};if(J2[y])return{isToken:!0,value:g};if(y.match(FQ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:i,locale:s};return c.map(g=>{if(!g.isToken)return g.value;const y=g.value;(IQ(y)||jQ(y))&&RQ(y,t,String(e));const w=J2[y[0]];return w(l,y,s.localize,u)}).join("")}function UQ(e){const t=e.match(LQ);return t?t[1].replace(MQ,"'"):e}var Cp="Dialog",[o3,i3]=os(Cp),[HQ,Gs]=o3(Cp),l3=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,l=h.useRef(null),c=h.useRef(null),[u,d]=Fo({prop:r,defaultProp:s??!1,onChange:a,caller:Cp});return o.jsx(HQ,{scope:t,triggerRef:l,contentRef:c,contentId:Bs(),titleId:Bs(),descriptionId:Bs(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};l3.displayName=Cp;var c3="DialogTrigger",u3=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Gs(c3,n),a=st(t,s.triggerRef);return o.jsx(Ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":g1(s.open),...r,ref:a,onClick:ke(e.onClick,s.onOpenToggle)})});u3.displayName=c3;var m1="DialogPortal",[$Q,d3]=o3(m1,{forceMount:void 0}),f3=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=Gs(m1,t);return o.jsx($Q,{scope:t,forceMount:n,children:h.Children.map(r,i=>o.jsx(rr,{present:n||a.open,children:o.jsx(Tc,{asChild:!0,container:s,children:i})}))})};f3.displayName=m1;var rm="DialogOverlay",h3=h.forwardRef((e,t)=>{const n=d3(rm,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Gs(rm,e.__scopeDialog);return a.modal?o.jsx(rr,{present:r||a.open,children:o.jsx(WQ,{...s,ref:t})}):null});h3.displayName=rm;var zQ=Mo("DialogOverlay.RemoveScroll"),WQ=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Gs(rm,n);return o.jsx(Wd,{as:zQ,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Ue.div,{"data-state":g1(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Hi="DialogContent",m3=h.forwardRef((e,t)=>{const n=d3(Hi,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Gs(Hi,e.__scopeDialog);return o.jsx(rr,{present:r||a.open,children:a.modal?o.jsx(VQ,{...s,ref:t}):o.jsx(YQ,{...s,ref:t})})});m3.displayName=Hi;var VQ=h.forwardRef((e,t)=>{const n=Gs(Hi,e.__scopeDialog),r=h.useRef(null),s=st(t,n.contentRef,r);return h.useEffect(()=>{const a=r.current;if(a)return Np(a)},[]),o.jsx(p3,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ke(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:ke(e.onFocusOutside,a=>a.preventDefault())})}),YQ=h.forwardRef((e,t)=>{const n=Gs(Hi,e.__scopeDialog),r=h.useRef(!1),s=h.useRef(!1);return o.jsx(p3,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),p3=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,l=Gs(Hi,n),c=h.useRef(null),u=st(t,c);return Ep(),o.jsxs(o.Fragment,{children:[o.jsx(zd,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(Gi,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":g1(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(GQ,{titleId:l.titleId}),o.jsx(QQ,{contentRef:c,descriptionId:l.descriptionId})]})]})}),p1="DialogTitle",g3=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Gs(p1,n);return o.jsx(Ue.h2,{id:s.titleId,...r,ref:t})});g3.displayName=p1;var x3="DialogDescription",y3=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Gs(x3,n);return o.jsx(Ue.p,{id:s.descriptionId,...r,ref:t})});y3.displayName=x3;var b3="DialogClose",v3=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Gs(b3,n);return o.jsx(Ue.button,{type:"button",...r,ref:t,onClick:ke(e.onClick,()=>s.onOpenChange(!1))})});v3.displayName=b3;function g1(e){return e?"open":"closed"}var w3="DialogTitleWarning",[qQ,E3]=V6(w3,{contentName:Hi,titleName:p1,docsSlug:"dialog"}),GQ=({titleId:e})=>{const t=E3(w3),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},KQ="DialogDescriptionWarning",QQ=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${E3(KQ).contentName}}.`;return h.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},N3=l3,T3=u3,S3=f3,x1=h3,y1=m3,b1=g3,v1=y3,w1=v3,k3="AlertDialog",[XQ]=os(k3,[i3]),Ya=i3(),C3=e=>{const{__scopeAlertDialog:t,...n}=e,r=Ya(t);return o.jsx(N3,{...r,...n,modal:!0})};C3.displayName=k3;var ZQ="AlertDialogTrigger",A3=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Ya(n);return o.jsx(T3,{...s,...r,ref:t})});A3.displayName=ZQ;var JQ="AlertDialogPortal",_3=e=>{const{__scopeAlertDialog:t,...n}=e,r=Ya(t);return o.jsx(S3,{...r,...n})};_3.displayName=JQ;var eX="AlertDialogOverlay",j3=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Ya(n);return o.jsx(x1,{...s,...r,ref:t})});j3.displayName=eX;var $l="AlertDialogContent",[tX,nX]=XQ($l),rX=sk("AlertDialogContent"),I3=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,a=Ya(n),i=h.useRef(null),l=st(t,i),c=h.useRef(null);return o.jsx(qQ,{contentName:$l,titleName:R3,docsSlug:"alert-dialog",children:o.jsx(tX,{scope:n,cancelRef:c,children:o.jsxs(y1,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:ke(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(rX,{children:r}),o.jsx(aX,{contentRef:i})]})})})});I3.displayName=$l;var R3="AlertDialogTitle",P3=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Ya(n);return o.jsx(b1,{...s,...r,ref:t})});P3.displayName=R3;var D3="AlertDialogDescription",O3=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Ya(n);return o.jsx(v1,{...s,...r,ref:t})});O3.displayName=D3;var sX="AlertDialogAction",L3=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Ya(n);return o.jsx(w1,{...s,...r,ref:t})});L3.displayName=sX;var M3="AlertDialogCancel",F3=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=nX(M3,n),a=Ya(n),i=st(t,s);return o.jsx(w1,{...a,...r,ref:i})});F3.displayName=M3;var aX=({contentRef:e})=>{const t=`\`${$l}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${$l}\` by passing a \`${D3}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${$l}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},oX=C3,iX=A3,lX=_3,B3=j3,U3=I3,H3=L3,$3=F3,z3=P3,W3=O3;const V3=oX,cX=iX,uX=lX,Y3=h.forwardRef(({className:e,...t},n)=>o.jsx(B3,{className:Oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Y3.displayName=B3.displayName;const E1=h.forwardRef(({className:e,...t},n)=>o.jsxs(uX,{children:[o.jsx(Y3,{}),o.jsx(U3,{ref:n,className:Oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));E1.displayName=U3.displayName;const N1=({className:e,...t})=>o.jsx("div",{className:Oe("flex flex-col space-y-2 text-center sm:text-left",e),...t});N1.displayName="AlertDialogHeader";const T1=({className:e,...t})=>o.jsx("div",{className:Oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});T1.displayName="AlertDialogFooter";const S1=h.forwardRef(({className:e,...t},n)=>o.jsx(z3,{ref:n,className:Oe("text-lg font-semibold",e),...t}));S1.displayName=z3.displayName;const k1=h.forwardRef(({className:e,...t},n)=>o.jsx(W3,{ref:n,className:Oe("text-sm text-muted-foreground",e),...t}));k1.displayName=W3.displayName;const C1=h.forwardRef(({className:e,...t},n)=>o.jsx(H3,{ref:n,className:Oe(Pb(),e),...t}));C1.displayName=H3.displayName;const A1=h.forwardRef(({className:e,...t},n)=>o.jsx($3,{ref:n,className:Oe(Pb({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));A1.displayName=$3.displayName;function dX(e){const t=new Date,n=[],r=[],s=[],a=[];return e.forEach(i=>{const l=new Date(i.updatedAt),c=Math.floor((t.getTime()-l.getTime())/(1e3*60*60*24));c===0?n.push(i):c===1?r.push(i):c<=7?s.push(i):a.push(i)}),[{label:"Today",chats:n},{label:"Yesterday",chats:r},{label:"Last Week",chats:s},{label:"Older",chats:a}].filter(i=>i.chats.length>0)}const q3=({selectedDocumentId:e,selectedChatId:t,onSelectDocument:n,onSelectChat:r,onNewChat:s,onBack:a,onClose:i})=>{const l=qt(),[c,u]=h.useState([]),[d,f]=h.useState([]),[m,p]=h.useState(""),[g,y]=h.useState(""),[w,v]=h.useState(!1),[b,E]=h.useState(!1),[N,C]=h.useState(null),[S,_]=h.useState(null),[H,V]=h.useState(null),[k,$]=h.useState(()=>{const T=localStorage.getItem("documentTypeFilter");return T==="DRHP"||T==="RHP"?T:"DRHP"});h.useEffect(()=>{localStorage.setItem("documentTypeFilter",k)},[k]),h.useEffect(()=>{(async()=>{try{const G=await It.getAll();u(G)}catch(G){console.error("Error fetching documents:",G),C("Failed to load documents")}})()},[]),h.useEffect(()=>{const T=async()=>{if(!e){f([]);return}try{C(null);const G=await hr.getByDocumentId(e),ne=c.find(W=>W.id===e),A=G.map(W=>({...W,docName:ne==null?void 0:ne.name}));A.sort((W,z)=>new Date(z.updatedAt).getTime()-new Date(W.updatedAt).getTime()),f(A)}catch(G){console.error(`Error fetching chats for doc ${e}:`,G),C("Failed to load chat history"),f([])}};e?c.length>0&&T():f([])},[e,c]);const I=c.filter(T=>T.name.toLowerCase().includes(m.toLowerCase())&&T.type===k),Y=d.filter(T=>{var G;return(((G=T.docName)==null?void 0:G.toLowerCase().includes(g.toLowerCase()))||T.title.toLowerCase().includes(g.toLowerCase()))&&Array.isArray(T.messages)&&T.messages.length>1}),P=h.useMemo(()=>dX(Y),[Y]),L=async T=>{try{await hr.delete(T),f(d.filter(G=>G.id!==T))}catch(G){console.error("Error deleting chat:",G),C("Failed to delete chat")}},M=(T,G)=>{T.stopPropagation(),_(G)},K=async()=>{if(S)try{await It.delete(S.id),u(T=>T.filter(G=>G.id!==S.id)),f(T=>T.filter(G=>G.documentId!==S.id)),O.success("Document deleted successfully"),e===S.id&&n&&n(null)}catch(T){console.error("Error deleting document:",T),O.error("Failed to delete document")}finally{_(null)}},F=T=>{const G=new Date(T);return BQ(G,"h:mm a")},D=I;return o.jsxs("div",{className:"w-full bg-[#F5F3EF] h-full flex flex-col p-4",style:{fontFamily:"Inter, Arial, sans-serif",boxShadow:"none",border:"none",height:"100vh"},children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("button",{className:"flex items-center gap-2 text-[#7C7C7C] hover:text-[#4B2A06] transition-colors",onClick:()=>l("/dashboard"),children:[o.jsx(td,{className:"h-5 w-5"}),o.jsx("span",{className:"text-sm font-medium",children:"Back"})]}),o.jsx("button",{className:"text-[#7C7C7C] hover:text-[#4B2A06] transition-colors",onClick:i||a,children:o.jsx(Bn,{className:"h-5 w-5"})})]}),o.jsxs("button",{className:"w-full flex items-center justify-between bg-[#ECE9E2] rounded-2xl px-5 py-4 mb-6 text-[#4B2A06] text-[1.1rem] font-bold shadow-none border-none hover:bg-[#E0D7CE] transition",style:{fontWeight:700,fontSize:"1.1rem",borderRadius:"18px"},onClick:s,children:[o.jsx("span",{children:"New Chat"}),o.jsx(Li,{className:"h-7 w-7 text-[#4B2A06]"})]}),o.jsxs("button",{className:"w-full flex items-center justify-between bg-[#ECE9E2] rounded-2xl px-5 py-4 mb-6 text-[#4B2A06] text-[1.1rem] font-bold shadow-none border-none hover:bg-[#E0D7CE] transition disabled:opacity-50 disabled:cursor-not-allowed",style:{fontWeight:700,fontSize:"1.1rem",borderRadius:"18px"},onClick:()=>e&&V(e),disabled:!e,children:[o.jsx("span",{children:"Share"}),o.jsx(rd,{className:"h-6 w-6 text-[#4B2A06]"})]}),o.jsxs("div",{className:"flex-1 flex flex-col gap-6 min-h-0",children:[o.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto pr-1 scrollbar-hide",style:{maxHeight:"50%"},children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 mt-2",children:[o.jsx("span",{className:"text-xl font-extrabold text-[#232323] tracking-tight",children:"Documents"}),o.jsx(ac,{className:" outline-none h-5 w-5 text-[#232323] cursor-pointer",onClick:()=>v(!w)})]}),o.jsxs("div",{className:"flex bg-[#F5F3EF] rounded-lg p-1 mb-4",children:[o.jsxs("button",{className:`flex items-center gap-2 px-5 py-2 rounded-md text-sm font-medium transition-all ${k==="DRHP"?"bg-white text-[#4B2A06] shadow-sm":"text-[#7C7C7C] hover:text-[#4B2A06]"}`,onClick:()=>$("DRHP"),type:"button",children:[o.jsx(Yt,{className:"h-4 w-4"}),"DRHP"]}),o.jsxs("button",{className:`flex items-center gap-2 px-5 py-2 rounded-md text-sm font-medium transition-all ${k==="RHP"?"bg-white text-[#4B2A06] shadow-sm":"text-[#7C7C7C] hover:text-[#4B2A06]"}`,onClick:()=>$("RHP"),type:"button",children:[o.jsx(Yt,{className:"h-4 w-4"}),"RHP"]})]}),w&&o.jsx("div",{className:"mb-4",children:o.jsx("input",{type:"text",value:m,onChange:T=>p(T.target.value),placeholder:"Search documents...",className:"outline-none  w-full rounded-xl px-3 py-2 bg-[#F5F3EF] border border-[#ECECEC] text-[#232323] text-sm focus:outline-none placeholder:text-[#A1A1AA]",style:{fontSize:"0.98rem",borderRadius:"12px"},autoFocus:!0})}),o.jsx("div",{className:"space-y-1",children:D.map(T=>o.jsxs("div",{className:`group flex items-center justify-between w-full p-2 rounded-xl text-left text-sm font-medium truncate transition cursor-pointer ${e===T.id?"bg-[#ECE9E2] text-[#4B2A06] font-bold":"bg-transparent text-[#232323] hover:bg-[#ECE9E2]/60 font-medium"}`,style:{fontSize:"0.98rem",borderRadius:"12px"},onClick:()=>n&&n(T),children:[o.jsxs("div",{className:"flex items-center gap-2 truncate",children:[o.jsx(Yt,{className:"h-5 w-5 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:T.name})]}),o.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{className:"text-muted-foreground hover:text-[#4B2A06] p-1",onClick:G=>{G.stopPropagation(),V(T.id)},title:"Share document",children:o.jsx(rd,{className:"h-4 w-4"})}),o.jsx("button",{className:"text-muted-foreground hover:text-destructive p-1",onClick:G=>M(G,T),title:"Delete document",children:o.jsx(Kn,{className:"h-4 w-4"})})]})]},T.id))})]}),o.jsx("div",{className:"w-full h-[1.5px] bg-[#ECECEC]  rounded-full"}),o.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto pr-1",style:{maxHeight:"50%"},children:[o.jsxs("div",{className:" flex items-center justify-between mb-4 mt-2",children:[o.jsx("span",{className:"text-xl font-extrabold text-[#232323] tracking-tight",children:"Chat History"}),o.jsx(ac,{className:" outline-none h-5 w-5 text-[#232323] cursor-pointer",onClick:()=>E(!b)})]}),b&&o.jsx("div",{className:"mb-4",children:o.jsx("input",{type:"text",value:g,onChange:T=>y(T.target.value),placeholder:"Search chats...",className:"outline-none w-full rounded-xl px-3 py-2 bg-[#F5F3EF] border border-[#ECECEC] text-[#232323] text-sm focus:outline-none placeholder:text-[#A1A1AA]",style:{fontSize:"0.98rem",borderRadius:"12px"},autoFocus:!0})}),o.jsxs("div",{className:"space-y-1",children:[N&&o.jsx("p",{className:"text-destructive text-sm",children:N}),P.length===0&&!N?o.jsx("p",{className:"text-muted-foreground text-sm ml-1",children:"No chats yet."}):P.map(T=>o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"text-xs text-muted-foreground mb-1 uppercase tracking-wider",children:T.label}),o.jsx("ul",{className:"space-y-1",children:T.chats.map(G=>o.jsxs("li",{className:`group flex items-center p-2 rounded-lg transition-colors cursor-pointer ${t===G.id?"bg-[#ECE9E2] text-[#4B2A06] font-bold":"hover:bg-[#ECE9E2]/60 text-foreground"}`,onClick:()=>r&&r(G),children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-sm font-medium truncate",children:G.title==="New Chat"&&G.messages.length>1?G.messages[1].content.slice(0,30)+"...":G.title}),o.jsxs("div",{className:"text-xs text-muted-foreground truncate",children:[G.docName," - ",F(G.updatedAt)]})]}),o.jsx("button",{className:"ml-2 text-xs text-muted-foreground hover:text-destructive opacity-0 group-hover:opacity-100 transition-opacity",onClick:ne=>{ne.stopPropagation(),L(G.id)},title:"Delete chat",children:""})]},G.id))})]},T.label))]})]})]}),o.jsx(V3,{open:!!S,onOpenChange:()=>_(null),children:o.jsxs(E1,{children:[o.jsxs(N1,{children:[o.jsx(S1,{children:"Delete Document"}),o.jsxs(k1,{children:['Are you sure you want to delete "',S==null?void 0:S.name,'"? This action cannot be undone and will delete all associated chats.']})]}),o.jsxs(T1,{children:[o.jsx(A1,{children:"Cancel"}),o.jsx(C1,{onClick:K,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})}),o.jsx(h1,{resourceType:"document",resourceId:H,open:!!H,onOpenChange:T=>!T&&V(null)})]})};var r0="rovingFocusGroup.onEntryFocus",fX={bubbles:!1,cancelable:!0},Yd="RovingFocusGroup",[Gx,G3,hX]=Dm(Yd),[mX,K3]=os(Yd,[hX]),[pX,gX]=mX(Yd),Q3=h.forwardRef((e,t)=>o.jsx(Gx.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Gx.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(xX,{...e,ref:t})})}));Q3.displayName=Yd;var xX=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=h.useRef(null),p=st(t,m),g=bp(a),[y,w]=Fo({prop:i,defaultProp:l??null,onChange:c,caller:Yd}),[v,b]=h.useState(!1),E=rn(u),N=G3(n),C=h.useRef(!1),[S,_]=h.useState(0);return h.useEffect(()=>{const H=m.current;if(H)return H.addEventListener(r0,E),()=>H.removeEventListener(r0,E)},[E]),o.jsx(pX,{scope:n,orientation:r,dir:g,loop:s,currentTabStopId:y,onItemFocus:h.useCallback(H=>w(H),[w]),onItemShiftTab:h.useCallback(()=>b(!0),[]),onFocusableItemAdd:h.useCallback(()=>_(H=>H+1),[]),onFocusableItemRemove:h.useCallback(()=>_(H=>H-1),[]),children:o.jsx(Ue.div,{tabIndex:v||S===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:ke(e.onMouseDown,()=>{C.current=!0}),onFocus:ke(e.onFocus,H=>{const V=!C.current;if(H.target===H.currentTarget&&V&&!v){const k=new CustomEvent(r0,fX);if(H.currentTarget.dispatchEvent(k),!k.defaultPrevented){const $=N().filter(M=>M.focusable),I=$.find(M=>M.active),Y=$.find(M=>M.id===y),L=[I,Y,...$].filter(Boolean).map(M=>M.ref.current);J3(L,d)}}C.current=!1}),onBlur:ke(e.onBlur,()=>b(!1))})})}),X3="RovingFocusGroupItem",Z3=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,children:i,...l}=e,c=Bs(),u=a||c,d=gX(X3,n),f=d.currentTabStopId===u,m=G3(n),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:y}=d;return h.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),o.jsx(Gx.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:o.jsx(Ue.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:ke(e.onMouseDown,w=>{r?d.onItemFocus(u):w.preventDefault()}),onFocus:ke(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ke(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const v=vX(w,d.orientation,d.dir);if(v!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let E=m().filter(N=>N.focusable).map(N=>N.ref.current);if(v==="last")E.reverse();else if(v==="prev"||v==="next"){v==="prev"&&E.reverse();const N=E.indexOf(w.currentTarget);E=d.loop?wX(E,N+1):E.slice(N+1)}setTimeout(()=>J3(E))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:y!=null}):i})})});Z3.displayName=X3;var yX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function bX(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function vX(e,t,n){const r=bX(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return yX[r]}function J3(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function wX(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var EX=Q3,NX=Z3,Kx=["Enter"," "],TX=["ArrowDown","PageUp","Home"],ej=["ArrowUp","PageDown","End"],SX=[...TX,...ej],kX={ltr:[...Kx,"ArrowRight"],rtl:[...Kx,"ArrowLeft"]},CX={ltr:["ArrowLeft"],rtl:["ArrowRight"]},qd="Menu",[gd,AX,_X]=Dm(qd),[Xi,tj]=os(qd,[_X,Xo,K3]),Ap=Xo(),nj=K3(),[jX,Zi]=Xi(qd),[IX,Gd]=Xi(qd),rj=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:a,modal:i=!0}=e,l=Ap(t),[c,u]=h.useState(null),d=h.useRef(!1),f=rn(a),m=bp(s);return h.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),o.jsx(Wm,{...l,children:o.jsx(jX,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(IX,{scope:t,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:i,children:r})})})};rj.displayName=qd;var RX="MenuAnchor",_1=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Ap(n);return o.jsx(Id,{...s,...r,ref:t})});_1.displayName=RX;var j1="MenuPortal",[PX,sj]=Xi(j1,{forceMount:void 0}),aj=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,a=Zi(j1,t);return o.jsx(PX,{scope:t,forceMount:n,children:o.jsx(rr,{present:n||a.open,children:o.jsx(Tc,{asChild:!0,container:s,children:r})})})};aj.displayName=j1;var ys="MenuContent",[DX,I1]=Xi(ys),oj=h.forwardRef((e,t)=>{const n=sj(ys,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=Zi(ys,e.__scopeMenu),i=Gd(ys,e.__scopeMenu);return o.jsx(gd.Provider,{scope:e.__scopeMenu,children:o.jsx(rr,{present:r||a.open,children:o.jsx(gd.Slot,{scope:e.__scopeMenu,children:i.modal?o.jsx(OX,{...s,ref:t}):o.jsx(LX,{...s,ref:t})})})})}),OX=h.forwardRef((e,t)=>{const n=Zi(ys,e.__scopeMenu),r=h.useRef(null),s=st(t,r);return h.useEffect(()=>{const a=r.current;if(a)return Np(a)},[]),o.jsx(R1,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ke(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),LX=h.forwardRef((e,t)=>{const n=Zi(ys,e.__scopeMenu);return o.jsx(R1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),MX=Mo("MenuContent.ScrollLock"),R1=h.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:p,disableOutsideScroll:g,...y}=e,w=Zi(ys,n),v=Gd(ys,n),b=Ap(n),E=nj(n),N=AX(n),[C,S]=h.useState(null),_=h.useRef(null),H=st(t,_,w.onContentChange),V=h.useRef(0),k=h.useRef(""),$=h.useRef(0),I=h.useRef(null),Y=h.useRef("right"),P=h.useRef(0),L=g?Wd:h.Fragment,M=g?{as:MX,allowPinchZoom:!0}:void 0,K=D=>{var J,ce;const T=k.current+D,G=N().filter(xe=>!xe.disabled),ne=document.activeElement,A=(J=G.find(xe=>xe.ref.current===ne))==null?void 0:J.textValue,W=G.map(xe=>xe.textValue),z=KX(W,T,A),ae=(ce=G.find(xe=>xe.textValue===z))==null?void 0:ce.ref.current;(function xe(re){k.current=re,window.clearTimeout(V.current),re!==""&&(V.current=window.setTimeout(()=>xe(""),1e3))})(T),ae&&setTimeout(()=>ae.focus())};h.useEffect(()=>()=>window.clearTimeout(V.current),[]),Ep();const F=h.useCallback(D=>{var G,ne;return Y.current===((G=I.current)==null?void 0:G.side)&&XX(D,(ne=I.current)==null?void 0:ne.area)},[]);return o.jsx(DX,{scope:n,searchRef:k,onItemEnter:h.useCallback(D=>{F(D)&&D.preventDefault()},[F]),onItemLeave:h.useCallback(D=>{var T;F(D)||((T=_.current)==null||T.focus(),S(null))},[F]),onTriggerLeave:h.useCallback(D=>{F(D)&&D.preventDefault()},[F]),pointerGraceTimerRef:$,onPointerGraceIntentChange:h.useCallback(D=>{I.current=D},[]),children:o.jsx(L,{...M,children:o.jsx(zd,{asChild:!0,trapped:s,onMountAutoFocus:ke(a,D=>{var T;D.preventDefault(),(T=_.current)==null||T.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx(Gi,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:p,children:o.jsx(EX,{asChild:!0,...E,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:C,onCurrentTabStopIdChange:S,onEntryFocus:ke(c,D=>{v.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Vm,{role:"menu","aria-orientation":"vertical","data-state":Ej(w.open),"data-radix-menu-content":"",dir:v.dir,...b,...y,ref:H,style:{outline:"none",...y.style},onKeyDown:ke(y.onKeyDown,D=>{const G=D.target.closest("[data-radix-menu-content]")===D.currentTarget,ne=D.ctrlKey||D.altKey||D.metaKey,A=D.key.length===1;G&&(D.key==="Tab"&&D.preventDefault(),!ne&&A&&K(D.key));const W=_.current;if(D.target!==W||!SX.includes(D.key))return;D.preventDefault();const ae=N().filter(J=>!J.disabled).map(J=>J.ref.current);ej.includes(D.key)&&ae.reverse(),qX(ae)}),onBlur:ke(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(V.current),k.current="")}),onPointerMove:ke(e.onPointerMove,xd(D=>{const T=D.target,G=P.current!==D.clientX;if(D.currentTarget.contains(T)&&G){const ne=D.clientX>P.current?"right":"left";Y.current=ne,P.current=D.clientX}}))})})})})})})});oj.displayName=ys;var FX="MenuGroup",P1=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(Ue.div,{role:"group",...r,ref:t})});P1.displayName=FX;var BX="MenuLabel",ij=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(Ue.div,{...r,ref:t})});ij.displayName=BX;var sm="MenuItem",rN="menu.itemSelect",_p=h.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,a=h.useRef(null),i=Gd(sm,e.__scopeMenu),l=I1(sm,e.__scopeMenu),c=st(t,a),u=h.useRef(!1),d=()=>{const f=a.current;if(!n&&f){const m=new CustomEvent(rN,{bubbles:!0,cancelable:!0});f.addEventListener(rN,p=>r==null?void 0:r(p),{once:!0}),ob(f,m),m.defaultPrevented?u.current=!1:i.onClose()}};return o.jsx(lj,{...s,ref:c,disabled:n,onClick:ke(e.onClick,d),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:ke(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:ke(e.onKeyDown,f=>{const m=l.searchRef.current!=="";n||m&&f.key===" "||Kx.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});_p.displayName=sm;var lj=h.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...a}=e,i=I1(sm,n),l=nj(n),c=h.useRef(null),u=st(t,c),[d,f]=h.useState(!1),[m,p]=h.useState("");return h.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[a.children]),o.jsx(gd.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:o.jsx(NX,{asChild:!0,...l,focusable:!r,children:o.jsx(Ue.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:u,onPointerMove:ke(e.onPointerMove,xd(g=>{r?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ke(e.onPointerLeave,xd(g=>i.onItemLeave(g))),onFocus:ke(e.onFocus,()=>f(!0)),onBlur:ke(e.onBlur,()=>f(!1))})})})}),UX="MenuCheckboxItem",cj=h.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return o.jsx(mj,{scope:e.__scopeMenu,checked:n,children:o.jsx(_p,{role:"menuitemcheckbox","aria-checked":am(n)?"mixed":n,...s,ref:t,"data-state":O1(n),onSelect:ke(s.onSelect,()=>r==null?void 0:r(am(n)?!0:!n),{checkForDefaultPrevented:!1})})})});cj.displayName=UX;var uj="MenuRadioGroup",[HX,$X]=Xi(uj,{value:void 0,onValueChange:()=>{}}),dj=h.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,a=rn(r);return o.jsx(HX,{scope:e.__scopeMenu,value:n,onValueChange:a,children:o.jsx(P1,{...s,ref:t})})});dj.displayName=uj;var fj="MenuRadioItem",hj=h.forwardRef((e,t)=>{const{value:n,...r}=e,s=$X(fj,e.__scopeMenu),a=n===s.value;return o.jsx(mj,{scope:e.__scopeMenu,checked:a,children:o.jsx(_p,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":O1(a),onSelect:ke(r.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,n)},{checkForDefaultPrevented:!1})})})});hj.displayName=fj;var D1="MenuItemIndicator",[mj,zX]=Xi(D1,{checked:!1}),pj=h.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,a=zX(D1,n);return o.jsx(rr,{present:r||am(a.checked)||a.checked===!0,children:o.jsx(Ue.span,{...s,ref:t,"data-state":O1(a.checked)})})});pj.displayName=D1;var WX="MenuSeparator",gj=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(Ue.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});gj.displayName=WX;var VX="MenuArrow",xj=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Ap(n);return o.jsx(Ym,{...s,...r,ref:t})});xj.displayName=VX;var YX="MenuSub",[ine,yj]=Xi(YX),pu="MenuSubTrigger",bj=h.forwardRef((e,t)=>{const n=Zi(pu,e.__scopeMenu),r=Gd(pu,e.__scopeMenu),s=yj(pu,e.__scopeMenu),a=I1(pu,e.__scopeMenu),i=h.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=h.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return h.useEffect(()=>d,[d]),h.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(_1,{asChild:!0,...u,children:o.jsx(lj,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":Ej(n.open),...e,ref:Pm(t,s.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ke(e.onPointerMove,xd(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ke(e.onPointerLeave,xd(f=>{var p,g;d();const m=(p=n.content)==null?void 0:p.getBoundingClientRect();if(m){const y=(g=n.content)==null?void 0:g.dataset.side,w=y==="right",v=w?-5:5,b=m[w?"left":"right"],E=m[w?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x:b,y:m.top},{x:E,y:m.top},{x:E,y:m.bottom},{x:b,y:m.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:ke(e.onKeyDown,f=>{var p;const m=a.searchRef.current!=="";e.disabled||m&&f.key===" "||kX[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});bj.displayName=pu;var vj="MenuSubContent",wj=h.forwardRef((e,t)=>{const n=sj(ys,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=Zi(ys,e.__scopeMenu),i=Gd(ys,e.__scopeMenu),l=yj(vj,e.__scopeMenu),c=h.useRef(null),u=st(t,c);return o.jsx(gd.Provider,{scope:e.__scopeMenu,children:o.jsx(rr,{present:r||a.open,children:o.jsx(gd.Slot,{scope:e.__scopeMenu,children:o.jsx(R1,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ke(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:ke(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:ke(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),m=CX[i.dir].includes(d.key);f&&m&&(a.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});wj.displayName=vj;function Ej(e){return e?"open":"closed"}function am(e){return e==="indeterminate"}function O1(e){return am(e)?"indeterminate":e?"checked":"unchecked"}function qX(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function GX(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function KX(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let i=GX(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function QX(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a],c=t[i],u=l.x,d=l.y,f=c.x,m=c.y;d>r!=m>r&&n<(f-u)*(r-d)/(m-d)+u&&(s=!s)}return s}function XX(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return QX(n,t)}function xd(e){return t=>t.pointerType==="mouse"?e(t):void 0}var ZX=rj,JX=_1,eZ=aj,tZ=oj,nZ=P1,rZ=ij,sZ=_p,aZ=cj,oZ=dj,iZ=hj,lZ=pj,cZ=gj,uZ=xj,dZ=bj,fZ=wj,jp="DropdownMenu",[hZ]=os(jp,[tj]),Tr=tj(),[mZ,Nj]=hZ(jp),Tj=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,c=Tr(t),u=h.useRef(null),[d,f]=Fo({prop:s,defaultProp:a??!1,onChange:i,caller:jp});return o.jsx(mZ,{scope:t,triggerId:Bs(),triggerRef:u,contentId:Bs(),open:d,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(m=>!m),[f]),modal:l,children:o.jsx(ZX,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};Tj.displayName=jp;var Sj="DropdownMenuTrigger",kj=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,a=Nj(Sj,n),i=Tr(n);return o.jsx(JX,{asChild:!0,...i,children:o.jsx(Ue.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Pm(t,a.triggerRef),onPointerDown:ke(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:ke(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});kj.displayName=Sj;var pZ="DropdownMenuPortal",Cj=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Tr(t);return o.jsx(eZ,{...r,...n})};Cj.displayName=pZ;var Aj="DropdownMenuContent",_j=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Nj(Aj,n),a=Tr(n),i=h.useRef(!1);return o.jsx(tZ,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...r,ref:t,onCloseAutoFocus:ke(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:ke(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_j.displayName=Aj;var gZ="DropdownMenuGroup",xZ=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return o.jsx(nZ,{...s,...r,ref:t})});xZ.displayName=gZ;var yZ="DropdownMenuLabel",jj=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return o.jsx(rZ,{...s,...r,ref:t})});jj.displayName=yZ;var bZ="DropdownMenuItem",Ij=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return o.jsx(sZ,{...s,...r,ref:t})});Ij.displayName=bZ;var vZ="DropdownMenuCheckboxItem",Rj=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return o.jsx(aZ,{...s,...r,ref:t})});Rj.displayName=vZ;var wZ="DropdownMenuRadioGroup",EZ=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return o.jsx(oZ,{...s,...r,ref:t})});EZ.displayName=wZ;var NZ="DropdownMenuRadioItem",Pj=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return o.jsx(iZ,{...s,...r,ref:t})});Pj.displayName=NZ;var TZ="DropdownMenuItemIndicator",Dj=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return o.jsx(lZ,{...s,...r,ref:t})});Dj.displayName=TZ;var SZ="DropdownMenuSeparator",Oj=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return o.jsx(cZ,{...s,...r,ref:t})});Oj.displayName=SZ;var kZ="DropdownMenuArrow",CZ=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return o.jsx(uZ,{...s,...r,ref:t})});CZ.displayName=kZ;var AZ="DropdownMenuSubTrigger",Lj=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return o.jsx(dZ,{...s,...r,ref:t})});Lj.displayName=AZ;var _Z="DropdownMenuSubContent",Mj=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return o.jsx(fZ,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Mj.displayName=_Z;var jZ=Tj,IZ=kj,RZ=Cj,Fj=_j,Bj=jj,Uj=Ij,Hj=Rj,$j=Pj,zj=Dj,L1=Oj,Wj=Lj,Vj=Mj;const Po=jZ,ji=IZ,PZ=h.forwardRef(({className:e,inset:t,children:n,...r},s)=>o.jsxs(Wj,{ref:s,className:Oe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,o.jsx(Mh,{className:"ml-auto h-4 w-4"})]}));PZ.displayName=Wj.displayName;const DZ=h.forwardRef(({className:e,...t},n)=>o.jsx(Vj,{ref:n,className:Oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));DZ.displayName=Vj.displayName;const La=h.forwardRef(({className:e,sideOffset:t=4,...n},r)=>o.jsx(RZ,{children:o.jsx(Fj,{ref:r,sideOffset:t,className:Oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));La.displayName=Fj.displayName;const jt=h.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(Uj,{ref:r,className:Oe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));jt.displayName=Uj.displayName;const OZ=h.forwardRef(({className:e,children:t,checked:n,...r},s)=>o.jsxs(Hj,{ref:s,className:Oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(zj,{children:o.jsx(Oa,{className:"h-4 w-4"})})}),t]}));OZ.displayName=Hj.displayName;const LZ=h.forwardRef(({className:e,children:t,...n},r)=>o.jsxs($j,{ref:r,className:Oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(zj,{children:o.jsx(BD,{className:"h-2 w-2 fill-current"})})}),t]}));LZ.displayName=$j.displayName;const Yj=h.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(Bj,{ref:r,className:Oe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));Yj.displayName=Bj.displayName;const MZ=h.forwardRef(({className:e,...t},n)=>o.jsx(L1,{ref:n,className:Oe("-mx-1 my-1 h-px bg-muted",e),...t}));MZ.displayName=L1.displayName;var qj={exports:{}},Gj={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pc=h;function FZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var BZ=typeof Object.is=="function"?Object.is:FZ,UZ=pc.useState,HZ=pc.useEffect,$Z=pc.useLayoutEffect,zZ=pc.useDebugValue;function WZ(e,t){var n=t(),r=UZ({inst:{value:n,getSnapshot:t}}),s=r[0].inst,a=r[1];return $Z(function(){s.value=n,s.getSnapshot=t,s0(s)&&a({inst:s})},[e,n,t]),HZ(function(){return s0(s)&&a({inst:s}),e(function(){s0(s)&&a({inst:s})})},[e]),zZ(n),n}function s0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!BZ(e,n)}catch{return!0}}function VZ(e,t){return t()}var YZ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?VZ:WZ;Gj.useSyncExternalStore=pc.useSyncExternalStore!==void 0?pc.useSyncExternalStore:YZ;qj.exports=Gj;var qZ=qj.exports;function GZ(){return qZ.useSyncExternalStore(KZ,()=>!0,()=>!1)}function KZ(){return()=>{}}var M1="Avatar",[QZ]=os(M1),[XZ,Kj]=QZ(M1),Qj=h.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,a]=h.useState("idle");return o.jsx(XZ,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:o.jsx(Ue.span,{...r,ref:t})})});Qj.displayName=M1;var Xj="AvatarImage",Zj=h.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...a}=e,i=Kj(Xj,n),l=ZZ(r,a),c=rn(u=>{s(u),i.onImageLoadingStatusChange(u)});return hn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(Ue.img,{...a,ref:t,src:r}):null});Zj.displayName=Xj;var Jj="AvatarFallback",eI=h.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,a=Kj(Jj,n),[i,l]=h.useState(r===void 0);return h.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&a.imageLoadingStatus!=="loaded"?o.jsx(Ue.span,{...s,ref:t}):null});eI.displayName=Jj;function sN(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function ZZ(e,{referrerPolicy:t,crossOrigin:n}){const r=GZ(),s=h.useRef(null),a=r?(s.current||(s.current=new window.Image),s.current):null,[i,l]=h.useState(()=>sN(a,e));return hn(()=>{l(sN(a,e))},[a,e]),hn(()=>{const c=f=>()=>{l(f)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,n,t]),i}var tI=Qj,nI=Zj,rI=eI;const F1=h.forwardRef(({className:e,...t},n)=>o.jsx(tI,{ref:n,className:Oe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));F1.displayName=tI.displayName;const JZ=h.forwardRef(({className:e,...t},n)=>o.jsx(nI,{ref:n,className:Oe("aspect-square h-full w-full",e),...t}));JZ.displayName=nI.displayName;const B1=h.forwardRef(({className:e,...t},n)=>o.jsx(rI,{ref:n,className:Oe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));B1.displayName=rI.displayName;const eJ=({open:e,onClose:t})=>e?o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 border border-border w-full max-w-2xl relative",children:[o.jsx("button",{className:"absolute top-2 right-2 text-xl font-bold text-gray-500 hover:text-gray-800",onClick:t,"aria-label":"Close settings",children:""}),o.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Settings"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-foreground font-medium mb-1",children:"Theme"}),o.jsxs("select",{className:"w-full p-2 rounded bg-muted text-muted-foreground border border-border",children:[o.jsx("option",{children:"Dark"}),o.jsx("option",{children:"Light"}),o.jsx("option",{children:"System"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-foreground font-medium mb-1",children:"Notifications"}),o.jsx("input",{type:"checkbox",className:"mr-2",checked:!0,readOnly:!0}),o.jsx("span",{className:"text-muted-foreground",children:"Enable notifications (dummy)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-foreground font-medium mb-1",children:"Account"}),o.jsx("button",{className:"px-4 py-2 rounded bg-primary text-primary-foreground hover:opacity-90 transition",children:"Manage Account (dummy)"})]})]})]})}):null;var tJ="Label",sI=h.forwardRef((e,t)=>o.jsx(Ue.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));sI.displayName=tJ;var aI=sI;const nJ=Mm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Gr=h.forwardRef(({className:e,...t},n)=>o.jsx(aI,{ref:n,className:Oe(nJ(),e),...t}));Gr.displayName=aI.displayName;const U1=h.forwardRef(({className:e,...t},n)=>o.jsx("textarea",{className:Oe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-0 focus-visible:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));U1.displayName="Textarea";function rJ(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var sJ=[" ","Enter","ArrowUp","ArrowDown"],aJ=[" ","Enter"],$i="Select",[Ip,Rp,oJ]=Dm($i),[Bc]=os($i,[oJ,Xo]),Pp=Xo(),[iJ,ni]=Bc($i),[lJ,cJ]=Bc($i),oI=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:p,form:g}=e,y=Pp(t),[w,v]=h.useState(null),[b,E]=h.useState(null),[N,C]=h.useState(!1),S=bp(u),[_,H]=Fo({prop:r,defaultProp:s??!1,onChange:a,caller:$i}),[V,k]=Fo({prop:i,defaultProp:l,onChange:c,caller:$i}),$=h.useRef(null),I=w?g||!!w.closest("form"):!0,[Y,P]=h.useState(new Set),L=Array.from(Y).map(M=>M.props.value).join(";");return o.jsx(Wm,{...y,children:o.jsxs(iJ,{required:p,scope:t,trigger:w,onTriggerChange:v,valueNode:b,onValueNodeChange:E,valueNodeHasChildren:N,onValueNodeHasChildrenChange:C,contentId:Bs(),value:V,onValueChange:k,open:_,onOpenChange:H,dir:S,triggerPointerDownPosRef:$,disabled:m,children:[o.jsx(Ip.Provider,{scope:t,children:o.jsx(lJ,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(M=>{P(K=>new Set(K).add(M))},[]),onNativeOptionRemove:h.useCallback(M=>{P(K=>{const F=new Set(K);return F.delete(M),F})},[]),children:n})}),I?o.jsxs(jI,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:V,onChange:M=>k(M.target.value),disabled:m,form:g,children:[V===void 0?o.jsx("option",{value:""}):null,Array.from(Y)]},L):null]})})};oI.displayName=$i;var iI="SelectTrigger",lI=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,a=Pp(n),i=ni(iI,n),l=i.disabled||r,c=st(t,i.onTriggerChange),u=Rp(n),d=h.useRef("touch"),[f,m,p]=RI(y=>{const w=u().filter(E=>!E.disabled),v=w.find(E=>E.value===i.value),b=PI(w,y,v);b!==void 0&&i.onValueChange(b.value)}),g=y=>{l||(i.onOpenChange(!0),p()),y&&(i.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return o.jsx(Id,{asChild:!0,...a,children:o.jsx(Ue.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":II(i.value)?"":void 0,...s,ref:c,onClick:ke(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&g(y)}),onPointerDown:ke(s.onPointerDown,y=>{d.current=y.pointerType;const w=y.target;w.hasPointerCapture(y.pointerId)&&w.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(g(y),y.preventDefault())}),onKeyDown:ke(s.onKeyDown,y=>{const w=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(w&&y.key===" ")&&sJ.includes(y.key)&&(g(),y.preventDefault())})})})});lI.displayName=iI;var cI="SelectValue",uI=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:i="",...l}=e,c=ni(cI,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=st(t,c.onValueNodeChange);return hn(()=>{u(d)},[u,d]),o.jsx(Ue.span,{...l,ref:f,style:{pointerEvents:"none"},children:II(c.value)?o.jsx(o.Fragment,{children:i}):a})});uI.displayName=cI;var uJ="SelectIcon",dI=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return o.jsx(Ue.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});dI.displayName=uJ;var dJ="SelectPortal",fI=e=>o.jsx(Tc,{asChild:!0,...e});fI.displayName=dJ;var zi="SelectContent",hI=h.forwardRef((e,t)=>{const n=ni(zi,e.__scopeSelect),[r,s]=h.useState();if(hn(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?qi.createPortal(o.jsx(mI,{scope:e.__scopeSelect,children:o.jsx(Ip.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(pI,{...e,ref:t})});hI.displayName=zi;var ks=10,[mI,ri]=Bc(zi),fJ="SelectContentImpl",hJ=Mo("SelectContent.RemoveScroll"),pI=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:g,hideWhenDetached:y,avoidCollisions:w,...v}=e,b=ni(zi,n),[E,N]=h.useState(null),[C,S]=h.useState(null),_=st(t,J=>N(J)),[H,V]=h.useState(null),[k,$]=h.useState(null),I=Rp(n),[Y,P]=h.useState(!1),L=h.useRef(!1);h.useEffect(()=>{if(E)return Np(E)},[E]),Ep();const M=h.useCallback(J=>{const[ce,...xe]=I().map(Ie=>Ie.ref.current),[re]=xe.slice(-1),_e=document.activeElement;for(const Ie of J)if(Ie===_e||(Ie==null||Ie.scrollIntoView({block:"nearest"}),Ie===ce&&C&&(C.scrollTop=0),Ie===re&&C&&(C.scrollTop=C.scrollHeight),Ie==null||Ie.focus(),document.activeElement!==_e))return},[I,C]),K=h.useCallback(()=>M([H,E]),[M,H,E]);h.useEffect(()=>{Y&&K()},[Y,K]);const{onOpenChange:F,triggerPointerDownPosRef:D}=b;h.useEffect(()=>{if(E){let J={x:0,y:0};const ce=re=>{var _e,Ie;J={x:Math.abs(Math.round(re.pageX)-(((_e=D.current)==null?void 0:_e.x)??0)),y:Math.abs(Math.round(re.pageY)-(((Ie=D.current)==null?void 0:Ie.y)??0))}},xe=re=>{J.x<=10&&J.y<=10?re.preventDefault():E.contains(re.target)||F(!1),document.removeEventListener("pointermove",ce),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",xe,{capture:!0})}}},[E,F,D]),h.useEffect(()=>{const J=()=>F(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[F]);const[T,G]=RI(J=>{const ce=I().filter(_e=>!_e.disabled),xe=ce.find(_e=>_e.ref.current===document.activeElement),re=PI(ce,J,xe);re&&setTimeout(()=>re.ref.current.focus())}),ne=h.useCallback((J,ce,xe)=>{const re=!L.current&&!xe;(b.value!==void 0&&b.value===ce||re)&&(V(J),re&&(L.current=!0))},[b.value]),A=h.useCallback(()=>E==null?void 0:E.focus(),[E]),W=h.useCallback((J,ce,xe)=>{const re=!L.current&&!xe;(b.value!==void 0&&b.value===ce||re)&&$(J)},[b.value]),z=r==="popper"?Qx:gI,ae=z===Qx?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:g,hideWhenDetached:y,avoidCollisions:w}:{};return o.jsx(mI,{scope:n,content:E,viewport:C,onViewportChange:S,itemRefCallback:ne,selectedItem:H,onItemLeave:A,itemTextRefCallback:W,focusSelectedItem:K,selectedItemText:k,position:r,isPositioned:Y,searchRef:T,children:o.jsx(Wd,{as:hJ,allowPinchZoom:!0,children:o.jsx(zd,{asChild:!0,trapped:b.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:ke(s,J=>{var ce;(ce=b.trigger)==null||ce.focus({preventScroll:!0}),J.preventDefault()}),children:o.jsx(Gi,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:o.jsx(z,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:J=>J.preventDefault(),...v,...ae,onPlaced:()=>P(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:ke(v.onKeyDown,J=>{const ce=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!ce&&J.key.length===1&&G(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let re=I().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);if(["ArrowUp","End"].includes(J.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const _e=J.target,Ie=re.indexOf(_e);re=re.slice(Ie+1)}setTimeout(()=>M(re)),J.preventDefault()}})})})})})})});pI.displayName=fJ;var mJ="SelectItemAlignedPosition",gI=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,a=ni(zi,n),i=ri(zi,n),[l,c]=h.useState(null),[u,d]=h.useState(null),f=st(t,_=>d(_)),m=Rp(n),p=h.useRef(!1),g=h.useRef(!0),{viewport:y,selectedItem:w,selectedItemText:v,focusSelectedItem:b}=i,E=h.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&y&&w&&v){const _=a.trigger.getBoundingClientRect(),H=u.getBoundingClientRect(),V=a.valueNode.getBoundingClientRect(),k=v.getBoundingClientRect();if(a.dir!=="rtl"){const _e=k.left-H.left,Ie=V.left-_e,Xe=_.left-Ie,tt=_.width+Xe,Ut=Math.max(tt,H.width),ye=window.innerWidth-ks,Ce=Yx(Ie,[ks,Math.max(ks,ye-Ut)]);l.style.minWidth=tt+"px",l.style.left=Ce+"px"}else{const _e=H.right-k.right,Ie=window.innerWidth-V.right-_e,Xe=window.innerWidth-_.right-Ie,tt=_.width+Xe,Ut=Math.max(tt,H.width),ye=window.innerWidth-ks,Ce=Yx(Ie,[ks,Math.max(ks,ye-Ut)]);l.style.minWidth=tt+"px",l.style.right=Ce+"px"}const $=m(),I=window.innerHeight-ks*2,Y=y.scrollHeight,P=window.getComputedStyle(u),L=parseInt(P.borderTopWidth,10),M=parseInt(P.paddingTop,10),K=parseInt(P.borderBottomWidth,10),F=parseInt(P.paddingBottom,10),D=L+M+Y+F+K,T=Math.min(w.offsetHeight*5,D),G=window.getComputedStyle(y),ne=parseInt(G.paddingTop,10),A=parseInt(G.paddingBottom,10),W=_.top+_.height/2-ks,z=I-W,ae=w.offsetHeight/2,J=w.offsetTop+ae,ce=L+M+J,xe=D-ce;if(ce<=W){const _e=$.length>0&&w===$[$.length-1].ref.current;l.style.bottom="0px";const Ie=u.clientHeight-y.offsetTop-y.offsetHeight,Xe=Math.max(z,ae+(_e?A:0)+Ie+K),tt=ce+Xe;l.style.height=tt+"px"}else{const _e=$.length>0&&w===$[0].ref.current;l.style.top="0px";const Xe=Math.max(W,L+y.offsetTop+(_e?ne:0)+ae)+xe;l.style.height=Xe+"px",y.scrollTop=ce-W+y.offsetTop}l.style.margin=`${ks}px 0`,l.style.minHeight=T+"px",l.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[m,a.trigger,a.valueNode,l,u,y,w,v,a.dir,r]);hn(()=>E(),[E]);const[N,C]=h.useState();hn(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const S=h.useCallback(_=>{_&&g.current===!0&&(E(),b==null||b(),g.current=!1)},[E,b]);return o.jsx(gJ,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:o.jsx(Ue.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});gI.displayName=mJ;var pJ="SelectPopperPosition",Qx=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ks,...a}=e,i=Pp(n);return o.jsx(Vm,{...i,...a,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Qx.displayName=pJ;var[gJ,H1]=Bc(zi,{}),Xx="SelectViewport",xI=h.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,a=ri(Xx,n),i=H1(Xx,n),l=st(t,a.onViewportChange),c=h.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(Ip.Slot,{scope:n,children:o.jsx(Ue.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ke(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const g=window.innerHeight-ks*2,y=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),v=Math.max(y,w);if(v<g){const b=v+p,E=Math.min(g,b),N=b-E;f.style.height=E+"px",f.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});xI.displayName=Xx;var yI="SelectGroup",[xJ,yJ]=Bc(yI),bJ=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Bs();return o.jsx(xJ,{scope:n,id:s,children:o.jsx(Ue.div,{role:"group","aria-labelledby":s,...r,ref:t})})});bJ.displayName=yI;var bI="SelectLabel",vI=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=yJ(bI,n);return o.jsx(Ue.div,{id:s.id,...r,ref:t})});vI.displayName=bI;var om="SelectItem",[vJ,wI]=Bc(om),EI=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...i}=e,l=ni(om,n),c=ri(om,n),u=l.value===r,[d,f]=h.useState(a??""),[m,p]=h.useState(!1),g=st(t,b=>{var E;return(E=c.itemRefCallback)==null?void 0:E.call(c,b,r,s)}),y=Bs(),w=h.useRef("touch"),v=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(vJ,{scope:n,value:r,disabled:s,textId:y,isSelected:u,onItemTextChange:h.useCallback(b=>{f(E=>E||((b==null?void 0:b.textContent)??"").trim())},[]),children:o.jsx(Ip.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:o.jsx(Ue.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:g,onFocus:ke(i.onFocus,()=>p(!0)),onBlur:ke(i.onBlur,()=>p(!1)),onClick:ke(i.onClick,()=>{w.current!=="mouse"&&v()}),onPointerUp:ke(i.onPointerUp,()=>{w.current==="mouse"&&v()}),onPointerDown:ke(i.onPointerDown,b=>{w.current=b.pointerType}),onPointerMove:ke(i.onPointerMove,b=>{var E;w.current=b.pointerType,s?(E=c.onItemLeave)==null||E.call(c):w.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ke(i.onPointerLeave,b=>{var E;b.currentTarget===document.activeElement&&((E=c.onItemLeave)==null||E.call(c))}),onKeyDown:ke(i.onKeyDown,b=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&b.key===" "||(aJ.includes(b.key)&&v(),b.key===" "&&b.preventDefault())})})})})});EI.displayName=om;var gu="SelectItemText",NI=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...a}=e,i=ni(gu,n),l=ri(gu,n),c=wI(gu,n),u=cJ(gu,n),[d,f]=h.useState(null),m=st(t,v=>f(v),c.onItemTextChange,v=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,v,c.value,c.disabled)}),p=d==null?void 0:d.textContent,g=h.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:y,onNativeOptionRemove:w}=u;return hn(()=>(y(g),()=>w(g)),[y,w,g]),o.jsxs(o.Fragment,{children:[o.jsx(Ue.span,{id:c.textId,...a,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?qi.createPortal(a.children,i.valueNode):null]})});NI.displayName=gu;var TI="SelectItemIndicator",SI=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return wI(TI,n).isSelected?o.jsx(Ue.span,{"aria-hidden":!0,...r,ref:t}):null});SI.displayName=TI;var Zx="SelectScrollUpButton",kI=h.forwardRef((e,t)=>{const n=ri(Zx,e.__scopeSelect),r=H1(Zx,e.__scopeSelect),[s,a]=h.useState(!1),i=st(t,r.onScrollButtonChange);return hn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(AI,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});kI.displayName=Zx;var Jx="SelectScrollDownButton",CI=h.forwardRef((e,t)=>{const n=ri(Jx,e.__scopeSelect),r=H1(Jx,e.__scopeSelect),[s,a]=h.useState(!1),i=st(t,r.onScrollButtonChange);return hn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(AI,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});CI.displayName=Jx;var AI=h.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,a=ri("SelectScrollButton",n),i=h.useRef(null),l=Rp(n),c=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),hn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(Ue.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ke(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:ke(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:ke(s.onPointerLeave,()=>{c()})})}),wJ="SelectSeparator",_I=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o.jsx(Ue.div,{"aria-hidden":!0,...r,ref:t})});_I.displayName=wJ;var ey="SelectArrow",EJ=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Pp(n),a=ni(ey,n),i=ri(ey,n);return a.open&&i.position==="popper"?o.jsx(Ym,{...s,...r,ref:t}):null});EJ.displayName=ey;var NJ="SelectBubbleInput",jI=h.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=h.useRef(null),a=st(r,s),i=rJ(t);return h.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[i,t]),o.jsx(Ue.select,{...n,style:{...lk,...n.style},ref:a,defaultValue:t})});jI.displayName=NJ;function II(e){return e===""||e===void 0}function RI(e){const t=rn(e),n=h.useRef(""),r=h.useRef(0),s=h.useCallback(i=>{const l=n.current+i;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function PI(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let i=TJ(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function TJ(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var SJ=oI,DI=lI,kJ=uI,CJ=dI,AJ=fI,OI=hI,_J=xI,LI=vI,MI=EI,jJ=NI,IJ=SI,FI=kI,BI=CI,UI=_I;const xr=SJ,yr=kJ,Zn=h.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(DI,{ref:r,className:Oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-0 focus:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,o.jsx(CJ,{asChild:!0,children:o.jsx(sc,{className:"h-4 w-4 opacity-50"})})]}));Zn.displayName=DI.displayName;const HI=h.forwardRef(({className:e,...t},n)=>o.jsx(FI,{ref:n,className:Oe("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(FD,{className:"h-4 w-4"})}));HI.displayName=FI.displayName;const $I=h.forwardRef(({className:e,...t},n)=>o.jsx(BI,{ref:n,className:Oe("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(sc,{className:"h-4 w-4"})}));$I.displayName=BI.displayName;const Jn=h.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>o.jsx(AJ,{children:o.jsxs(OI,{ref:s,className:Oe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[o.jsx(HI,{}),o.jsx(_J,{className:Oe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx($I,{})]})}));Jn.displayName=OI.displayName;const RJ=h.forwardRef(({className:e,...t},n)=>o.jsx(LI,{ref:n,className:Oe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));RJ.displayName=LI.displayName;const $e=h.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(MI,{ref:r,className:Oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(IJ,{children:o.jsx(Oa,{className:"h-4 w-4"})})}),o.jsx(jJ,{children:t})]}));$e.displayName=MI.displayName;const PJ=h.forwardRef(({className:e,...t},n)=>o.jsx(UI,{ref:n,className:Oe("-mx-1 my-1 h-px bg-muted",e),...t}));PJ.displayName=UI.displayName;const er=N3,Dp=T3,DJ=S3,zI=h.forwardRef(({className:e,...t},n)=>o.jsx(x1,{ref:n,className:Oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));zI.displayName=x1.displayName;const Hn=h.forwardRef(({className:e,children:t,hideClose:n,...r},s)=>o.jsxs(DJ,{children:[o.jsx(zI,{}),o.jsxs(y1,{ref:s,className:Oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,!n&&o.jsxs(w1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(Bn,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Hn.displayName=y1.displayName;const vr=({className:e,...t})=>o.jsx("div",{className:Oe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});vr.displayName="DialogHeader";const gc=({className:e,...t})=>o.jsx("div",{className:Oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});gc.displayName="DialogFooter";const $n=h.forwardRef(({className:e,...t},n)=>o.jsx(b1,{ref:n,className:Oe("text-lg font-semibold leading-none tracking-tight",e),...t}));$n.displayName=b1.displayName;const Ji=h.forwardRef(({className:e,...t},n)=>o.jsx(v1,{ref:n,className:Oe("text-sm text-muted-foreground",e),...t}));Ji.displayName=v1.displayName;const mn="http://localhost:5000/api",Ct={async sendInvitation(e){const t=localStorage.getItem("accessToken");return(await te.post(`${mn}/workspace-invitations/send`,e,{headers:{Authorization:`Bearer ${t}`}})).data},async updateUserBuckets(e,t){const n=localStorage.getItem("accessToken");return(await te.post(`${mn}/workspace-invitations/workspace/update-user-buckets`,{userEmail:e,allowedTimeBuckets:t},{headers:{Authorization:`Bearer ${n}`}})).data},async revokeUserAccess(e){const t=localStorage.getItem("accessToken"),n=Ve();return(await te.post(`${mn}/workspace-invitations/workspace/revoke-user-access`,{invitationId:e},{headers:{Authorization:`Bearer ${t}`,...n&&{"x-workspace":n}}})).data},async getWorkspaceInvitations(){const e=localStorage.getItem("accessToken");return(await te.get(`${mn}/workspace-invitations/workspace`,{headers:{Authorization:`Bearer ${e}`}})).data},async getInvitationsByEmail(e){const t=localStorage.getItem("accessToken");return(await te.get(`${mn}/workspace-invitations/email/${e}`,{headers:{Authorization:`Bearer ${t}`}})).data},async acceptInvitation(e){const t=localStorage.getItem("accessToken");return(await te.post(`${mn}/workspace-invitations/${e}/accept`,{},{headers:{Authorization:`Bearer ${t}`}})).data},async declineInvitation(e){const t=localStorage.getItem("accessToken");return(await te.post(`${mn}/workspace-invitations/${e}/decline`,{},{headers:{Authorization:`Bearer ${t}`}})).data},async cancelInvitation(e){const t=localStorage.getItem("accessToken");return(await te.delete(`${mn}/workspace-invitations/${e}/cancel`,{headers:{Authorization:`Bearer ${t}`}})).data},async deleteInvitation(e){const t=localStorage.getItem("accessToken");return(await te.delete(`${mn}/workspace-invitations/${e}`,{headers:{Authorization:`Bearer ${t}`}})).data},async getUserWorkspaces(){const e=localStorage.getItem("accessToken");return(await te.get(`${mn}/workspace-invitations/user/workspaces`,{headers:{Authorization:`Bearer ${e}`}})).data},async switchWorkspace(e){const t=localStorage.getItem("accessToken");return(await te.post(`${mn}/workspace-invitations/user/switch-workspace`,{workspaceDomain:e},{headers:{Authorization:`Bearer ${t}`}})).data},async getInvitationDetails(e){return(await te.get(`${mn}/invitation/${e}`)).data},async updateWorkspaceName(e,t){const n=localStorage.getItem("accessToken");return(await te.post(`${mn}/workspace-invitations/user/update-workspace-name`,{workspaceDomain:e,workspaceName:t},{headers:{Authorization:`Bearer ${n}`}})).data},async grantDirectoryAccess(e,t,n){const r=localStorage.getItem("accessToken");return(await te.post(`${mn}/workspace-invitations/workspace/users/directories/grant`,{userEmail:e,directoryIds:t,role:n},{headers:{Authorization:`Bearer ${r}`}})).data},async revokeDirectoryAccess(e,t){const n=localStorage.getItem("accessToken");return(await te.post(`${mn}/workspace-invitations/workspace/users/directories/revoke`,{userEmail:e,directoryId:t},{headers:{Authorization:`Bearer ${n}`}})).data},async getUserDirectories(e){const t=localStorage.getItem("accessToken");return(await te.get(`${mn}/workspace-invitations/workspace/users/${encodeURIComponent(e)}/directories`,{headers:{Authorization:`Bearer ${t}`}})).data},async getWorkspaceMembers(){const e=localStorage.getItem("accessToken"),t=Ve();return(await te.get(`${mn}/workspace-invitations/workspace/members`,{headers:{Authorization:`Bearer ${e}`,...t&&{"x-workspace":t}}})).data},async updateMemberRole(e,t){const n=localStorage.getItem("accessToken"),r=Ve();return(await te.post(`${mn}/workspace-invitations/workspace/members/role`,{userId:e,role:t},{headers:{Authorization:`Bearer ${n}`,...r&&{"x-workspace":r}}})).data},async removeWorkspaceMember(e){const t=localStorage.getItem("accessToken"),n=Ve();return(await te.delete(`${mn}/workspace-invitations/workspace/members/${e}`,{headers:{Authorization:`Bearer ${t}`,...n&&{"x-workspace":n}}})).data},async getMemberPermissions(e){const t=localStorage.getItem("accessToken"),n=Ve();return(await te.get(`${mn}/workspace-invitations/workspace/members/${e}/permissions`,{headers:{Authorization:`Bearer ${t}`,...n&&{"x-workspace":n}}})).data}},OJ=Object.freeze(Object.defineProperty({__proto__:null,default:Ct,workspaceInvitationService:Ct},Symbol.toStringTag,{value:"Module"})),WI=()=>{const{user:e}=Nn(),[t,n]=h.useState([]),[r,s]=h.useState([]),[a,i]=h.useState(!1),[l,c]=h.useState(null),[u,d]=h.useState(!1),[f,m]=h.useState(""),[p,g]=h.useState("all"),[y,w]=h.useState(1),[v]=h.useState(5),[b,E]=h.useState([]),[N,C]=h.useState(!1),[S,_]=h.useState(""),[H,V]=h.useState(!1),[k,$]=h.useState({email:"",name:"",role:"user",message:"",allowedTimeBuckets:["all"],selectedDirectories:[],directoryRole:"viewer"});h.useEffect(()=>{(e==null?void 0:e.role)==="admin"&&(Y(),I())},[e]);const I=async()=>{try{C(!0),console.log("Loading directories...");const z=await Zr.listChildren("root",{pageSize:200,sort:"name",order:"asc"});console.log("Directories response:",z);const J=((z==null?void 0:z.items)||[]).filter(ce=>ce.kind==="directory").map(ce=>ce.item);E(J),console.log("Set directories:",J)}catch(z){console.error("Error loading directories:",z),O.error("Failed to load directories"),E([])}finally{C(!1)}};h.useEffect(()=>{let z=t;f&&(z=z.filter(ae=>ae.inviterEmail.toLowerCase().includes(f.toLowerCase())||ae.inviterName.toLowerCase().includes(f.toLowerCase()))),p!=="all"&&(z=z.filter(ae=>ae.status===p)),s(z),w(1)},[t,f,p]);const Y=async()=>{try{i(!0);const z=await Ct.getWorkspaceInvitations();n(z)}catch(z){console.error("Error loading invitations:",z),O.error("Failed to load invitations")}finally{i(!1)}},P=async()=>{var z,ae;if(!k.email||!k.name){O.error("Email and name are required");return}if(k.selectedDirectories.length===0){O.error("Please select at least one directory");return}try{c("send");const J=await Ct.sendInvitation({inviteeEmail:k.email,inviteeName:k.name,invitedRole:k.role,message:k.message,allowedTimeBuckets:["all"],grantedDirectories:k.selectedDirectories.map(ce=>({directoryId:ce.id,role:k.directoryRole}))});O.success(`Invitation sent with access to ${k.selectedDirectories.length} director${k.selectedDirectories.length>1?"ies":"y"}`),d(!1),$({email:"",name:"",role:"user",message:"",allowedTimeBuckets:["all"],selectedDirectories:[],directoryRole:"viewer"}),Y()}catch(J){const ce=((ae=(z=J.response)==null?void 0:z.data)==null?void 0:ae.message)||"Failed to send invitation";O.error(ce)}finally{c(null)}},L=async z=>{var ae,J;try{c(`cancel-${z}`),await Ct.cancelInvitation(z),O.success("Invitation cancelled"),Y()}catch(ce){const xe=((J=(ae=ce.response)==null?void 0:ae.data)==null?void 0:J.message)||"Failed to cancel invitation";O.error(xe)}finally{c(null)}},M=async z=>{var ae,J;if(confirm("Are you sure you want to delete this invitation?"))try{c(`delete-${z}`),await Ct.deleteInvitation(z),O.success("Invitation deleted"),Y(),window.location.reload()}catch(ce){const xe=((J=(ae=ce.response)==null?void 0:ae.data)==null?void 0:J.message)||"Failed to delete invitation";O.error(xe)}finally{c(null)}},K=z=>{switch(z){case"accepted":return o.jsx(Uo,{className:"h-4 w-4 text-green-500"});case"pending":return o.jsx(Fh,{className:"h-4 w-4 text-yellow-500"});case"declined":case"cancelled":case"expired":return o.jsx(Cl,{className:"h-4 w-4 text-red-500"});default:return o.jsx(Fh,{className:"h-4 w-4 text-gray-500"})}},F=z=>{switch(z){case"accepted":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"declined":case"cancelled":case"expired":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},D=z=>new Date(z).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),T=Math.ceil(r.length/v),G=(y-1)*v,ne=G+v,A=r.slice(G,ne),W=z=>{w(z)};return(e==null?void 0:e.role)!=="admin"?null:o.jsxs("div",{className:"w-full h-full flex flex-col bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"p-4 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center justify-between ",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center ",children:[o.jsx(Sc,{className:"h-5 w-5"}),"Workspace Invitations"]}),o.jsxs(er,{open:u,onOpenChange:d,children:[o.jsx(Dp,{asChild:!0,children:o.jsxs(Re,{size:"sm",className:"flex items-center gap-2 bg-[#4B2A06] text-white shadow-md hover:bg-[#4B2A06] transition",children:[o.jsx(Bm,{className:"h-4 w-4"}),"Send Invitation"]})}),o.jsxs(Hn,{className:"sm:max-w-md bg-gray-50 text-[#4B2A06]",hideClose:!0,children:[o.jsxs(vr,{children:[o.jsx($n,{children:"Send Workspace Invitation"}),o.jsx(Ji,{children:"Invite a user to join your workspace with specific directory access"})]}),o.jsxs("div",{className:"space-y-4 ",children:[o.jsxs("div",{children:[o.jsx(Gr,{htmlFor:"email",children:"Email *"}),o.jsx(xt,{id:"email",type:"email",placeholder:"user@example.com",value:k.email,className:"border-none focus:outline-none focus:ring-0 bg-white",onChange:z=>$({...k,email:z.target.value})})]}),o.jsxs("div",{children:[o.jsx(Gr,{htmlFor:"name",children:"Name *"}),o.jsx(xt,{id:"name",placeholder:"Full Name",value:k.name,className:"border-none focus:outline-none focus:ring-0 bg-white",onChange:z=>$({...k,name:z.target.value})})]}),o.jsxs("div",{children:[o.jsx(Gr,{htmlFor:"role",children:"Role"}),o.jsxs(xr,{value:k.role,onValueChange:z=>$({...k,role:z}),children:[o.jsx(Zn,{className:"border-none focus:outline-none focus:ring-0 bg-white",children:o.jsx(yr,{})}),o.jsxs(Jn,{className:"bg-white border border-gray-200",children:[o.jsx($e,{className:"bg-white hover:bg-gray-50 data-[highlighted]:bg-gray-50",value:"user",children:"User"}),o.jsx($e,{className:"bg-white hover:bg-gray-50 data-[highlighted]:bg-gray-50",value:"viewer",children:"Viewer"}),o.jsx($e,{className:"bg-white hover:bg-gray-50 data-[highlighted]:bg-gray-50",value:"editor",children:"Editor"})]})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{children:[o.jsx(Gr,{children:"Directory Access *"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select directories to grant access. Documents within these directories will be accessible to the invited user."})]}),o.jsxs(xr,{value:k.directoryRole,onValueChange:z=>$({...k,directoryRole:z}),children:[o.jsx(Zn,{className:"w-28 h-8 bg-white",children:o.jsx(yr,{})}),o.jsxs(Jn,{className:"bg-white border border-gray-200",children:[o.jsx($e,{value:"viewer",children:"Viewer"}),o.jsx($e,{value:"editor",children:"Editor"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Available Directories (",b.length,")"]}),b.length>5&&o.jsx("button",{type:"button",onClick:()=>{V(!H),H&&_("")},className:"text-xs text-blue-600 hover:text-blue-800 underline",children:H?"Hide Search":"Show Search"})]}),H&&o.jsx(xt,{placeholder:"Search directories...",value:S,onChange:z=>_(z.target.value),className:"h-8 bg-white"}),o.jsx("div",{className:"border rounded bg-white max-h-64 overflow-y-auto",children:N?o.jsx("div",{className:"text-xs text-gray-500 p-4 text-center",children:"Loading directories..."}):b.length===0?o.jsx("div",{className:"text-xs text-gray-500 p-4 text-center",children:"No directories available"}):(b||[]).filter(z=>S?(z.name||"").toLowerCase().includes(S.toLowerCase()):!0).map(z=>{const ae=k.selectedDirectories.some(J=>J.id===z.id);return o.jsxs("label",{className:"flex items-center gap-3 text-sm px-4 py-3 border-b last:border-b-0 hover:bg-gray-50 cursor-pointer transition-colors",children:[o.jsx("input",{type:"checkbox",checked:ae,onChange:J=>{J.target.checked?$({...k,selectedDirectories:[...k.selectedDirectories,{id:z.id,name:z.name}]}):$({...k,selectedDirectories:k.selectedDirectories.filter(ce=>ce.id!==z.id)})},className:"w-4 h-4 cursor-pointer"}),o.jsx("span",{className:"truncate flex-1 font-medium",children:z.name}),ae&&o.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Selected"})]},z.id)})}),k.selectedDirectories.length>0&&o.jsxs("div",{className:"text-xs text-gray-600 bg-blue-50 p-2 rounded",children:[o.jsx("strong",{children:k.selectedDirectories.length})," director",k.selectedDirectories.length>1?"ies":"y"," selected: ",k.selectedDirectories.map(z=>z.name).join(", ")]})]})]}),o.jsxs("div",{children:[o.jsx(Gr,{htmlFor:"message",children:"Message (Optional)"}),o.jsx(U1,{id:"message",placeholder:"Welcome to our workspace...",value:k.message,className:"border-none focus:outline-none focus:ring-0 bg-white",onChange:z=>$({...k,message:z.target.value}),rows:3})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(Re,{variant:"outline",onClick:()=>d(!1),className:" bg-gray-200 text-[#4B2A06] hover:bg-gray-200 border-none hover:text-[#4B2A06]",children:"Cancel"}),o.jsxs(Re,{onClick:P,disabled:l==="send",className:" bg-[#4B2A06] text-white hover:bg-[#4B2A06] hover:text-white",children:[l==="send"&&o.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"}),"Send Invitation"]})]})]})]})]})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Manage workspace invitations and user access"}),o.jsxs("div",{className:"flex gap-2 mb-3",children:[o.jsx("div",{className:"flex-1",children:o.jsx(xt,{placeholder:"Search by email or inviter name...",value:f,onChange:z=>m(z.target.value),className:"h-8 bg-white border-none focus:outline-none focus:ring-0"})}),o.jsxs(xr,{value:p,onValueChange:g,children:[o.jsx(Zn,{className:"w-32 h-8 bg-white border-none focus:outline-none focus:ring-0",children:o.jsx(yr,{})}),o.jsxs(Jn,{className:"bg-white border border-gray-200",children:[o.jsx($e,{className:"bg-white hover:bg-gray-50 data-[highlighted]:bg-gray-50",value:"all",children:"All Status"}),o.jsx($e,{className:"bg-white hover:bg-gray-50 data-[highlighted]:bg-gray-50",value:"pending",children:"Pending"}),o.jsx($e,{className:"bg-white hover:bg-gray-50 data-[highlighted]:bg-gray-50",value:"accepted",children:"Accepted"}),o.jsx($e,{className:"bg-white hover:bg-gray-50 data-[highlighted]:bg-gray-50",value:"declined",children:"Declined"}),o.jsx($e,{className:"bg-white hover:bg-gray-50 data-[highlighted]:bg-gray-50",value:"cancelled",children:"Cancelled"}),o.jsx($e,{className:"bg-white hover:bg-gray-50 data-[highlighted]:bg-gray-50",value:"expired",children:"Expired"})]})]})]})]}),o.jsx("div",{className:`flex-1 ${r.length<=v?"overflow-y-auto":""}`,children:o.jsx("div",{className:"p-4",children:a?o.jsx("div",{className:"flex justify-center items-center h-20",children:o.jsx(Ze,{className:"h-6 w-6 animate-spin"})}):r.length===0?o.jsxs("div",{className:"text-center text-gray-500 py-8",children:[o.jsx(Ll,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),o.jsx("p",{children:t.length===0?"No invitations yet":"No invitations match your search"},"message"),o.jsx("p",{className:"text-sm",children:t.length===0?"Send your first invitation to get started":"Try adjusting your search or filter"},"submessage")]}):o.jsx("div",{className:"space-y-3",children:A.map(z=>o.jsx("div",{className:"border border-gray-200 rounded-lg p-3 hover:bg-gray-50 transition-colors",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h4",{className:"font-medium text-sm truncate",children:z.inviteeEmail}),K(z.status)]}),o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(An,{variant:"secondary",className:`text-xs ${F(z.status)}`,children:z.status},`status-badge-${z.id}`),o.jsx(An,{variant:"outline",className:"text-xs",children:z.invitedRole},`role-badge-${z.id}`)]}),o.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Fm,{className:"h-3 w-3"}),"Sent: ",D(z.createdAt)]},`date-${z.id}`),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(oc,{className:"h-3 w-3"}),"Role: ",z.invitedRole]},`role-${z.id}`)]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[z.status==="accepted"&&o.jsx(LJ,{invite:z},`editor-${z.id}`),o.jsx(Po,{children:o.jsxs(La,{align:"end",children:[z.status==="pending"&&o.jsxs(jt,{onClick:()=>L(z.invitationId),className:"text-yellow-600",children:[o.jsx(Cl,{className:"mr-2 h-4 w-4"}),"Cancel"]},`cancel-${z.id}`),o.jsxs(jt,{onClick:()=>M(z.invitationId),className:"text-red-600",children:[o.jsx(Kn,{className:"mr-2 h-4 w-4"}),"Delete"]},`delete-${z.id}`)]})})]})]})},z.id))})})}),r.length>v&&o.jsx("div",{className:"p-4 border-t bg-gray-50 flex-shrink-0",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",G+1,"-",Math.min(ne,r.length)," of"," ",r.length," invitations"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Re,{variant:"outline",size:"sm",onClick:()=>W(y-1),disabled:y===1,children:"Previous"}),o.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:T},(z,ae)=>ae+1).map(z=>o.jsx(Re,{variant:y===z?"default":"outline",size:"sm",onClick:()=>W(z),className:"w-8 h-8 p-0",children:z},z))}),o.jsx(Re,{variant:"outline",size:"sm",onClick:()=>W(y+1),disabled:y===T,children:"Next"})]})]})})]})};function LJ({invite:e}){const[t,n]=h.useState(!1),[r,s]=h.useState("today"),[a,i]=h.useState("viewer"),[l,c]=h.useState(null),[u,d]=h.useState(!1),[f,m]=h.useState([]),[p,g]=h.useState([]),[y,w]=h.useState(!1),[v,b]=h.useState(""),[E,N]=h.useState([]),[C,S]=h.useState(!1),[_,H]=h.useState([]),[V,k]=h.useState(!1);h.useEffect(()=>{V&&((async()=>{try{w(!0),console.log("Loading directories in PerUserAccessEditor...");const M=await Zr.listChildren("root",{pageSize:200,sort:"name",order:"asc"});console.log("Directories response in PerUserAccessEditor:",M);const F=((M==null?void 0:M.items)||[]).filter(D=>D.kind==="directory").map(D=>D.item);g(F),console.log("Set directories in PerUserAccessEditor:",F)}catch(M){console.error("Error loading directories in PerUserAccessEditor:",M),g([])}finally{w(!1)}})(),$())},[V]);const $=async()=>{try{const L=await Ct.getUserDirectories(e.inviteeEmail);H(L.directories)}catch(L){console.error("Error loading granted directories:",L),H([])}},I=async()=>{var L,M;try{n(!0),await Ct.updateUserBuckets(e.inviteeEmail,[r]),O.success("Access window updated")}catch(K){O.error(((M=(L=K.response)==null?void 0:L.data)==null?void 0:M.message)||"Failed to update")}finally{n(!1)}},Y=async()=>{var L,M;if(E.length===0){O.error("Select at least one directory");return}try{S(!0);const K=E.map(ne=>ne.id),F=await Ct.grantDirectoryAccess(e.inviteeEmail,K,a);O.success(`Access granted to ${F.granted.length} director${F.granted.length>1?"ies":"y"}`),F.errors&&F.errors.length>0&&O.error(`Some errors: ${F.errors.join(", ")}`),N([]),await $();const D=await Zr.listChildren("root",{pageSize:200,sort:"name",order:"asc"}),G=((D==null?void 0:D.items)||[]).filter(ne=>ne.kind==="directory").map(ne=>ne.item);g(G)}catch(K){O.error(((M=(L=K.response)==null?void 0:L.data)==null?void 0:M.message)||"Failed to grant access")}finally{S(!1)}},P=async L=>{var M,K;try{await Ct.revokeDirectoryAccess(e.inviteeEmail,L),O.success("Access revoked"),await $();const F=await Zr.listChildren("root",{pageSize:200,sort:"name",order:"asc"}),T=((F==null?void 0:F.items)||[]).filter(G=>G.kind==="directory").map(G=>G.item);g(T)}catch(F){O.error(((K=(M=F.response)==null?void 0:M.data)==null?void 0:K.message)||"Failed to revoke")}};return o.jsxs("div",{className:"flex items-center gap-2 ",children:[o.jsxs(er,{open:V,onOpenChange:k,children:[o.jsx(Dp,{asChild:!0,children:o.jsx(Re,{variant:"outline",size:"sm",className:"h-8 px-3 bg-white hover:bg-white border-gray-300",children:"Update Access"})}),o.jsxs(Hn,{className:"sm:max-w-lg bg-gray-50 text-[#4B2A06]",hideClose:!0,children:[o.jsxs(vr,{children:[o.jsxs($n,{children:["Update Access for ",e.inviteeEmail]}),o.jsx(Ji,{children:"Manage time bucket permissions and directory access for this user"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(xr,{value:r,onValueChange:L=>s(L),children:[o.jsx(Zn,{className:"w-[180px] h-8 bg-white border-gray-300",children:o.jsx(yr,{placeholder:"Today"})}),o.jsxs(Jn,{className:"bg-white border border-gray-200",children:[o.jsx($e,{value:"today",children:"Today"}),o.jsx($e,{value:"last7",children:"Last 7 days"}),o.jsx($e,{value:"last15",children:"Last 15 days"}),o.jsx($e,{value:"last30",children:"Last 30 days"}),o.jsx($e,{value:"last90",children:"Last 3 months"}),o.jsx($e,{value:"all",children:"All"})]})]}),o.jsx(Re,{onClick:async()=>{await I(),k(!1)},disabled:t,className:"h-8 px-3 bg-[#4B2A06] text-white hover:bg-[#3A2004]",children:t?"Saving...":"Update"})]}),o.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Directory Access Management"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"text-xs font-medium text-gray-600",children:["Grant Directory Access (",p.filter(L=>!_.some(M=>M.directoryId===L.id)).length," available)"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(xt,{placeholder:"Search directories...",value:v,onChange:L=>b(L.target.value),className:"h-8 bg-white"}),o.jsxs(xr,{value:a,onValueChange:L=>i(L),children:[o.jsx(Zn,{className:"w-28 h-8 bg-white",children:o.jsx(yr,{})}),o.jsxs(Jn,{className:"bg-white border border-gray-200",children:[o.jsx($e,{value:"viewer",children:"Viewer"}),o.jsx($e,{value:"editor",children:"Editor"})]})]}),o.jsx(Re,{size:"sm",onClick:Y,disabled:C||E.length===0,className:"h-8 px-3 bg-[#4B2A06] text-white hover:bg-[#3A2004]",children:C?"Granting...":"Grant Access"})]}),o.jsx("div",{className:"max-h-32 overflow-y-auto border rounded bg-white",children:y?o.jsx("div",{className:"text-xs text-gray-500 p-2",children:"Loading directories..."}):(p||[]).filter(L=>{const M=v?(L.name||"").toLowerCase().includes(v.toLowerCase()):!0,K=_.some(F=>F.directoryId===L.id);return M&&!K}).map(L=>{const M=E.some(K=>K.id===L.id);return o.jsxs("label",{className:"flex items-center gap-2 text-sm px-2 py-1 border-b last:border-b-0 hover:bg-gray-50",children:[o.jsx("input",{type:"checkbox",checked:M,onChange:K=>{K.target.checked?N(F=>[...F,{id:L.id,name:L.name}]):N(F=>F.filter(D=>D.id!==L.id))}}),o.jsx("span",{className:"truncate",children:L.name})]},L.id)})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"text-xs font-medium text-gray-600",children:["Current Directory Access (",_.length," granted)"]}),o.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2",children:_.length===0?o.jsx("div",{className:"text-xs text-gray-500",children:"No directories shared to this user."}):_.map(L=>o.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-white border border-gray-200 rounded",children:[o.jsxs("div",{className:"truncate pr-3",children:[o.jsx("div",{className:"text-sm font-medium text-gray-800 truncate",children:L.directoryName}),o.jsxs("div",{className:"text-xs text-gray-500",children:["Role: ",L.role]})]}),o.jsx(Re,{size:"sm",variant:"destructive",className:"h-7 px-3",onClick:async()=>{await P(L.directoryId)},children:"Remove Access"})]},L.directoryId))})]})]})]})]}),o.jsx(Re,{variant:"destructive",size:"sm",className:"h-8 px-3",onClick:async()=>{var L,M;try{await Ct.revokeUserAccess(e.invitationId),O.success("Invitee removed and all access revoked")}catch(K){O.error(((M=(L=K.response)==null?void 0:L.data)==null?void 0:M.message)||"Failed to remove invitee")}},children:"Delete Invitee"})]})}const VI=({open:e,onClose:t,selectedDocument:n,availableDocuments:r,onDocumentSelect:s,loading:a=!1})=>{const[i,l]=h.useState(""),[c,u]=h.useState([]),[d,f]=h.useState(null);h.useEffect(()=>{if(i.trim()){const y=r.filter(w=>w.name.toLowerCase().includes(i.toLowerCase()));u(y)}else u(r)},[i,r]),h.useEffect(()=>{e||(l(""),f(null))},[e]);const m=y=>{f(y)},p=()=>{d&&s(n,d)},g=y=>new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[60vh] flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between px-6 pt-6  border-gray-200",children:[o.jsx("h2",{className:"text-2xl font-bold text-[#FF7A1A]",children:"Select Document"}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Bn,{className:"h-6 w-6"})})]}),o.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:o.jsxs("div",{className:"relative",children:[o.jsx(ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),o.jsx("input",{type:"text",placeholder:"Search for Files by their names, time, and day",value:i,onChange:y=>l(y.target.value),className:"outline-none focus:outline-none focus:ring-0 focus:border-[#E5E5E5] w-full rounded-full border border-[#E5E5E5] px-10 py-3 text-base bg-[#F9F9F9] placeholder:text-[#A1A1AA]"})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:a?o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#4B2A06]"}),o.jsx("span",{className:"ml-3 text-gray-600",children:"Loading documents..."})]}):c.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Yt,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500",children:i?"No documents found matching your search":"No documents available for comparison"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left py-2 px-6 font-medium text-gray-700",children:"Name"}),o.jsx("th",{className:"text-left py-2 px-6 font-medium text-gray-700",children:"Doc type"}),o.jsx("th",{className:"text-left py-2 px-6 font-medium text-gray-700",children:"Last modified"})]})}),o.jsx("tbody",{children:c.map(y=>o.jsxs("tr",{className:`border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors ${(d==null?void 0:d.id)===y.id?" border-[#4B2A06]":""}`,onClick:w=>{w.target!==w.currentTarget.querySelector('input[type="radio"]')&&m(y)},children:[o.jsx("td",{className:"py-2 px-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"radio",name:"document-selection",checked:(d==null?void 0:d.id)===y.id,onChange:()=>m(y),className:"h-4 w-5  text-[#4B2A06] focus:ring-[#3A2004] border-gray-300"}),o.jsx(Yt,{className:"h-4 w-4 text-gray-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:y.name})]})}),o.jsx("td",{className:"py-2 px-6",children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-[#ECE9E2] text-[#4B2A06]",children:y.type}),y.type==="DRHP"&&y.relatedRhpId&&o.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-[#F9F6F2] text-[#FF7A1A]",children:"RHP"})]})}),o.jsx("td",{className:"py-2 px-6",children:o.jsx("span",{className:"text-sm text-gray-600",children:g(y.uploadedAt)})})]},y.id))})]})})}),o.jsx("div",{className:"px-6 py-2 border-t rounded-b-lg border-gray-200 bg-gray-50",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:[c.length," document",c.length!==1?"s":""," available",d&&o.jsxs("span",{className:"ml-2 text-[#4B2A06] font-medium",children:[" ",d.name," selected"]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:p,disabled:!d,className:"px-4 py-2 text-white bg-[#4B2A06] rounded-lg hover:bg-[#3A2004] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"OK"})]})]})})]})}):null},Hs=({title:e,showSearch:t=!1,searchValue:n="",onSearchChange:r,children:s,onSidebarOpen:a,sidebarOpen:i=!1,showRhpActions:l=!1,onUploadRhp:c,onCompare:u,hasRhp:d=!1,currentDocument:f})=>{const m=Nr(),p=qt(),{user:g,logout:y,isAuthenticated:w}=Nn(),[v,b]=oe.useState(!1),[E,N]=oe.useState(!1),[C,S]=oe.useState(0),[_,H]=oe.useState(!1),[V,k]=oe.useState(null),[$,I]=oe.useState([]),[Y,P]=oe.useState(!1);oe.useEffect(()=>{let G=!0;const ne=async()=>{try{const W=await _a.list({unread:!0,page:1,pageSize:1});G&&S(W.total||0)}catch{}};ne();const A=setInterval(ne,6e4);return()=>{G=!1,clearInterval(A)}},[]);const L=async()=>{if(f){k(f),H(!0),P(!0);try{const G=await It.getAvailableForCompare(f.id);I(G.availableDocuments)}catch(G){console.error("Error fetching available documents:",G),O.error("Failed to load documents for comparison")}finally{P(!1)}}},M=async(G,ne)=>{try{P(!0);const A=G.type==="DRHP"?G.id:ne.id,W=G.type==="RHP"?G.id:ne.id;await It.linkForCompare(A,W),H(!1),k(null),I([]),p(`/compare/${A}`),O.success("Documents linked successfully! Redirecting to comparison...")}catch(A){console.error("Error linking documents:",A),O.error("Failed to link documents for comparison")}finally{P(!1)}},K=G=>{if(!G)return"U";if(G.name&&G.name.trim()){const ne=G.name.trim().split(" ");return ne.length>=2?(ne[0][0]+ne[ne.length-1][0]).toUpperCase():G.name.substring(0,2).toUpperCase()}if(G.email){const[ne]=G.email.split("@");return ne.split(".").map(A=>A[0]).join("").toUpperCase().slice(0,2)}return"U"};let F=e,D=!1;F||(m.pathname.startsWith("/doc/")||m.pathname.startsWith("/dashboard")?F="PDF Summariser":m.pathname.startsWith("/upload")?F="Upload Documents":m.pathname.startsWith("/settings")?F="Settings":F="PDF Summariser"),(m.pathname.startsWith("/admin")||m.pathname.startsWith("/chat-history")||m.pathname.startsWith("/settings")||m.pathname.startsWith("/profile")||m.pathname.startsWith("/compare/")||m.pathname.startsWith("/notifications"))&&(D=!0);const T=/^\/doc\//.test(m.pathname);return o.jsxs(o.Fragment,{children:[o.jsxs("header",{className:"w-full flex items-center h-[10vh] min-h-[60px] pl-[1vw] px-[4vw] bg-white border-b border-[#F3F3F3] relative transition-all duration-300",children:[T&&a&&!i&&o.jsx("button",{className:"absolute top-1/2 -translate-y-1/2 p-[0.5vw] rounded hover:bg-[#F3F3F3] transition-all duration-300 left-[1vw]",onClick:a,children:o.jsxs("svg",{width:"2vw",height:"2vw",style:{minWidth:24,minHeight:24},fill:"none",stroke:"#232323",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[o.jsx("line",{x1:"4",y1:"6",x2:"20",y2:"6"}),o.jsx("line",{x1:"4",y1:"12",x2:"20",y2:"12"}),o.jsx("line",{x1:"4",y1:"18",x2:"20",y2:"18"})]})}),o.jsxs("div",{className:"flex items-center gap-4",children:[D&&o.jsx("button",{onClick:()=>p(-1),className:"text-[#232323] hover:text-[#FF7A1A] transition-colors",title:"Go back",children:o.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:o.jsx("path",{d:"m15 18-6-6 6-6"})})}),o.jsx("button",{onClick:()=>p("/dashboard"),className:`text-2xl font-extrabold text-[#232323] tracking-tight transition-all duration-300 hover:text-[#FF7A1A] cursor-pointer ${T&&!i&&a?"ml-[4vw]":T&&i?"ml-[0vw]":"ml-[0.5vw]"}`,style:{fontFamily:"Inter, Arial, sans-serif"},children:F})]}),o.jsx("div",{className:"flex-1"}),t&&m.pathname==="/dashboard"&&o.jsx("input",{type:"text",placeholder:"Search for Files by their names, time, and day",className:"outline-none focus:outline-none focus:ring-0 focus:border-[#E5E5E5] w-[60vw] max-w-xl rounded-full border border-[#E5E5E5] px-[2vw] py-[0.7vw] text-base bg-[#F9F9F9] placeholder:text-[#A1A1AA] mr-[2vw]",value:n,onChange:G=>r&&r(G.target.value),style:{marginRight:"2vw"}}),s,l&&o.jsx("div",{className:"flex items-center gap-[2vw] mr-1",children:d?o.jsx("button",{onClick:()=>{if(f){const G=f.type==="DRHP"?f.id:f.relatedDrhpId;G&&p(`/compare/${G}`)}},className:"flex items-center gap-2 text-2xl font-bold text-[#232323] hover:text-[#FF7A1A] transition-colors",title:"View Comparison Report",children:o.jsx("img",{className:"h-[1vw] w-[1vw] min-w-[24px] min-h-[24px] object-contain",src:"https://img.icons8.com/pastel-glyph/128/document--v1.png",alt:"view"})}):o.jsx("button",{onClick:L,className:"flex items-center gap-2 text-2xl font-bold text-[#232323] hover:text-[#FF7A1A] transition-colors",title:"Compare Documents",disabled:Y,children:o.jsx("img",{className:"h-[1vw] w-[1vw] min-w-[24px] min-h-[24px] object-contain",src:"https://img.icons8.com/ios/50/compare.png",alt:"compare"})})}),o.jsxs("div",{className:"flex items-center ml-[2vw] gap-[2vw] text-[#232323] text-2xl",children:[(m.pathname.startsWith("/admin")||m.pathname==="/admin")&&(g==null?void 0:g.role)==="admin"&&o.jsxs(er,{open:E,onOpenChange:N,children:[o.jsx(Dp,{asChild:!0,children:o.jsx("button",{className:`flex items-center gap-2 text-2xl font-bold transition-colors ${E?"text-[#FF7A1A]":"text-[#232323]"}`,title:"Workspace Invitations",children:o.jsx(Bm,{className:"h-[1vw] w-[1vw] min-w-[24px] min-h-[24px]"})})}),o.jsxs(Hn,{className:"w-[90vw] max-w-[800px]  p-0",hideClose:!0,children:[o.jsx($n,{className:"sr-only",children:"Workspace Invitations"}),o.jsx(Ji,{className:"sr-only",children:"Manage workspace invitations and user access"}),o.jsx(WI,{})]})]}),T&&o.jsx("nav",{className:"flex gap-[2vw] ",children:o.jsx(Xc,{to:m.pathname,className:`flex items-center gap-2 text-2xl font-bold ${m.pathname.startsWith("/doc/")?"text-[#FF7A1A]":"text-[#232323]"}`,children:o.jsx(ub,{className:"h-[1vw] w-[1vw] min-w-[24px] min-h-[24px]"})})}),m.pathname.startsWith("/compare")&&o.jsx("nav",{className:"flex gap-[2vw]",children:o.jsx(Xc,{to:m.pathname,className:`flex items-center gap-2 text-2xl font-bold ${m.pathname.startsWith("/compare")?"text-[#FF7A1A]":"text-[#232323]"}`,title:"Compare",children:o.jsx(Lh,{className:"h-[1vw] w-[1vw] min-w-[24px] min-h-[24px]"})})}),o.jsx(Xc,{to:"/dashboard",className:`flex items-center gap-2 text-2xl font-bold ${m.pathname==="/dashboard"?"text-[#FF7A1A]":"text-[#232323]"}`,children:o.jsx(Pk,{className:"h-[1vw] w-[1vw] min-w-[24px] min-h-[24px]"})}),(g==null?void 0:g.role)==="admin"&&o.jsx(o.Fragment,{children:o.jsx(Xc,{to:"/admin",className:`flex items-center gap-2 text-2xl font-bold ${m.pathname==="/admin"?"text-[#FF7A1A]":"text-[#232323]"}`,title:"Admin Dashboard",children:o.jsx(VD,{className:"h-[1vw] w-[1vw] min-w-[24px] min-h-[24px]"})})}),o.jsxs(Xc,{to:"/notifications",className:`relative flex items-center gap-2 text-2xl font-bold ${m.pathname==="/notifications"?"text-[#FF7A1A]":"text-[#232323]"}`,title:"Notifications",children:[o.jsx(Ik,{className:"h-[1vw] w-[1vw] min-w-[24px] min-h-[24px]"}),C>0&&o.jsx("span",{className:"absolute -top-1 -right-2 bg-red-600 text-white text-[10px] leading-none px-1.5 py-0.5 rounded-full",children:C>99?"99+":C})]}),w&&g?o.jsxs(Po,{children:[o.jsx(ji,{asChild:!0,children:o.jsx("span",{className:"cursor-pointer",children:o.jsx(F1,{className:"h-10 w-10 min-w-[35px] min-h-[35px] hover:shadow-lg transition-all duration-300",children:o.jsx(B1,{className:"bg-[#ECE9E2] text-[#4B2A06]",children:K(g)})})})}),o.jsxs(La,{className:"w-56 bg-white border border-gray-200 text-[#4B2A06]",align:"end",forceMount:!0,children:[o.jsx(Yj,{className:"font-normal",children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("p",{className:"text-sm font-medium leading-none",children:g.name||g.email}),o.jsx("p",{className:"text-xs text-muted-foreground",children:g.email})]})}),o.jsxs(jt,{onSelect:()=>p("/profile"),className:"cursor-pointer hover:bg-gray-100 focus:bg-gray-100 ",children:[o.jsx(XD,{className:"mr-2 h-4 w-4"})," Settings"]}),(g==null?void 0:g.role)==="admin"&&o.jsx(o.Fragment,{children:o.jsxs(jt,{onSelect:()=>p("/admin/users"),className:"cursor-pointer hover:bg-gray-100 focus:bg-gray-100 ",children:[o.jsx(Sc,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"User Management"})]})}),o.jsxs(jt,{onSelect:()=>y(),className:"cursor-pointer hover:bg-gray-100 focus:bg-gray-100",children:[o.jsx(Dk,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Log out"})]})]})]}):null]})]}),o.jsx(eJ,{open:v,onClose:()=>b(!1)}),o.jsx(VI,{open:_,onClose:()=>{H(!1),k(null),I([])},selectedDocument:V,availableDocuments:$,onDocumentSelect:M,loading:Y})]})},MJ=({drhpId:e,drhpName:t,onUploadSuccess:n,setIsUploading:r,open:s,onOpenChange:a})=>{const[i,l]=h.useState(null),[c,u]=h.useState(!1),d=h.useRef(null),f=g=>{var w;const y=(w=g.target.files)==null?void 0:w[0];if(y){if(y.type!=="application/pdf"){O.error("Please select a PDF file");return}l(y)}},m=async g=>{if(g.type!=="application/pdf"){O.error("Please select a PDF file");return}u(!0),r==null||r(!0);const y=O.loading(o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("span",{children:["Uploading ",g.name,"..."]})}));try{const w=await f1.uploadRhpToBackend(g,e);if(!w||!w.document)throw new Error((w==null?void 0:w.error)||"Upload failed");O.success("RHP uploaded successfully!"),n==null||n(),a(!1),l(null),d.current&&(d.current.value="")}catch(w){O.error(o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(us,{className:"h-4 w-4 text-destructive"}),o.jsx("span",{children:w instanceof Error?w.message:"Upload failed"})]}),{id:y,duration:4e3})}finally{u(!1),r==null||r(!1),O.dismiss(y),l(null),d.current&&(d.current.value="")}},p=g=>{!g&&!c?(a(!1),l(null),d.current&&(d.current.value="")):g&&a(!0)};return o.jsx(er,{open:s,onOpenChange:p,children:o.jsxs(Hn,{className:"sm:max-w-[500px] bg-white",onClick:g=>g.stopPropagation(),children:[o.jsxs(vr,{children:[o.jsx($n,{children:"Upload RHP Document"}),o.jsxs(Ji,{children:['Upload an RHP document to link with the DRHP document "',t,'".']})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Gr,{htmlFor:"file",children:"Select RHP PDF File"}),o.jsx(xt,{id:"file",type:"file",accept:".pdf",className:" bg-white text-gray-400  file:text-[#4B2a09] file:text-sm file:font-medium file:border-none file:cursor-pointer border border-[#E5E5E5] rounded-md",onChange:f,ref:d,disabled:c}),i&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[o.jsx(Uo,{className:"h-4 w-4"}),i.name," selected"]})]}),o.jsx("div",{className:"bg-blue-50 p-3 rounded-md",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(us,{className:"h-4 w-4 text-blue-600 mt-0.5"}),o.jsxs("div",{className:"text-sm text-blue-800",children:[o.jsx("p",{className:"font-medium",children:"Note:"}),o.jsx("p",{children:"This RHP document will be linked to the DRHP document and can be used for comparison."})]})]})})]}),o.jsxs(gc,{children:[o.jsx(Re,{type:"button",variant:"outline",onClick:g=>{g.stopPropagation(),a(!1)},className:"bg-gray-200 text-[#4B2A06] hover:bg-gray-200 border-none hover:text-[#4B2A06]",disabled:c,children:"Cancel"}),o.jsx(Re,{type:"button",onClick:g=>{g.stopPropagation(),i&&m(i)},disabled:!i||c,className:"flex items-center gap-2 bg-[#4B2A06] text-white hover:bg-[#4B2A06]/90 border-none hover:text-white",children:c?o.jsxs(o.Fragment,{children:[o.jsx(Ze,{className:"h-4 w-4 animate-spin"}),"Uploading..."]}):o.jsxs(o.Fragment,{children:[o.jsx(db,{className:"h-4 w-4"}),"Upload RHP"]})})]})]})})};function FJ(){const{namespace:e}=Ab(),[t,n]=Zm(),[r,s]=h.useState(null),[a,i]=h.useState(null),[l,c]=h.useState(!1),[u,d]=h.useState(!0),[f,m]=h.useState(!1),[p]=h.useState(()=>aa.initializeSession()),g=qt(),[y,w]=h.useState(!1),[v,b]=h.useState(0),{user:E,logout:N,isAuthenticated:C}=Nn(),[S,_]=h.useState(400),H=300,V=700,[k,$]=h.useState(!1),[I,Y]=h.useState(!1),P=t.get("chatId"),L=t.get("linkToken")||localStorage.getItem("sharedLinkToken")||void 0;h.useEffect(()=>{const D=T=>{if(y){const G=document.querySelector('[data-sidebar="true"]');G&&!G.contains(T.target)&&w(!1)}};return y&&document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[y]),h.useEffect(()=>{let D=!0;return(async()=>{if(!e){D&&(d(!1),s(null));return}try{d(!0);const G=await It.getById(e,L||void 0);if(D){s(G),i(null),c(!1);const ne=await f1.checkDocumentStatus(G.id,p);if(D){d(!1);let A=!1;try{const z=await Pr.getByDocumentId(G.id);A=z&&z.length>0}catch(z){console.log("Could not check summaries:",z)}if(ne.status==="processing"&&!A){m(!0);let z=0;const ae=120,J=5e3,ce=async()=>{if(z>=ae){m(!1);return}try{const xe=await It.getById(e,L||void 0);let re=!1;try{const _e=await Pr.getByDocumentId(xe.id);re=_e&&_e.length>0}catch{}xe&&(xe.status!=="processing"||re)?(s(xe),m(!1),(xe.status==="completed"||xe.status==="ready"||re)&&O.success("Document processing completed!")):(z++,setTimeout(ce,J))}catch(xe){console.error("Error polling document status:",xe),m(!1)}};setTimeout(ce,J)}else if(m(!1),A&&ne.status==="processing")try{const z=await It.getById(e,L||void 0);z&&s(z)}catch(z){console.error("Error refreshing document:",z)}}}}catch{s(null),d(!1)}})(),()=>{D=!1}},[e,p]);const M=D=>{D&&g(`/doc/${D.id}`),w(!1)},K=()=>{if(!r){O.error("Please select a document to start a new chat.");return}n({}),b(Date.now()),w(!1)},F=D=>{D&&(!r||D.documentId!==r.id?g(`/doc/${D.documentId}?chatId=${D.id}`):n({chatId:D.id}),w(!1))};return!r&&!u?o.jsx("div",{className:"flex h-screen items-center justify-center p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-semibold text-destructive",children:"Document Not Found"}),o.jsx("p",{className:"text-muted-foreground mt-2",children:"The document you are looking for does not exist or you may not have access."}),o.jsx("button",{onClick:()=>g("/upload"),className:"mt-4",children:"Back to Upload"})]})}):u?o.jsxs("div",{className:"flex h-screen flex-col items-center justify-center text-muted-foreground",children:[o.jsx(Ze,{className:"h-8 w-8 animate-spin text-muted-foreground mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Checking document status..."})]}):o.jsxs("div",{className:"flex flex-row h-screen w-screen bg-[#FAFAFA]",children:[o.jsx("div",{className:`transition-all duration-300 h-full ${y?"w-[15%] min-w-[250px]":"w-0 min-w-0 max-w-0"} bg-white shadow-xl`,style:{overflow:"hidden"},"data-sidebar":"true",children:y&&o.jsx(q3,{selectedDocumentId:r==null?void 0:r.id,selectedChatId:P,onBack:()=>w(!1),onClose:()=>w(!1),onSelectDocument:M,onSelectChat:F,onNewChat:K})}),o.jsxs("div",{className:`flex flex-col h-full transition-all duration-300 ${y?"w-[90%]":"w-full"}`,children:[o.jsx(Hs,{onSidebarOpen:()=>w(!0),sidebarOpen:y,showRhpActions:!!r,hasRhp:!!(r!=null&&r.relatedRhpId||r!=null&&r.relatedDrhpId),currentDocument:r,onUploadRhp:()=>$(!0),onCompare:()=>r&&g(`/compare/${r.id}`)}),o.jsx(MJ,{drhpId:r==null?void 0:r._id,drhpName:(r==null?void 0:r.name)||"",open:k,onOpenChange:$,onUploadSuccess:()=>{$(!1),r!=null&&r.id&&It.getById(r.id).then(s)},setIsUploading:Y}),I&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:o.jsxs("div",{className:"bg-white rounded-lg p-8 flex flex-col items-center shadow-lg",children:[o.jsx(Ze,{className:"h-10 w-10 animate-spin mb-4"}),o.jsx("span",{className:"text-lg font-semibold",children:"Uploading RHP..."})]})}),f&&r&&o.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-3 mx-4 mt-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ze,{className:"h-4 w-4 animate-spin text-blue-600"}),o.jsx("span",{className:"text-sm text-blue-800",children:"Document is being processed. Some features may be unavailable until processing completes."})]})}),o.jsxs("div",{className:"flex flex-1 w-full h-[calc(100vh-80px)] overflow-hidden",children:[o.jsx("div",{className:"flex flex-col bg-white rounded-r-none shadow-xl p-4 h-full justify-stretch",style:{width:S,minWidth:H,maxWidth:V},children:o.jsx("div",{className:"flex-1 overflow-y-auto pr-1 ",children:o.jsx(dG,{isDocumentProcessed:!f,currentDocument:r,onProcessingChange:c,selectedSummaryId:a,onSummarySelect:i})})}),o.jsx("div",{style:{width:2,cursor:"col-resize",background:"#4B2A06",zIndex:5,display:"flex",alignItems:"center",justifyContent:"center",userSelect:"none"},onMouseDown:D=>{const T=D.clientX,G=S,ne=W=>{const z=Math.min(Math.max(G+W.clientX-T,H),V);_(z)},A=()=>{window.removeEventListener("mousemove",ne),window.removeEventListener("mouseup",A)};window.addEventListener("mousemove",ne),window.addEventListener("mouseup",A)},children:o.jsxs("svg",{width:"16",height:"32",viewBox:"0 0 16 32",fill:"none",children:[o.jsx("rect",{x:"4",y:"7",width:"8",height:"2",rx:"1",fill:"#bfa97a"}),o.jsx("rect",{x:"4",y:"15",width:"8",height:"2",rx:"1",fill:"#bfa97a"}),o.jsx("rect",{x:"4",y:"23",width:"8",height:"2",rx:"1",fill:"#bfa97a"})]})}),o.jsx("div",{className:"flex-1 flex flex-col bg-[#fff] px-6 h-full ml-0 rounded-r-2xl rounded-l-none shadow-none justify-stretch",children:o.jsxs("div",{className:"flex flex-col h-full w-full",children:[o.jsxs("div",{className:"flex items-center gap-2 mt-4 mb-4 ml-2 justify-between w-full",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("svg",{width:"22",height:"22",fill:"none",stroke:"#232323",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-file-text",viewBox:"0 0 24 24",children:[o.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),o.jsx("polyline",{points:"14 2 14 8 20 8"}),o.jsx("line",{x1:"16",x2:"8",y1:"13",y2:"13"}),o.jsx("line",{x1:"16",x2:"8",y1:"17",y2:"17"}),o.jsx("line",{x1:"10",x2:"8",y1:"9",y2:"9"})]}),o.jsx(t3,{documentId:r==null?void 0:r.id,documentName:(r==null?void 0:r.name)||(r==null?void 0:r.namespace)||""})]}),o.jsx("button",{className:"flex items-center justify-center  rounded-sm px-2 py-2 text-[#4B2A06] shadow-none  transition",style:{fontWeight:700,fontSize:"1.1rem"},onClick:K,title:"New Chat",children:o.jsx(Lk,{className:"h-7 w-7 mr-12 text-[#4B2A06]"})})]}),o.jsx(DK,{isDocumentProcessed:!f,currentDocument:r,onProcessingChange:c,newChatTrigger:v,chatId:P,customStyles:{containerBg:"#FAFAFA",inputBg:"#fff",inputBorder:"#fff",sendBtnBg:"#4B2A06",sendBtnIcon:"#fff",userBubble:"#F3F4F6",botBubble:"#F9F6F2",userText:"#232323",botText:"#4B2A06",timestamp:"#A1A1AA",inputRadius:"9999px",inputShadow:"0 2px 8px 0 #E5E5E5",removeHeader:!0,removeInputBorder:!0,inputPlaceholder:"Ask a question about your document..."}},`${r==null?void 0:r.id}-${P||"new"}`)]})})]})]})]})}const BJ=()=>{const e=Nr();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},On=h.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Oe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));On.displayName="Card";const tn=h.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Oe("flex flex-col space-y-1.5 p-6",e),...t}));tn.displayName="CardHeader";const nn=h.forwardRef(({className:e,...t},n)=>o.jsx("h3",{ref:n,className:Oe("text-2xl font-semibold leading-none tracking-tight",e),...t}));nn.displayName="CardTitle";const UJ=h.forwardRef(({className:e,...t},n)=>o.jsx("p",{ref:n,className:Oe("text-sm text-muted-foreground",e),...t}));UJ.displayName="CardDescription";const gt=h.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Oe("p-6 pt-0",e),...t}));gt.displayName="CardContent";const HJ=h.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Oe("flex items-center p-6 pt-0",e),...t}));HJ.displayName="CardFooter";function $J(){const{user:e}=Nn(),t=(e==null?void 0:e.role)==="admin",[n,r]=h.useState(!1),[s,a]=h.useState(!1),[i,l]=h.useState([]),[c,u]=h.useState(""),d=async()=>{r(!0);try{const p=s&&t?await hr.getAllAdmin():await hr.getMine();l(Array.isArray(p)?p:[])}finally{r(!1)}};h.useEffect(()=>{d()},[s]);const f=h.useMemo(()=>{const p=new Date().getTime(),g=1e3*60*60*24*30;return i.filter(y=>{const w=new Date(y.updatedAt||y.createdAt||Date.now()).getTime();return p-w<=g})},[i]),m=h.useMemo(()=>c?f.filter(p=>{const g=p.title||`Chat ${String(p.id||p._id).slice(-6)}`,y=p.documentId||"";return g.toLowerCase().includes(c.toLowerCase())||y.toLowerCase().includes(c.toLowerCase())}):f,[f,c]);return o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsx(Hs,{title:"Chat History",showSearch:!1,searchValue:"",onSearchChange:()=>{}}),o.jsxs("div",{className:"w-[90vw] mx-auto py-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Chat History (Last 30 Days)"}),t&&o.jsx("div",{className:"text-sm text-gray-500",children:t&&o.jsx(Re,{size:"sm",onClick:()=>a(p=>!p),children:s?"Showing: All Users":"Showing: My Chats"})})]}),o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx(ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(xt,{placeholder:"Search Chats",value:c,onChange:p=>u(p.target.value),className:"pl-10 bg-gray-100 border-gray-200 rounded-lg"})]})}),o.jsx("div",{className:"space-y-4",children:n?o.jsx("div",{className:"text-center py-8 text-gray-600",children:"Loading chats..."}):m.length===0?o.jsx("div",{className:"text-center py-8 text-gray-600",children:"No chat history in the last 30 days."}):m.map(p=>o.jsx(On,{className:"bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:o.jsx(gt,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-gray-900 text-lg mb-2",children:p.title||"New Chat"}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:["Messages:"," ",Array.isArray(p.messages)?p.messages.length:0]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Document: ",p.documentId||""]})]})]}),o.jsxs(Po,{children:[o.jsx(ji,{asChild:!0,children:o.jsx(Re,{variant:"ghost",size:"sm",children:o.jsx(Ol,{className:"h-4 w-4"})})}),o.jsxs(La,{align:"end",children:[o.jsx(jt,{children:"View Chat"}),o.jsx(jt,{children:"Delete Chat"})]})]})]})})},p.id||p._id))}),t&&o.jsx("div",{className:"mt-6 flex justify-center",children:o.jsx(Re,{variant:"outline",onClick:()=>a(p=>!p),className:"px-6",children:s?"Show My Chats Only":"Show All Users' Chats"})})]})]})}function zJ(){const{user:e}=Nn(),t=qt();return o.jsx("div",{className:"min-h-screen bg-background flex flex-col",children:o.jsx("div",{className:"flex-1 flex flex-col items-center p-8",children:o.jsxs("div",{className:"w-full max-w-6xl bg-card rounded-lg shadow-lg p-6 border border-border",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsxs(Re,{variant:"outline",size:"sm",onClick:()=>t("/dashboard"),className:"flex items-center gap-2",children:[o.jsx(td,{className:"h-4 w-4"}),"Back to Dashboard"]}),o.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Settings"})]}),(e==null?void 0:e.role)==="admin"&&o.jsxs("div",{className:"mb-6 p-4 bg-muted rounded-lg",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"Admin Tools"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:()=>t("/admin/users"),className:"flex items-center gap-2 px-4 py-2 rounded bg-primary text-primary-foreground hover:opacity-90 transition",children:[o.jsx(Sc,{className:"h-4 w-4"}),"User Management"]}),o.jsxs("button",{onClick:()=>t("/admin/domains"),className:"flex items-center gap-2 px-4 py-2 rounded bg-primary text-primary-foreground hover:opacity-90 transition",children:[o.jsx(zD,{className:"h-4 w-4"}),"Domain Configuration"]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-foreground font-medium mb-1",children:"Theme"}),o.jsxs("select",{className:"w-full p-2 rounded bg-muted text-muted-foreground border border-border",children:[o.jsx("option",{children:"Dark"}),o.jsx("option",{children:"Light"}),o.jsx("option",{children:"System"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-foreground font-medium mb-1",children:"Notifications"}),o.jsx("input",{type:"checkbox",className:"mr-2",checked:!0,readOnly:!0}),o.jsx("span",{className:"text-muted-foreground",children:"Enable notifications (dummy)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-foreground font-medium mb-1",children:"Account"}),o.jsx("button",{className:"px-4 py-2 rounded bg-primary text-primary-foreground hover:opacity-90 transition",children:"Manage Account (dummy)"})]})]})]})})})}const WJ=()=>{const e=qt();return o.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-[#FF7A1A] mb-2 tracking-wide",children:"Smart DRHP Document Assistant"}),o.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-[#3B4656] mb-4",style:{fontWeight:700},children:"AI-powered Document Summaries & Chat"}),o.jsx("p",{className:"text-[#5A6473] text-base md:text-lg max-w-2xl mb-10 text-center",children:"Upload, manage, and interact with your documents effortlessly. Get instant AI-powered summaries and chat with your documents to extract key insights, streamline your workflow, and boost productivity."}),o.jsxs("div",{className:"flex gap-6 mt-2",children:[o.jsx("button",{className:"bg-[#4B2A06] text-white font-semibold px-10 py-4 rounded-xl shadow-lg text-lg transition hover:bg-[#3a2004] focus:outline-none",onClick:()=>e("/login"),children:"Get Started"}),o.jsx("button",{className:"bg-[#F3EFEA] text-[#4B2A06] font-semibold px-10 py-4 rounded-xl text-lg border border-transparent transition hover:bg-[#e7e2db] focus:outline-none",children:"Learn more"})]})]})};var Kd=e=>e.type==="checkbox",yi=e=>e instanceof Date,fr=e=>e==null;const YI=e=>typeof e=="object";var En=e=>!fr(e)&&!Array.isArray(e)&&YI(e)&&!yi(e),qI=e=>En(e)&&e.target?Kd(e.target)?e.target.checked:e.target.value:e,VJ=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,GI=(e,t)=>e.has(VJ(t)),YJ=e=>{const t=e.constructor&&e.constructor.prototype;return En(t)&&t.hasOwnProperty("isPrototypeOf")},$1=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function kn(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!($1&&(e instanceof Blob||r))&&(n||En(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!YJ(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=kn(e[s]));else return e;return t}var Op=e=>/^\w*$/.test(e),an=e=>e===void 0,z1=e=>Array.isArray(e)?e.filter(Boolean):[],W1=e=>z1(e.replace(/["|']|\]/g,"").split(/\.|\[/)),je=(e,t,n)=>{if(!t||!En(e))return n;const r=(Op(t)?[t]:W1(t)).reduce((s,a)=>fr(s)?s:s[a],e);return an(r)||r===e?an(e[t])?n:e[t]:r},Vr=e=>typeof e=="boolean",St=(e,t,n)=>{let r=-1;const s=Op(t)?[t]:W1(t),a=s.length,i=a-1;for(;++r<a;){const l=s[r];let c=n;if(r!==i){const u=e[l];c=En(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const im={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ds={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ta={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},V1=oe.createContext(null);V1.displayName="HookFormContext";const Lp=()=>oe.useContext(V1),qJ=e=>{const{children:t,...n}=e;return oe.createElement(V1.Provider,{value:n},t)};var KI=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const i=a;return t._proxyFormState[i]!==Ds.all&&(t._proxyFormState[i]=!r||Ds.all),n&&(n[i]=!0),e[i]}});return s};const Y1=typeof window<"u"?oe.useLayoutEffect:oe.useEffect;function GJ(e){const t=Lp(),{control:n=t.control,disabled:r,name:s,exact:a}=e||{},[i,l]=oe.useState(n._formState),c=oe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Y1(()=>n._subscribe({name:s,formState:c.current,exact:a,callback:u=>{!r&&l({...n._formState,...u})}}),[s,r,a]),oe.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),oe.useMemo(()=>KI(i,n,c.current,!1),[i,n])}var Kr=e=>typeof e=="string",QI=(e,t,n,r,s)=>Kr(e)?(r&&t.watch.add(e),je(n,e,s)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),je(n,a))):(r&&(t.watchAll=!0),n),ty=e=>fr(e)||!YI(e);function Ia(e,t,n=new WeakSet){if(ty(e)||ty(t))return e===t;if(yi(e)&&yi(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const a of r){const i=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const l=t[a];if(yi(i)&&yi(l)||En(i)&&En(l)||Array.isArray(i)&&Array.isArray(l)?!Ia(i,l,n):i!==l)return!1}}return!0}function KJ(e){const t=Lp(),{control:n=t.control,name:r,defaultValue:s,disabled:a,exact:i,compute:l}=e||{},c=oe.useRef(s),u=oe.useRef(l),d=oe.useRef(void 0);u.current=l;const f=oe.useMemo(()=>n._getWatch(r,c.current),[n,r]),[m,p]=oe.useState(u.current?u.current(f):f);return Y1(()=>n._subscribe({name:r,formState:{values:!0},exact:i,callback:g=>{if(!a){const y=QI(r,n._names,g.values||n._formValues,!1,c.current);if(u.current){const w=u.current(y);Ia(w,d.current)||(p(w),d.current=w)}else p(y)}}}),[n,a,r,i]),oe.useEffect(()=>n._removeUnmounted()),m}function QJ(e){const t=Lp(),{name:n,disabled:r,control:s=t.control,shouldUnregister:a,defaultValue:i}=e,l=GI(s._names.array,n),c=oe.useMemo(()=>je(s._formValues,n,je(s._defaultValues,n,i)),[s,n,i]),u=KJ({control:s,name:n,defaultValue:c,exact:!0}),d=GJ({control:s,name:n,exact:!0}),f=oe.useRef(e),m=oe.useRef(void 0),p=oe.useRef(s.register(n,{...e.rules,value:u,...Vr(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const g=oe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!je(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!je(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!je(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!je(d.validatingFields,n)},error:{enumerable:!0,get:()=>je(d.errors,n)}}),[d,n]),y=oe.useCallback(E=>p.current.onChange({target:{value:qI(E),name:n},type:im.CHANGE}),[n]),w=oe.useCallback(()=>p.current.onBlur({target:{value:je(s._formValues,n),name:n},type:im.BLUR}),[n,s._formValues]),v=oe.useCallback(E=>{const N=je(s._fields,n);N&&E&&(N._f.ref={focus:()=>E.focus&&E.focus(),select:()=>E.select&&E.select(),setCustomValidity:C=>E.setCustomValidity(C),reportValidity:()=>E.reportValidity()})},[s._fields,n]),b=oe.useMemo(()=>({name:n,value:u,...Vr(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:y,onBlur:w,ref:v}),[n,r,d.disabled,y,w,v,u]);return oe.useEffect(()=>{const E=s._options.shouldUnregister||a,N=m.current;N&&N!==n&&!l&&s.unregister(N),s.register(n,{...f.current.rules,...Vr(f.current.disabled)?{disabled:f.current.disabled}:{}});const C=(S,_)=>{const H=je(s._fields,S);H&&H._f&&(H._f.mount=_)};if(C(n,!0),E){const S=kn(je(s._options.defaultValues,n));St(s._defaultValues,n,S),an(je(s._formValues,n))&&St(s._formValues,n,S)}return!l&&s.register(n),m.current=n,()=>{(l?E&&!s._state.action:E)?s.unregister(n):C(n,!1)}},[n,s,l,a]),oe.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),oe.useMemo(()=>({field:b,formState:d,fieldState:g}),[b,d,g])}const XJ=e=>e.render(QJ(e));var XI=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},Lu=e=>Array.isArray(e)?e:[e],aN=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}};function ZI(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const s=e[r],a=t[r];if(s&&En(s)&&a){const i=ZI(s,a);En(i)&&(n[r]=i)}else e[r]&&(n[r]=a)}return n}var Ir=e=>En(e)&&!Object.keys(e).length,q1=e=>e.type==="file",Os=e=>typeof e=="function",lm=e=>{if(!$1)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},JI=e=>e.type==="select-multiple",G1=e=>e.type==="radio",ZJ=e=>G1(e)||Kd(e),a0=e=>lm(e)&&e.isConnected;function JJ(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=an(e)?r++:e[t[r++]];return e}function eee(e){for(const t in e)if(e.hasOwnProperty(t)&&!an(e[t]))return!1;return!0}function pn(e,t){const n=Array.isArray(t)?t:Op(t)?[t]:W1(t),r=n.length===1?e:JJ(e,n),s=n.length-1,a=n[s];return r&&delete r[a],s!==0&&(En(r)&&Ir(r)||Array.isArray(r)&&eee(r))&&pn(e,n.slice(0,-1)),e}var tee=e=>{for(const t in e)if(Os(e[t]))return!0;return!1};function eR(e){return Array.isArray(e)||En(e)&&!tee(e)}function ny(e,t={}){for(const n in e)eR(e[n])?(t[n]=Array.isArray(e[n])?[]:{},ny(e[n],t[n])):fr(e[n])||(t[n]=!0);return t}function hl(e,t,n){n||(n=ny(t));for(const r in e)eR(e[r])?an(t)||ty(n[r])?n[r]=ny(e[r],Array.isArray(e[r])?[]:{}):hl(e[r],fr(t)?{}:t[r],n[r]):n[r]=!Ia(e[r],t[r]);return n}const oN={value:!1,isValid:!1},iN={value:!0,isValid:!0};var tR=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!an(e[0].attributes.value)?an(e[0].value)||e[0].value===""?iN:{value:e[0].value,isValid:!0}:iN:oN}return oN},nR=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>an(e)?e:t?e===""?NaN:e&&+e:n&&Kr(e)?new Date(e):r?r(e):e;const lN={isValid:!1,value:null};var rR=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,lN):lN;function cN(e){const t=e.ref;return q1(t)?t.files:G1(t)?rR(e.refs).value:JI(t)?[...t.selectedOptions].map(({value:n})=>n):Kd(t)?tR(e.refs).value:nR(an(t.value)?e.ref.value:t.value,e)}var nee=(e,t,n,r)=>{const s={};for(const a of e){const i=je(t,a);i&&St(s,a,i._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},cm=e=>e instanceof RegExp,ou=e=>an(e)?e:cm(e)?e.source:En(e)?cm(e.value)?e.value.source:e.value:e,uN=e=>({isOnSubmit:!e||e===Ds.onSubmit,isOnBlur:e===Ds.onBlur,isOnChange:e===Ds.onChange,isOnAll:e===Ds.all,isOnTouch:e===Ds.onTouched});const dN="AsyncFunction";var ree=e=>!!e&&!!e.validate&&!!(Os(e.validate)&&e.validate.constructor.name===dN||En(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===dN)),see=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),fN=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Mu=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const a=je(e,s);if(a){const{_f:i,...l}=a;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],s)&&!r)return!0;if(i.ref&&t(i.ref,i.name)&&!r)return!0;if(Mu(l,t))break}else if(En(l)&&Mu(l,t))break}}};function hN(e,t,n){const r=je(e,n);if(r||Op(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const a=s.join("."),i=je(t,a),l=je(e,a);if(i&&!Array.isArray(i)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};s.pop()}return{name:n}}var aee=(e,t,n,r)=>{n(e);const{name:s,...a}=e;return Ir(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(i=>t[i]===(!r||Ds.all))},oee=(e,t,n)=>!e||!t||e===t||Lu(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),iee=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,lee=(e,t)=>!z1(je(e,t)).length&&pn(e,t),cee=(e,t,n)=>{const r=Lu(je(e,n));return St(r,"root",t[n]),St(e,n,r),e};function mN(e,t,n="validate"){if(Kr(e)||Array.isArray(e)&&e.every(Kr)||Vr(e)&&!e)return{type:n,message:Kr(e)?e:"",ref:t}}var dl=e=>En(e)&&!cm(e)?e:{value:e,message:""},pN=async(e,t,n,r,s,a)=>{const{ref:i,refs:l,required:c,maxLength:u,minLength:d,min:f,max:m,pattern:p,validate:g,name:y,valueAsNumber:w,mount:v}=e._f,b=je(n,y);if(!v||t.has(y))return{};const E=l?l[0]:i,N=I=>{s&&E.reportValidity&&(E.setCustomValidity(Vr(I)?"":I||""),E.reportValidity())},C={},S=G1(i),_=Kd(i),H=S||_,V=(w||q1(i))&&an(i.value)&&an(b)||lm(i)&&i.value===""||b===""||Array.isArray(b)&&!b.length,k=XI.bind(null,y,r,C),$=(I,Y,P,L=Ta.maxLength,M=Ta.minLength)=>{const K=I?Y:P;C[y]={type:I?L:M,message:K,ref:i,...k(I?L:M,K)}};if(a?!Array.isArray(b)||!b.length:c&&(!H&&(V||fr(b))||Vr(b)&&!b||_&&!tR(l).isValid||S&&!rR(l).isValid)){const{value:I,message:Y}=Kr(c)?{value:!!c,message:c}:dl(c);if(I&&(C[y]={type:Ta.required,message:Y,ref:E,...k(Ta.required,Y)},!r))return N(Y),C}if(!V&&(!fr(f)||!fr(m))){let I,Y;const P=dl(m),L=dl(f);if(!fr(b)&&!isNaN(b)){const M=i.valueAsNumber||b&&+b;fr(P.value)||(I=M>P.value),fr(L.value)||(Y=M<L.value)}else{const M=i.valueAsDate||new Date(b),K=T=>new Date(new Date().toDateString()+" "+T),F=i.type=="time",D=i.type=="week";Kr(P.value)&&b&&(I=F?K(b)>K(P.value):D?b>P.value:M>new Date(P.value)),Kr(L.value)&&b&&(Y=F?K(b)<K(L.value):D?b<L.value:M<new Date(L.value))}if((I||Y)&&($(!!I,P.message,L.message,Ta.max,Ta.min),!r))return N(C[y].message),C}if((u||d)&&!V&&(Kr(b)||a&&Array.isArray(b))){const I=dl(u),Y=dl(d),P=!fr(I.value)&&b.length>+I.value,L=!fr(Y.value)&&b.length<+Y.value;if((P||L)&&($(P,I.message,Y.message),!r))return N(C[y].message),C}if(p&&!V&&Kr(b)){const{value:I,message:Y}=dl(p);if(cm(I)&&!b.match(I)&&(C[y]={type:Ta.pattern,message:Y,ref:i,...k(Ta.pattern,Y)},!r))return N(Y),C}if(g){if(Os(g)){const I=await g(b,n),Y=mN(I,E);if(Y&&(C[y]={...Y,...k(Ta.validate,Y.message)},!r))return N(Y.message),C}else if(En(g)){let I={};for(const Y in g){if(!Ir(I)&&!r)break;const P=mN(await g[Y](b,n),E,Y);P&&(I={...P,...k(Y,P.message)},N(P.message),r&&(C[y]=I))}if(!Ir(I)&&(C[y]={ref:E,...I},!r))return C}}return N(!0),C};const uee={mode:Ds.onSubmit,reValidateMode:Ds.onChange,shouldFocusError:!0};function dee(e={}){let t={...uee,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Os(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},s=En(t.defaultValues)||En(t.values)?kn(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:kn(s),i={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const m={array:aN(),state:aN()},p=t.criteriaMode===Ds.all,g=U=>X=>{clearTimeout(u),u=setTimeout(U,X)},y=async U=>{if(!t.disabled&&(d.isValid||f.isValid||U)){const X=t.resolver?Ir((await _()).errors):await V(r,!0);X!==n.isValid&&m.state.next({isValid:X})}},w=(U,X)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((U||Array.from(l.mount)).forEach(le=>{le&&(X?St(n.validatingFields,le,X):pn(n.validatingFields,le))}),m.state.next({validatingFields:n.validatingFields,isValidating:!Ir(n.validatingFields)}))},v=(U,X=[],le,Ee,Te=!0,me=!0)=>{if(Ee&&le&&!t.disabled){if(i.action=!0,me&&Array.isArray(je(r,U))){const q=le(je(r,U),Ee.argA,Ee.argB);Te&&St(r,U,q)}if(me&&Array.isArray(je(n.errors,U))){const q=le(je(n.errors,U),Ee.argA,Ee.argB);Te&&St(n.errors,U,q),lee(n.errors,U)}if((d.touchedFields||f.touchedFields)&&me&&Array.isArray(je(n.touchedFields,U))){const q=le(je(n.touchedFields,U),Ee.argA,Ee.argB);Te&&St(n.touchedFields,U,q)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=hl(s,a)),m.state.next({name:U,isDirty:$(U,X),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else St(a,U,X)},b=(U,X)=>{St(n.errors,U,X),m.state.next({errors:n.errors})},E=U=>{n.errors=U,m.state.next({errors:n.errors,isValid:!1})},N=(U,X,le,Ee)=>{const Te=je(r,U);if(Te){const me=je(a,U,an(le)?je(s,U):le);an(me)||Ee&&Ee.defaultChecked||X?St(a,U,X?me:cN(Te._f)):P(U,me),i.mount&&y()}},C=(U,X,le,Ee,Te)=>{let me=!1,q=!1;const ue={name:U};if(!t.disabled){if(!le||Ee){(d.isDirty||f.isDirty)&&(q=n.isDirty,n.isDirty=ue.isDirty=$(),me=q!==ue.isDirty);const ve=Ia(je(s,U),X);q=!!je(n.dirtyFields,U),ve?pn(n.dirtyFields,U):St(n.dirtyFields,U,!0),ue.dirtyFields=n.dirtyFields,me=me||(d.dirtyFields||f.dirtyFields)&&q!==!ve}if(le){const ve=je(n.touchedFields,U);ve||(St(n.touchedFields,U,le),ue.touchedFields=n.touchedFields,me=me||(d.touchedFields||f.touchedFields)&&ve!==le)}me&&Te&&m.state.next(ue)}return me?ue:{}},S=(U,X,le,Ee)=>{const Te=je(n.errors,U),me=(d.isValid||f.isValid)&&Vr(X)&&n.isValid!==X;if(t.delayError&&le?(c=g(()=>b(U,le)),c(t.delayError)):(clearTimeout(u),c=null,le?St(n.errors,U,le):pn(n.errors,U)),(le?!Ia(Te,le):Te)||!Ir(Ee)||me){const q={...Ee,...me&&Vr(X)?{isValid:X}:{},errors:n.errors,name:U};n={...n,...q},m.state.next(q)}},_=async U=>{w(U,!0);const X=await t.resolver(a,t.context,nee(U||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return w(U),X},H=async U=>{const{errors:X}=await _(U);if(U)for(const le of U){const Ee=je(X,le);Ee?St(n.errors,le,Ee):pn(n.errors,le)}else n.errors=X;return X},V=async(U,X,le={valid:!0})=>{for(const Ee in U){const Te=U[Ee];if(Te){const{_f:me,...q}=Te;if(me){const ue=l.array.has(me.name),ve=Te._f&&ree(Te._f);ve&&d.validatingFields&&w([me.name],!0);const Fe=await pN(Te,l.disabled,a,p,t.shouldUseNativeValidation&&!X,ue);if(ve&&d.validatingFields&&w([me.name]),Fe[me.name]&&(le.valid=!1,X))break;!X&&(je(Fe,me.name)?ue?cee(n.errors,Fe,me.name):St(n.errors,me.name,Fe[me.name]):pn(n.errors,me.name))}!Ir(q)&&await V(q,X,le)}}return le.valid},k=()=>{for(const U of l.unMount){const X=je(r,U);X&&(X._f.refs?X._f.refs.every(le=>!a0(le)):!a0(X._f.ref))&&J(U)}l.unMount=new Set},$=(U,X)=>!t.disabled&&(U&&X&&St(a,U,X),!Ia(T(),s)),I=(U,X,le)=>QI(U,l,{...i.mount?a:an(X)?s:Kr(U)?{[U]:X}:X},le,X),Y=U=>z1(je(i.mount?a:s,U,t.shouldUnregister?je(s,U,[]):[])),P=(U,X,le={})=>{const Ee=je(r,U);let Te=X;if(Ee){const me=Ee._f;me&&(!me.disabled&&St(a,U,nR(X,me)),Te=lm(me.ref)&&fr(X)?"":X,JI(me.ref)?[...me.ref.options].forEach(q=>q.selected=Te.includes(q.value)):me.refs?Kd(me.ref)?me.refs.forEach(q=>{(!q.defaultChecked||!q.disabled)&&(Array.isArray(Te)?q.checked=!!Te.find(ue=>ue===q.value):q.checked=Te===q.value||!!Te)}):me.refs.forEach(q=>q.checked=q.value===Te):q1(me.ref)?me.ref.value="":(me.ref.value=Te,me.ref.type||m.state.next({name:U,values:kn(a)})))}(le.shouldDirty||le.shouldTouch)&&C(U,Te,le.shouldTouch,le.shouldDirty,!0),le.shouldValidate&&D(U)},L=(U,X,le)=>{for(const Ee in X){if(!X.hasOwnProperty(Ee))return;const Te=X[Ee],me=U+"."+Ee,q=je(r,me);(l.array.has(U)||En(Te)||q&&!q._f)&&!yi(Te)?L(me,Te,le):P(me,Te,le)}},M=(U,X,le={})=>{const Ee=je(r,U),Te=l.array.has(U),me=kn(X);St(a,U,me),Te?(m.array.next({name:U,values:kn(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&le.shouldDirty&&m.state.next({name:U,dirtyFields:hl(s,a),isDirty:$(U,me)})):Ee&&!Ee._f&&!fr(me)?L(U,me,le):P(U,me,le),fN(U,l)&&m.state.next({...n,name:U}),m.state.next({name:i.mount?U:void 0,values:kn(a)})},K=async U=>{i.mount=!0;const X=U.target;let le=X.name,Ee=!0;const Te=je(r,le),me=ve=>{Ee=Number.isNaN(ve)||yi(ve)&&isNaN(ve.getTime())||Ia(ve,je(a,le,ve))},q=uN(t.mode),ue=uN(t.reValidateMode);if(Te){let ve,Fe;const Je=X.type?cN(Te._f):qI(U),_t=U.type===im.BLUR||U.type===im.FOCUS_OUT,Tn=!see(Te._f)&&!t.resolver&&!je(n.errors,le)&&!Te._f.deps||iee(_t,je(n.touchedFields,le),n.isSubmitted,ue,q),Pt=fN(le,l,_t);St(a,le,Je),_t?(!X||!X.readOnly)&&(Te._f.onBlur&&Te._f.onBlur(U),c&&c(0)):Te._f.onChange&&Te._f.onChange(U);const Lt=C(le,Je,_t),jn=!Ir(Lt)||Pt;if(!_t&&m.state.next({name:le,type:U.type,values:kn(a)}),Tn)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?_t&&y():_t||y()),jn&&m.state.next({name:le,...Pt?{}:Lt});if(!_t&&Pt&&m.state.next({...n}),t.resolver){const{errors:Et}=await _([le]);if(me(Je),Ee){const Gt=hN(n.errors,r,le),Kt=hN(Et,r,Gt.name||le);ve=Kt.error,le=Kt.name,Fe=Ir(Et)}}else w([le],!0),ve=(await pN(Te,l.disabled,a,p,t.shouldUseNativeValidation))[le],w([le]),me(Je),Ee&&(ve?Fe=!1:(d.isValid||f.isValid)&&(Fe=await V(r,!0)));Ee&&(Te._f.deps&&(!Array.isArray(Te._f.deps)||Te._f.deps.length>0)&&D(Te._f.deps),S(le,Fe,ve,Lt))}},F=(U,X)=>{if(je(n.errors,X)&&U.focus)return U.focus(),1},D=async(U,X={})=>{let le,Ee;const Te=Lu(U);if(t.resolver){const me=await H(an(U)?U:Te);le=Ir(me),Ee=U?!Te.some(q=>je(me,q)):le}else U?(Ee=(await Promise.all(Te.map(async me=>{const q=je(r,me);return await V(q&&q._f?{[me]:q}:q)}))).every(Boolean),!(!Ee&&!n.isValid)&&y()):Ee=le=await V(r);return m.state.next({...!Kr(U)||(d.isValid||f.isValid)&&le!==n.isValid?{}:{name:U},...t.resolver||!U?{isValid:le}:{},errors:n.errors}),X.shouldFocus&&!Ee&&Mu(r,F,U?Te:l.mount),Ee},T=(U,X)=>{let le={...i.mount?a:s};return X&&(le=ZI(X.dirtyFields?n.dirtyFields:n.touchedFields,le)),an(U)?le:Kr(U)?je(le,U):U.map(Ee=>je(le,Ee))},G=(U,X)=>({invalid:!!je((X||n).errors,U),isDirty:!!je((X||n).dirtyFields,U),error:je((X||n).errors,U),isValidating:!!je(n.validatingFields,U),isTouched:!!je((X||n).touchedFields,U)}),ne=U=>{U&&Lu(U).forEach(X=>pn(n.errors,X)),m.state.next({errors:U?n.errors:{}})},A=(U,X,le)=>{const Ee=(je(r,U,{_f:{}})._f||{}).ref,Te=je(n.errors,U)||{},{ref:me,message:q,type:ue,...ve}=Te;St(n.errors,U,{...ve,...X,ref:Ee}),m.state.next({name:U,errors:n.errors,isValid:!1}),le&&le.shouldFocus&&Ee&&Ee.focus&&Ee.focus()},W=(U,X)=>Os(U)?m.state.subscribe({next:le=>"values"in le&&U(I(void 0,X),le)}):I(U,X,!0),z=U=>m.state.subscribe({next:X=>{oee(U.name,X.name,U.exact)&&aee(X,U.formState||d,Ce,U.reRenderRoot)&&U.callback({values:{...a},...n,...X,defaultValues:s})}}).unsubscribe,ae=U=>(i.mount=!0,f={...f,...U.formState},z({...U,formState:f})),J=(U,X={})=>{for(const le of U?Lu(U):l.mount)l.mount.delete(le),l.array.delete(le),X.keepValue||(pn(r,le),pn(a,le)),!X.keepError&&pn(n.errors,le),!X.keepDirty&&pn(n.dirtyFields,le),!X.keepTouched&&pn(n.touchedFields,le),!X.keepIsValidating&&pn(n.validatingFields,le),!t.shouldUnregister&&!X.keepDefaultValue&&pn(s,le);m.state.next({values:kn(a)}),m.state.next({...n,...X.keepDirty?{isDirty:$()}:{}}),!X.keepIsValid&&y()},ce=({disabled:U,name:X})=>{(Vr(U)&&i.mount||U||l.disabled.has(X))&&(U?l.disabled.add(X):l.disabled.delete(X))},xe=(U,X={})=>{let le=je(r,U);const Ee=Vr(X.disabled)||Vr(t.disabled);return St(r,U,{...le||{},_f:{...le&&le._f?le._f:{ref:{name:U}},name:U,mount:!0,...X}}),l.mount.add(U),le?ce({disabled:Vr(X.disabled)?X.disabled:t.disabled,name:U}):N(U,!0,X.value),{...Ee?{disabled:X.disabled||t.disabled}:{},...t.progressive?{required:!!X.required,min:ou(X.min),max:ou(X.max),minLength:ou(X.minLength),maxLength:ou(X.maxLength),pattern:ou(X.pattern)}:{},name:U,onChange:K,onBlur:K,ref:Te=>{if(Te){xe(U,X),le=je(r,U);const me=an(Te.value)&&Te.querySelectorAll&&Te.querySelectorAll("input,select,textarea")[0]||Te,q=ZJ(me),ue=le._f.refs||[];if(q?ue.find(ve=>ve===me):me===le._f.ref)return;St(r,U,{_f:{...le._f,...q?{refs:[...ue.filter(a0),me,...Array.isArray(je(s,U))?[{}]:[]],ref:{type:me.type,name:U}}:{ref:me}}}),N(U,!1,void 0,me)}else le=je(r,U,{}),le._f&&(le._f.mount=!1),(t.shouldUnregister||X.shouldUnregister)&&!(GI(l.array,U)&&i.action)&&l.unMount.add(U)}}},re=()=>t.shouldFocusError&&Mu(r,F,l.mount),_e=U=>{Vr(U)&&(m.state.next({disabled:U}),Mu(r,(X,le)=>{const Ee=je(r,le);Ee&&(X.disabled=Ee._f.disabled||U,Array.isArray(Ee._f.refs)&&Ee._f.refs.forEach(Te=>{Te.disabled=Ee._f.disabled||U}))},0,!1))},Ie=(U,X)=>async le=>{let Ee;le&&(le.preventDefault&&le.preventDefault(),le.persist&&le.persist());let Te=kn(a);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:me,values:q}=await _();n.errors=me,Te=kn(q)}else await V(r);if(l.disabled.size)for(const me of l.disabled)pn(Te,me);if(pn(n.errors,"root"),Ir(n.errors)){m.state.next({errors:{}});try{await U(Te,le)}catch(me){Ee=me}}else X&&await X({...n.errors},le),re(),setTimeout(re);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ir(n.errors)&&!Ee,submitCount:n.submitCount+1,errors:n.errors}),Ee)throw Ee},Xe=(U,X={})=>{je(r,U)&&(an(X.defaultValue)?M(U,kn(je(s,U))):(M(U,X.defaultValue),St(s,U,kn(X.defaultValue))),X.keepTouched||pn(n.touchedFields,U),X.keepDirty||(pn(n.dirtyFields,U),n.isDirty=X.defaultValue?$(U,kn(je(s,U))):$()),X.keepError||(pn(n.errors,U),d.isValid&&y()),m.state.next({...n}))},tt=(U,X={})=>{const le=U?kn(U):s,Ee=kn(le),Te=Ir(U),me=Te?s:Ee;if(X.keepDefaultValues||(s=le),!X.keepValues){if(X.keepDirtyValues){const q=new Set([...l.mount,...Object.keys(hl(s,a))]);for(const ue of Array.from(q))je(n.dirtyFields,ue)?St(me,ue,je(a,ue)):M(ue,je(me,ue))}else{if($1&&an(U))for(const q of l.mount){const ue=je(r,q);if(ue&&ue._f){const ve=Array.isArray(ue._f.refs)?ue._f.refs[0]:ue._f.ref;if(lm(ve)){const Fe=ve.closest("form");if(Fe){Fe.reset();break}}}}if(X.keepFieldsRef)for(const q of l.mount)M(q,je(me,q));else r={}}a=t.shouldUnregister?X.keepDefaultValues?kn(s):{}:kn(me),m.array.next({values:{...me}}),m.state.next({values:{...me}})}l={mount:X.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!d.isValid||!!X.keepIsValid||!!X.keepDirtyValues,i.watch=!!t.shouldUnregister,m.state.next({submitCount:X.keepSubmitCount?n.submitCount:0,isDirty:Te?!1:X.keepDirty?n.isDirty:!!(X.keepDefaultValues&&!Ia(U,s)),isSubmitted:X.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Te?{}:X.keepDirtyValues?X.keepDefaultValues&&a?hl(s,a):n.dirtyFields:X.keepDefaultValues&&U?hl(s,U):X.keepDirty?n.dirtyFields:{},touchedFields:X.keepTouched?n.touchedFields:{},errors:X.keepErrors?n.errors:{},isSubmitSuccessful:X.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Ut=(U,X)=>tt(Os(U)?U(a):U,X),ye=(U,X={})=>{const le=je(r,U),Ee=le&&le._f;if(Ee){const Te=Ee.refs?Ee.refs[0]:Ee.ref;Te.focus&&(Te.focus(),X.shouldSelect&&Os(Te.select)&&Te.select())}},Ce=U=>{n={...n,...U}},Ge={control:{register:xe,unregister:J,getFieldState:G,handleSubmit:Ie,setError:A,_subscribe:z,_runSchema:_,_focusError:re,_getWatch:I,_getDirty:$,_setValid:y,_setFieldArray:v,_setDisabledField:ce,_setErrors:E,_getFieldArray:Y,_reset:tt,_resetDefaultValues:()=>Os(t.defaultValues)&&t.defaultValues().then(U=>{Ut(U,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:k,_disableForm:_e,_subjects:m,_proxyFormState:d,get _fields(){return r},get _formValues(){return a},get _state(){return i},set _state(U){i=U},get _defaultValues(){return s},get _names(){return l},set _names(U){l=U},get _formState(){return n},get _options(){return t},set _options(U){t={...t,...U}}},subscribe:ae,trigger:D,register:xe,handleSubmit:Ie,watch:W,setValue:M,getValues:T,reset:Ut,resetField:Xe,clearErrors:ne,unregister:J,setError:A,setFocus:ye,getFieldState:G};return{...Ge,formControl:Ge}}function zo(e={}){const t=oe.useRef(void 0),n=oe.useRef(void 0),[r,s]=oe.useState({isDirty:!1,isValidating:!1,isLoading:Os(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Os(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!Os(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:i,...l}=dee(e);t.current={...l,formState:r}}const a=t.current.control;return a._options=e,Y1(()=>{const i=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),a._formState.isReady=!0,i},[a]),oe.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),oe.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),oe.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),oe.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),oe.useEffect(()=>{if(a._proxyFormState.isDirty){const i=a._getDirty();i!==r.isDirty&&a._subjects.state.next({isDirty:i})}},[a,r.isDirty]),oe.useEffect(()=>{e.values&&!Ia(e.values,n.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),n.current=e.values,s(i=>({...i}))):a._resetDefaultValues()},[a,e.values]),oe.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=KI(r,a),t.current}const gN=(e,t,n)=>{if(e&&"reportValidity"in e){const r=je(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},sR=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?gN(r.ref,n,e):r.refs&&r.refs.forEach(s=>gN(s,n,e))}},fee=(e,t)=>{t.shouldUseNativeValidation&&sR(e,t);const n={};for(const r in e){const s=je(t.fields,r),a=Object.assign(e[r]||{},{ref:s&&s.ref});if(hee(t.names||Object.keys(e),r)){const i=Object.assign({},je(n,r));St(i,"root",a),St(n,r,i)}else St(n,r,a)}return n},hee=(e,t)=>e.some(n=>n.startsWith(t+"."));var mee=function(e,t){for(var n={};e.length;){var r=e[0],s=r.code,a=r.message,i=r.path.join(".");if(!n[i])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[i]={message:l.message,type:l.code}}else n[i]={message:a,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=n[i].types,u=c&&c[r.code];n[i]=XI(i,t,n,s,u?[].concat(u,r.message):r.message)}e.shift()}return n},Wo=function(e,t,n){return n===void 0&&(n={}),function(r,s,a){try{return Promise.resolve(function(i,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(u){return a.shouldUseNativeValidation&&sR({},a),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(i){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(i))return{values:{},errors:fee(mee(i.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw i}))}catch(i){return Promise.reject(i)}}},wt;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const a={};for(const i of s)a[i]=i;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),i={};for(const l of a)i[l]=s[l];return e.objectValues(i)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&a.push(i);return a},e.find=(s,a)=>{for(const i of s)if(a(i))return i},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,a=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}e.joinValues=r,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(wt||(wt={}));var xN;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(xN||(xN={}));const Le=wt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),oo=e=>{switch(typeof e){case"undefined":return Le.undefined;case"string":return Le.string;case"number":return Number.isNaN(e)?Le.nan:Le.number;case"boolean":return Le.boolean;case"function":return Le.function;case"bigint":return Le.bigint;case"symbol":return Le.symbol;case"object":return Array.isArray(e)?Le.array:e===null?Le.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Le.promise:typeof Map<"u"&&e instanceof Map?Le.map:typeof Set<"u"&&e instanceof Set?Le.set:typeof Date<"u"&&e instanceof Date?Le.date:Le.object;default:return Le.unknown}},Ne=wt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class za extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(a){return a.message},r={_errors:[]},s=a=>{for(const i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)r._errors.push(n(i));else{let l=r,c=0;for(;c<i.path.length;){const u=i.path[c];c===i.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(i))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),r}static assert(t){if(!(t instanceof za))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,wt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];n[a]=n[a]||[],n[a].push(t(s))}else r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}za.create=e=>new za(e);const ry=(e,t)=>{let n;switch(e.code){case Ne.invalid_type:e.received===Le.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Ne.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,wt.jsonStringifyReplacer)}`;break;case Ne.unrecognized_keys:n=`Unrecognized key(s) in object: ${wt.joinValues(e.keys,", ")}`;break;case Ne.invalid_union:n="Invalid input";break;case Ne.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${wt.joinValues(e.options)}`;break;case Ne.invalid_enum_value:n=`Invalid enum value. Expected ${wt.joinValues(e.options)}, received '${e.received}'`;break;case Ne.invalid_arguments:n="Invalid function arguments";break;case Ne.invalid_return_type:n="Invalid function return type";break;case Ne.invalid_date:n="Invalid date";break;case Ne.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:wt.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Ne.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Ne.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Ne.custom:n="Invalid input";break;case Ne.invalid_intersection_types:n="Intersection results could not be merged";break;case Ne.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Ne.not_finite:n="Number must be finite";break;default:n=t.defaultError,wt.assertNever(e)}return{message:n}};let pee=ry;function gee(){return pee}const xee=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,a=[...n,...s.path||[]],i={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(i,{data:t,defaultError:l}).message;return{...s,path:a,message:l}};function Pe(e,t){const n=gee(),r=xee({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===ry?void 0:ry].filter(s=>!!s)});e.common.issues.push(r)}class rs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return Ke;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const a=await s.key,i=await s.value;r.push({key:a,value:i})}return rs.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:a,value:i}=s;if(a.status==="aborted"||i.status==="aborted")return Ke;a.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(r[a.value]=i.value)}return{status:t.value,value:r}}}const Ke=Object.freeze({status:"aborted"}),xu=e=>({status:"dirty",value:e}),Es=e=>({status:"valid",value:e}),yN=e=>e.status==="aborted",bN=e=>e.status==="dirty",xc=e=>e.status==="valid",um=e=>typeof Promise<"u"&&e instanceof Promise;var Me;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Me||(Me={}));class Vo{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const vN=(e,t)=>{if(xc(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new za(e.common.issues);return this._error=n,this._error}}};function lt(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(i,l)=>{const{message:c}=e;return i.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:i.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:s}}class vt{get description(){return this._def.description}_getType(t){return oo(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:oo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new rs,ctx:{common:t.parent.common,data:t.data,parsedType:oo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(um(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:oo(t)},s=this._parseSync({data:t,path:r.path,parent:r});return vN(r,s)}"~validate"(t){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:oo(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:n});return xc(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(s=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(a=>xc(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:oo(t)},s=this._parse({data:t,path:r.path,parent:r}),a=await(um(s)?s:Promise.resolve(s));return vN(r,a)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,a)=>{const i=t(s),l=()=>a.addIssue({code:Ne.custom,...r(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(l(),!1)):i?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new bc({schema:this,typeName:Qe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Do.create(this,this._def)}nullable(){return vc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ha.create(this)}promise(){return mm.create(this,this._def)}or(t){return fm.create([this,t],this._def)}and(t){return hm.create(this,t,this._def)}transform(t){return new bc({...lt(this._def),schema:this,typeName:Qe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new ay({...lt(this._def),innerType:this,defaultValue:n,typeName:Qe.ZodDefault})}brand(){return new Uee({typeName:Qe.ZodBranded,type:this,...lt(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new oy({...lt(this._def),innerType:this,catchValue:n,typeName:Qe.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return K1.create(this,t)}readonly(){return iy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const yee=/^c[^\s-]{8,}$/i,bee=/^[0-9a-z]+$/,vee=/^[0-9A-HJKMNP-TV-Z]{26}$/i,wee=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Eee=/^[a-z0-9_-]{21}$/i,Nee=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Tee=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,See=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,kee="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let o0;const Cee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Aee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,_ee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,jee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Iee=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Ree=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,aR="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Pee=new RegExp(`^${aR}$`);function oR(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function Dee(e){return new RegExp(`^${oR(e)}$`)}function Oee(e){let t=`${aR}T${oR(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Lee(e,t){return!!((t==="v4"||!t)&&Cee.test(e)||(t==="v6"||!t)&&_ee.test(e))}function Mee(e,t){if(!Nee.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function Fee(e,t){return!!((t==="v4"||!t)&&Aee.test(e)||(t==="v6"||!t)&&jee.test(e))}class vo extends vt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Le.string){const a=this._getOrReturnCtx(t);return Pe(a,{code:Ne.invalid_type,expected:Le.string,received:a.parsedType}),Ke}const r=new rs;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),Pe(s,{code:Ne.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),Pe(s,{code:Ne.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const i=t.data.length>a.value,l=t.data.length<a.value;(i||l)&&(s=this._getOrReturnCtx(t,s),i?Pe(s,{code:Ne.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Pe(s,{code:Ne.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")See.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"email",code:Ne.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")o0||(o0=new RegExp(kee,"u")),o0.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"emoji",code:Ne.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")wee.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"uuid",code:Ne.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")Eee.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"nanoid",code:Ne.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")yee.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"cuid",code:Ne.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")bee.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"cuid2",code:Ne.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")vee.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"ulid",code:Ne.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Pe(s,{validation:"url",code:Ne.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"regex",code:Ne.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),Pe(s,{code:Ne.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),Pe(s,{code:Ne.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),Pe(s,{code:Ne.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?Oee(a).test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{code:Ne.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?Pee.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{code:Ne.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?Dee(a).test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{code:Ne.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?Tee.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"duration",code:Ne.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?Lee(t.data,a.version)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"ip",code:Ne.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?Mee(t.data,a.alg)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"jwt",code:Ne.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?Fee(t.data,a.version)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"cidr",code:Ne.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?Iee.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"base64",code:Ne.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?Ree.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"base64url",code:Ne.invalid_string,message:a.message}),r.dirty()):wt.assertNever(a);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:Ne.invalid_string,...Me.errToObj(r)})}_addCheck(t){return new vo({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Me.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Me.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Me.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Me.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Me.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Me.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Me.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Me.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Me.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Me.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Me.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Me.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Me.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Me.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Me.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Me.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Me.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Me.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Me.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Me.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Me.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Me.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Me.errToObj(n)})}nonempty(t){return this.min(1,Me.errToObj(t))}trim(){return new vo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new vo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new vo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}vo.create=e=>new vo({checks:[],typeName:Qe.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...lt(e)});function Bee(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,a=Number.parseInt(e.toFixed(s).replace(".","")),i=Number.parseInt(t.toFixed(s).replace(".",""));return a%i/10**s}class yd extends vt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Le.number){const a=this._getOrReturnCtx(t);return Pe(a,{code:Ne.invalid_type,expected:Le.number,received:a.parsedType}),Ke}let r;const s=new rs;for(const a of this._def.checks)a.kind==="int"?wt.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Pe(r,{code:Ne.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Pe(r,{code:Ne.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Pe(r,{code:Ne.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?Bee(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),Pe(r,{code:Ne.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Pe(r,{code:Ne.not_finite,message:a.message}),s.dirty()):wt.assertNever(a);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Me.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Me.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Me.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Me.toString(n))}setLimit(t,n,r,s){return new yd({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Me.toString(s)}]})}_addCheck(t){return new yd({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Me.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Me.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Me.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Me.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Me.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Me.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Me.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Me.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Me.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&wt.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}yd.create=e=>new yd({checks:[],typeName:Qe.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...lt(e)});class bd extends vt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Le.bigint)return this._getInvalidInput(t);let r;const s=new rs;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Pe(r,{code:Ne.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Pe(r,{code:Ne.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Pe(r,{code:Ne.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):wt.assertNever(a);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return Pe(n,{code:Ne.invalid_type,expected:Le.bigint,received:n.parsedType}),Ke}gte(t,n){return this.setLimit("min",t,!0,Me.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Me.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Me.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Me.toString(n))}setLimit(t,n,r,s){return new bd({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Me.toString(s)}]})}_addCheck(t){return new bd({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Me.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Me.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Me.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Me.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Me.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}bd.create=e=>new bd({checks:[],typeName:Qe.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...lt(e)});class wN extends vt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Le.boolean){const r=this._getOrReturnCtx(t);return Pe(r,{code:Ne.invalid_type,expected:Le.boolean,received:r.parsedType}),Ke}return Es(t.data)}}wN.create=e=>new wN({typeName:Qe.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...lt(e)});class dm extends vt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Le.date){const a=this._getOrReturnCtx(t);return Pe(a,{code:Ne.invalid_type,expected:Le.date,received:a.parsedType}),Ke}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return Pe(a,{code:Ne.invalid_date}),Ke}const r=new rs;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),Pe(s,{code:Ne.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),Pe(s,{code:Ne.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):wt.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new dm({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Me.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Me.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}dm.create=e=>new dm({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Qe.ZodDate,...lt(e)});class EN extends vt{_parse(t){if(this._getType(t)!==Le.symbol){const r=this._getOrReturnCtx(t);return Pe(r,{code:Ne.invalid_type,expected:Le.symbol,received:r.parsedType}),Ke}return Es(t.data)}}EN.create=e=>new EN({typeName:Qe.ZodSymbol,...lt(e)});class NN extends vt{_parse(t){if(this._getType(t)!==Le.undefined){const r=this._getOrReturnCtx(t);return Pe(r,{code:Ne.invalid_type,expected:Le.undefined,received:r.parsedType}),Ke}return Es(t.data)}}NN.create=e=>new NN({typeName:Qe.ZodUndefined,...lt(e)});class TN extends vt{_parse(t){if(this._getType(t)!==Le.null){const r=this._getOrReturnCtx(t);return Pe(r,{code:Ne.invalid_type,expected:Le.null,received:r.parsedType}),Ke}return Es(t.data)}}TN.create=e=>new TN({typeName:Qe.ZodNull,...lt(e)});class SN extends vt{constructor(){super(...arguments),this._any=!0}_parse(t){return Es(t.data)}}SN.create=e=>new SN({typeName:Qe.ZodAny,...lt(e)});class kN extends vt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Es(t.data)}}kN.create=e=>new kN({typeName:Qe.ZodUnknown,...lt(e)});class Yo extends vt{_parse(t){const n=this._getOrReturnCtx(t);return Pe(n,{code:Ne.invalid_type,expected:Le.never,received:n.parsedType}),Ke}}Yo.create=e=>new Yo({typeName:Qe.ZodNever,...lt(e)});class CN extends vt{_parse(t){if(this._getType(t)!==Le.undefined){const r=this._getOrReturnCtx(t);return Pe(r,{code:Ne.invalid_type,expected:Le.void,received:r.parsedType}),Ke}return Es(t.data)}}CN.create=e=>new CN({typeName:Qe.ZodVoid,...lt(e)});class ha extends vt{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==Le.array)return Pe(n,{code:Ne.invalid_type,expected:Le.array,received:n.parsedType}),Ke;if(s.exactLength!==null){const i=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(i||l)&&(Pe(n,{code:i?Ne.too_big:Ne.too_small,minimum:l?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Pe(n,{code:Ne.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Pe(n,{code:Ne.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((i,l)=>s.type._parseAsync(new Vo(n,i,n.path,l)))).then(i=>rs.mergeArray(r,i));const a=[...n.data].map((i,l)=>s.type._parseSync(new Vo(n,i,n.path,l)));return rs.mergeArray(r,a)}get element(){return this._def.type}min(t,n){return new ha({...this._def,minLength:{value:t,message:Me.toString(n)}})}max(t,n){return new ha({...this._def,maxLength:{value:t,message:Me.toString(n)}})}length(t,n){return new ha({...this._def,exactLength:{value:t,message:Me.toString(n)}})}nonempty(t){return this.min(1,t)}}ha.create=(e,t)=>new ha({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Qe.ZodArray,...lt(t)});function ml(e){if(e instanceof xn){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Do.create(ml(r))}return new xn({...e._def,shape:()=>t})}else return e instanceof ha?new ha({...e._def,type:ml(e.element)}):e instanceof Do?Do.create(ml(e.unwrap())):e instanceof vc?vc.create(ml(e.unwrap())):e instanceof Wi?Wi.create(e.items.map(t=>ml(t))):e}class xn extends vt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=wt.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==Le.object){const u=this._getOrReturnCtx(t);return Pe(u,{code:Ne.invalid_type,expected:Le.object,received:u.parsedType}),Ke}const{status:r,ctx:s}=this._processInputParams(t),{shape:a,keys:i}=this._getCached(),l=[];if(!(this._def.catchall instanceof Yo&&this._def.unknownKeys==="strip"))for(const u in s.data)i.includes(u)||l.push(u);const c=[];for(const u of i){const d=a[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Vo(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Yo){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(Pe(s,{code:Ne.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Vo(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,m=await d.value;u.push({key:f,value:m,alwaysSet:d.alwaysSet})}return u}).then(u=>rs.mergeObjectSync(r,u)):rs.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return Me.errToObj,new xn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var a,i;const s=((i=(a=this._def).errorMap)==null?void 0:i.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Me.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new xn({...this._def,unknownKeys:"strip"})}passthrough(){return new xn({...this._def,unknownKeys:"passthrough"})}extend(t){return new xn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new xn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Qe.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new xn({...this._def,catchall:t})}pick(t){const n={};for(const r of wt.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new xn({...this._def,shape:()=>n})}omit(t){const n={};for(const r of wt.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new xn({...this._def,shape:()=>n})}deepPartial(){return ml(this)}partial(t){const n={};for(const r of wt.objectKeys(this.shape)){const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}return new xn({...this._def,shape:()=>n})}required(t){const n={};for(const r of wt.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Do;)a=a._def.innerType;n[r]=a}return new xn({...this._def,shape:()=>n})}keyof(){return iR(wt.objectKeys(this.shape))}}xn.create=(e,t)=>new xn({shape:()=>e,unknownKeys:"strip",catchall:Yo.create(),typeName:Qe.ZodObject,...lt(t)});xn.strictCreate=(e,t)=>new xn({shape:()=>e,unknownKeys:"strict",catchall:Yo.create(),typeName:Qe.ZodObject,...lt(t)});xn.lazycreate=(e,t)=>new xn({shape:e,unknownKeys:"strip",catchall:Yo.create(),typeName:Qe.ZodObject,...lt(t)});class fm extends vt{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const i=a.map(l=>new za(l.ctx.common.issues));return Pe(n,{code:Ne.invalid_union,unionErrors:i}),Ke}if(n.common.async)return Promise.all(r.map(async a=>{const i={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:i}),ctx:i}})).then(s);{let a;const i=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=i.map(c=>new za(c));return Pe(n,{code:Ne.invalid_union,unionErrors:l}),Ke}}get options(){return this._def.options}}fm.create=(e,t)=>new fm({options:e,typeName:Qe.ZodUnion,...lt(t)});function sy(e,t){const n=oo(e),r=oo(t);if(e===t)return{valid:!0,data:e};if(n===Le.object&&r===Le.object){const s=wt.objectKeys(t),a=wt.objectKeys(e).filter(l=>s.indexOf(l)!==-1),i={...e,...t};for(const l of a){const c=sy(e[l],t[l]);if(!c.valid)return{valid:!1};i[l]=c.data}return{valid:!0,data:i}}else if(n===Le.array&&r===Le.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const i=e[a],l=t[a],c=sy(i,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===Le.date&&r===Le.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class hm extends vt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(a,i)=>{if(yN(a)||yN(i))return Ke;const l=sy(a.value,i.value);return l.valid?((bN(a)||bN(i))&&n.dirty(),{status:n.value,value:l.data}):(Pe(r,{code:Ne.invalid_intersection_types}),Ke)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,i])=>s(a,i)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}hm.create=(e,t,n)=>new hm({left:e,right:t,typeName:Qe.ZodIntersection,...lt(n)});class Wi extends vt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Le.array)return Pe(r,{code:Ne.invalid_type,expected:Le.array,received:r.parsedType}),Ke;if(r.data.length<this._def.items.length)return Pe(r,{code:Ne.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ke;!this._def.rest&&r.data.length>this._def.items.length&&(Pe(r,{code:Ne.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((i,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Vo(r,i,r.path,l)):null}).filter(i=>!!i);return r.common.async?Promise.all(a).then(i=>rs.mergeArray(n,i)):rs.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new Wi({...this._def,rest:t})}}Wi.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Wi({items:e,typeName:Qe.ZodTuple,rest:null,...lt(t)})};class AN extends vt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Le.map)return Pe(r,{code:Ne.invalid_type,expected:Le.map,received:r.parsedType}),Ke;const s=this._def.keyType,a=this._def.valueType,i=[...r.data.entries()].map(([l,c],u)=>({key:s._parse(new Vo(r,l,r.path,[u,"key"])),value:a._parse(new Vo(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of i){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ke;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of i){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ke;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}}}}AN.create=(e,t,n)=>new AN({valueType:t,keyType:e,typeName:Qe.ZodMap,...lt(n)});class vd extends vt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Le.set)return Pe(r,{code:Ne.invalid_type,expected:Le.set,received:r.parsedType}),Ke;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Pe(r,{code:Ne.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Pe(r,{code:Ne.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const a=this._def.valueType;function i(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ke;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>a._parse(new Vo(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>i(c)):i(l)}min(t,n){return new vd({...this._def,minSize:{value:t,message:Me.toString(n)}})}max(t,n){return new vd({...this._def,maxSize:{value:t,message:Me.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}vd.create=(e,t)=>new vd({valueType:e,minSize:null,maxSize:null,typeName:Qe.ZodSet,...lt(t)});class _N extends vt{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}_N.create=(e,t)=>new _N({getter:e,typeName:Qe.ZodLazy,...lt(t)});class jN extends vt{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Pe(n,{received:n.data,code:Ne.invalid_literal,expected:this._def.value}),Ke}return{status:"valid",value:t.data}}get value(){return this._def.value}}jN.create=(e,t)=>new jN({value:e,typeName:Qe.ZodLiteral,...lt(t)});function iR(e,t){return new yc({values:e,typeName:Qe.ZodEnum,...lt(t)})}class yc extends vt{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return Pe(n,{expected:wt.joinValues(r),received:n.parsedType,code:Ne.invalid_type}),Ke}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return Pe(n,{received:n.data,code:Ne.invalid_enum_value,options:r}),Ke}return Es(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return yc.create(t,{...this._def,...n})}exclude(t,n=this._def){return yc.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}yc.create=iR;class IN extends vt{_parse(t){const n=wt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Le.string&&r.parsedType!==Le.number){const s=wt.objectValues(n);return Pe(r,{expected:wt.joinValues(s),received:r.parsedType,code:Ne.invalid_type}),Ke}if(this._cache||(this._cache=new Set(wt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=wt.objectValues(n);return Pe(r,{received:r.data,code:Ne.invalid_enum_value,options:s}),Ke}return Es(t.data)}get enum(){return this._def.values}}IN.create=(e,t)=>new IN({values:e,typeName:Qe.ZodNativeEnum,...lt(t)});class mm extends vt{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Le.promise&&n.common.async===!1)return Pe(n,{code:Ne.invalid_type,expected:Le.promise,received:n.parsedType}),Ke;const r=n.parsedType===Le.promise?n.data:Promise.resolve(n.data);return Es(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}mm.create=(e,t)=>new mm({type:e,typeName:Qe.ZodPromise,...lt(t)});class bc extends vt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Qe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:i=>{Pe(r,i),i.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const i=s.transform(r.data,a);if(r.common.async)return Promise.resolve(i).then(async l=>{if(n.value==="aborted")return Ke;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Ke:c.status==="dirty"||n.value==="dirty"?xu(c.value):c});{if(n.value==="aborted")return Ke;const l=this._def.schema._parseSync({data:i,path:r.path,parent:r});return l.status==="aborted"?Ke:l.status==="dirty"||n.value==="dirty"?xu(l.value):l}}if(s.type==="refinement"){const i=l=>{const c=s.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Ke:(l.status==="dirty"&&n.dirty(),i(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Ke:(l.status==="dirty"&&n.dirty(),i(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!xc(i))return Ke;const l=s.transform(i.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>xc(i)?Promise.resolve(s.transform(i.value,a)).then(l=>({status:n.value,value:l})):Ke);wt.assertNever(s)}}bc.create=(e,t,n)=>new bc({schema:e,typeName:Qe.ZodEffects,effect:t,...lt(n)});bc.createWithPreprocess=(e,t,n)=>new bc({schema:t,effect:{type:"preprocess",transform:e},typeName:Qe.ZodEffects,...lt(n)});class Do extends vt{_parse(t){return this._getType(t)===Le.undefined?Es(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Do.create=(e,t)=>new Do({innerType:e,typeName:Qe.ZodOptional,...lt(t)});class vc extends vt{_parse(t){return this._getType(t)===Le.null?Es(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}vc.create=(e,t)=>new vc({innerType:e,typeName:Qe.ZodNullable,...lt(t)});class ay extends vt{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Le.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}ay.create=(e,t)=>new ay({innerType:e,typeName:Qe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...lt(t)});class oy extends vt{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return um(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new za(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new za(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}oy.create=(e,t)=>new oy({innerType:e,typeName:Qe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...lt(t)});class RN extends vt{_parse(t){if(this._getType(t)!==Le.nan){const r=this._getOrReturnCtx(t);return Pe(r,{code:Ne.invalid_type,expected:Le.nan,received:r.parsedType}),Ke}return{status:"valid",value:t.data}}}RN.create=e=>new RN({typeName:Qe.ZodNaN,...lt(e)});class Uee extends vt{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class K1 extends vt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ke:a.status==="dirty"?(n.dirty(),xu(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Ke:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new K1({in:t,out:n,typeName:Qe.ZodPipeline})}}class iy extends vt{_parse(t){const n=this._def.innerType._parse(t),r=s=>(xc(s)&&(s.value=Object.freeze(s.value)),s);return um(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}iy.create=(e,t)=>new iy({innerType:e,typeName:Qe.ZodReadonly,...lt(t)});var Qe;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Qe||(Qe={}));const tr=vo.create;Yo.create;ha.create;const si=xn.create;fm.create;hm.create;Wi.create;const pm=yc.create;mm.create;Do.create;vc.create;const qo=qJ,lR=h.createContext({}),yn=({...e})=>o.jsx(lR.Provider,{value:{name:e.name},children:o.jsx(XJ,{...e})}),Mp=()=>{const e=h.useContext(lR),t=h.useContext(cR),{getFieldState:n,formState:r}=Lp(),s=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...s}},cR=h.createContext({}),on=h.forwardRef(({className:e,...t},n)=>{const r=h.useId();return o.jsx(cR.Provider,{value:{id:r},children:o.jsx("div",{ref:n,className:Oe("space-y-2",e),...t})})});on.displayName="FormItem";const ln=h.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:s}=Mp();return o.jsx(Gr,{ref:n,className:Oe(r&&"text-destructive",e),htmlFor:s,...t})});ln.displayName="FormLabel";const cn=h.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:a}=Mp();return o.jsx(nk,{ref:t,id:r,"aria-describedby":n?`${s} ${a}`:`${s}`,"aria-invalid":!!n,...e})});cn.displayName="FormControl";const Hee=h.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=Mp();return o.jsx("p",{ref:n,id:r,className:Oe("text-sm text-muted-foreground",e),...t})});Hee.displayName="FormDescription";const bn=h.forwardRef(({className:e,children:t,...n},r)=>{const{error:s,formMessageId:a}=Mp(),i=s?String(s==null?void 0:s.message):t;return i?o.jsx("p",{ref:r,id:a,className:Oe("text-sm font-medium text-destructive",e),...n,children:i}):null});bn.displayName="FormMessage";const $ee=si({email:tr().email({message:"Invalid email address."}),password:tr().min(6,{message:"Password must be at least 6 characters."})});function zee(){const{login:e}=Nn(),[t,n]=h.useState(!1),[r,s]=h.useState(!1);qt();const a=zo({resolver:Wo($ee),defaultValues:{email:"",password:""}});async function i(l){var c,u;n(!0);try{const{accessToken:d,refreshToken:f}=await Ls.login(l.email,l.password);e(d,f),O.success("Login successful!")}catch(d){const f=((u=(c=d==null?void 0:d.response)==null?void 0:c.data)==null?void 0:u.message)||(d==null?void 0:d.message)||"Login failed. Please check your credentials.";f.toLowerCase().includes("domain not allowed")?O.error("Login restricted by backend policy."):O.error(f)}finally{n(!1)}}return o.jsx(qo,{...a,children:o.jsxs("form",{onSubmit:a.handleSubmit(i),className:"space-y-10 w-full max-w-lg mx-auto",children:[o.jsx(yn,{control:a.control,name:"email",render:({field:l})=>o.jsxs(on,{children:[o.jsx(ln,{className:"text-xl font-extrabold text-[#444] mb-2",style:{fontFamily:"Inter, Arial, sans-serif"},children:"Email"}),o.jsx(cn,{children:o.jsx(xt,{placeholder:"Your email",className:"outline-none border border-input rounded-xl px-6 py-6 text-lg focus:ring-0 focus:border-[#E5E5E5] shadow-none bg-white h-16",...l})}),o.jsx(bn,{})]})}),o.jsx(yn,{control:a.control,name:"password",render:({field:l})=>o.jsxs(on,{children:[o.jsx(ln,{className:"text-xl font-extrabold text-[#444] mb-2",style:{fontFamily:"Inter, Arial, sans-serif"},children:"Password"}),o.jsx(cn,{children:o.jsxs("div",{className:"relative",children:[o.jsx(xt,{type:r?"text":"password",placeholder:"Your password",className:"outline-none border border-input rounded-xl px-6 py-6 text-lg focus:ring-0 focus:border-[#E5E5E5] shadow-none bg-white pr-12 h-16",...l}),o.jsx("button",{type:"button",onClick:()=>s(!r),className:"absolute inset-y-0 right-0 flex items-center pr-4 text-muted-foreground",children:r?o.jsx(_o,{className:"h-6 w-6"}):o.jsx(Xr,{className:"h-6 w-6"})})]})})]})}),o.jsx("div",{className:"flex justify-end -mt-6 mb-2",children:o.jsx("a",{href:"/forgot-password",className:"text-[#4B2A06] text-base font-semibold hover:underline focus:outline-none",onClick:l=>{l.preventDefault(),console.log("Forgot Password link clicked"),window.location.href="/forgot-password"},style:{fontFamily:"Inter, Arial, sans-serif"},children:"Forgot Password?"})}),o.jsxs(Re,{type:"submit",className:"w-full bg-[#4B2A06] text-white text-xl font-bold py-6 rounded-xl shadow-none hover:bg-[#3a2004] transition h-16",disabled:t,style:{fontFamily:"Inter, Arial, sans-serif"},children:[t&&o.jsx(Ze,{className:"mr-2 h-5 w-5 animate-spin"}),"Log in"]}),o.jsxs("div",{className:"flex items-center gap-3 justify-center pt-2",children:[o.jsx("button",{type:"button","aria-label":"Continue with Google",className:"h-11 w-11 rounded-full  bg-white flex items-center justify-center hover:bg-gray-100",onClick:()=>O.info("Google sign-in coming soon"),children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",className:"h-5 w-5",children:[o.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.156,7.961,3.039l5.657-5.657C33.64,6.053,29.082,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),o.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,16.108,18.961,13,24,13c3.059,0,5.842,1.156,7.961,3.039l5.657-5.657C33.64,6.053,29.082,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),o.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.197l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.51,5.02C9.518,39.556,16.227,44,24,44z"}),o.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.094,5.565c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]})}),o.jsx("button",{type:"button","aria-label":"Continue with Microsoft",className:"h-11 w-11 rounded-full  bg-white flex items-center justify-center hover:bg-gray-100",onClick:async()=>{try{const l=await Ls.getMicrosoftAuthUrl();window.location.href=l}catch{O.error("Microsoft sign-in failed to initialize")}},children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 23 23",className:"h-5 w-5",children:[o.jsx("path",{fill:"#F25022",d:"M1 1h10v10H1z"}),o.jsx("path",{fill:"#7FBA00",d:"M12 1h10v10H12z"}),o.jsx("path",{fill:"#00A4EF",d:"M1 12h10v10H1z"}),o.jsx("path",{fill:"#FFB900",d:"M12 12h10v10H12z"})]})})]})]})})}const Wee=si({email:tr().email({message:"Invalid email address."}),password:tr().min(8,{message:"Password must be at least 8 characters long."}).regex(/[a-z]/,{message:"Password must contain at least one lowercase letter."}).regex(/[A-Z]/,{message:"Password must contain at least one uppercase letter."}).regex(/[0-9]/,{message:"Password must contain at least one number."}).regex(/[^a-zA-Z0-9]/,{message:"Password must contain at least one special character."}),confirmPassword:tr()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function Vee({onSwitchToLogin:e}){const{login:t}=Nn(),n=qt(),r=Nr(),[s,a]=h.useState(!1),[i,l]=h.useState(!1),[c,u]=h.useState(""),[d,f]=h.useState(""),[m,p]=h.useState(!1),[g,y]=h.useState(!1),w=zo({resolver:Wo(Wee),defaultValues:{email:"",password:"",confirmPassword:""}});async function v(E){var N,C,S,_,H;a(!0);try{await Ls.register({email:E.email,password:E.password}),u(E.email),l(!0),O.success("OTP sent to your email. Please verify to complete registration.");return;if(k)try{const $=await Ct.acceptInvitation(k);if((N=$.workspace)!=null&&N.domain){await Ct.switchWorkspace($.workspace.domain),window.location.href="/dashboard";return}O.success("Invitation accepted. Welcome to the workspace!"),n("/dashboard");return}catch($){O.error(((S=(C=$==null?void 0:$.response)==null?void 0:C.data)==null?void 0:S.message)||"Failed to accept invitation")}}catch(V){const k=((H=(_=V==null?void 0:V.response)==null?void 0:_.data)==null?void 0:H.message)||"Registration failed. Please try again.";k.toLowerCase().includes("user already exists")?O.error("Email already registered.",{action:{label:"Log In",onClick:e}}):O.error(k)}finally{a(!1)}}async function b(){var E,N,C,S,_;if(!c||!d){O.error("Enter the OTP sent to your email");return}a(!0);try{const{accessToken:H,refreshToken:V}=await Ls.verifyRegistrationOtp(c,d);t(H,V),O.success("Email verified. Account created successfully!");const $=new URLSearchParams(r.search).get("invitation");if($)try{const I=await Ct.acceptInvitation($);if((E=I.workspace)!=null&&E.domain){await Ct.switchWorkspace(I.workspace.domain),window.location.href="/dashboard";return}O.success("Invitation accepted. Welcome to the workspace!"),n("/dashboard");return}catch(I){O.error(((C=(N=I==null?void 0:I.response)==null?void 0:N.data)==null?void 0:C.message)||"Failed to accept invitation")}n("/dashboard")}catch(H){const V=((_=(S=H==null?void 0:H.response)==null?void 0:S.data)==null?void 0:_.message)||"OTP verification failed";O.error(V)}finally{a(!1)}}return o.jsx(qo,{...w,children:o.jsx("div",{className:"w-full max-w-lg mx-auto min-h-[520px] flex flex-col justify-center",children:i?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"text-xl font-extrabold text-[#444] mb-2",style:{fontFamily:"Inter, Arial, sans-serif"},children:["Enter OTP sent to ",c]}),o.jsx(xt,{value:d,onChange:E=>f(E.target.value),placeholder:"6-digit OTP",className:"rounded-xl border border-[#E5E5E5] px-6 py-6 text-lg focus:ring-0 focus:border-[#E5E5E5] shadow-none bg-white h-16 outline-none",maxLength:6})]}),o.jsxs(Re,{type:"button",onClick:b,className:"w-full bg-[#4B2A06] text-white text-base font-semibold py-3 rounded-lg shadow-none hover:bg-[#3a2004] transition",disabled:s,children:[s&&o.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"}),"Verify & Complete Registration"]}),o.jsx(Re,{type:"button",variant:"ghost",onClick:()=>{l(!1),f("")},children:"Back"})]}):o.jsxs("form",{onSubmit:w.handleSubmit(v),className:"space-y-6",children:[o.jsx(yn,{control:w.control,name:"email",render:({field:E})=>o.jsxs(on,{children:[o.jsx(ln,{className:"text-xl font-extrabold text-[#444] mb-2",style:{fontFamily:"Inter, Arial, sans-serif"},children:"Email"}),o.jsx(cn,{children:o.jsx(xt,{placeholder:"Your email",className:"rounded-xl border border-[#E5E5E5] px-6 py-6 text-lg focus:ring-0 focus:border-[#E5E5E5] shadow-none bg-white h-16 outline-none",...E})}),o.jsx(bn,{})]})}),o.jsx(yn,{control:w.control,name:"password",render:({field:E})=>o.jsxs(on,{children:[o.jsx(ln,{className:"text-xl font-extrabold text-[#444] mb-2",style:{fontFamily:"Inter, Arial, sans-serif"},children:"Password"}),o.jsx(cn,{children:o.jsxs("div",{className:"relative",children:[o.jsx(xt,{type:m?"text":"password",placeholder:"Your password",className:"rounded-xl border border-[#E5E5E5] px-6 py-6 text-lg focus:ring-0 focus:border-[#E5E5E5] shadow-none bg-white pr-12 h-16 outline-none",...E}),o.jsx("button",{type:"button",onClick:()=>p(!m),className:"absolute inset-y-0 right-0 flex items-center pr-4 text-muted-foreground",children:m?o.jsx(_o,{className:"h-6 w-6"}):o.jsx(Xr,{className:"h-6 w-6"})})]})}),o.jsx(bn,{})]})}),o.jsx(yn,{control:w.control,name:"confirmPassword",render:({field:E})=>o.jsxs(on,{children:[o.jsx(ln,{className:"text-xl font-extrabold text-[#444] mb-2",style:{fontFamily:"Inter, Arial, sans-serif"},children:"Confirm Password"}),o.jsx(cn,{children:o.jsxs("div",{className:"relative",children:[o.jsx(xt,{type:g?"text":"password",placeholder:"Confirm password",className:"rounded-xl border border-[#E5E5E5] px-6 py-6 text-lg focus:ring-0 focus:border-[#E5E5E5] shadow-none bg-white pr-12 h-16 outline-none",...E}),o.jsx("button",{type:"button",onClick:()=>y(!g),className:"absolute inset-y-0 right-0 flex items-center pr-4 text-muted-foreground",children:g?o.jsx(_o,{className:"h-6 w-6"}):o.jsx(Xr,{className:"h-6 w-6"})})]})}),o.jsx(bn,{})]})}),o.jsxs(Re,{type:"submit",className:"w-full bg-[#4B2A06] text-white text-base font-semibold py-3 rounded-lg shadow-none hover:bg-[#3a2004] transition",disabled:s,children:[s&&o.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"}),"Register"]}),o.jsxs("div",{className:"flex items-center gap-3 justify-center pt-2",children:[o.jsx("button",{type:"button","aria-label":"Continue with Google",className:"h-11 w-11 rounded-full  bg-white flex items-center justify-center hover:bg-gray-100",onClick:()=>O.info("Google sign-up coming soon"),children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",className:"h-5 w-5",children:[o.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.156,7.961,3.039l5.657-5.657C33.64,6.053,29.082,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),o.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,16.108,18.961,13,24,13c3.059,0,5.842,1.156,7.961,3.039l5.657-5.657C33.64,6.053,29.082,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),o.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.197l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.51,5.02C9.518,39.556,16.227,44,24,44z"}),o.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.094,5.565c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]})}),o.jsx("button",{type:"button","aria-label":"Continue with Microsoft",className:"h-11 w-11 rounded-full  bg-white flex items-center justify-center hover:bg-gray-100",onClick:async()=>{try{const E=await Ls.getMicrosoftAuthUrl();window.location.href=E}catch{O.error("Microsoft sign-up failed to initialize")}},children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 23 23",className:"h-5 w-5",children:[o.jsx("path",{fill:"#F25022",d:"M1 1h10v10H1z"}),o.jsx("path",{fill:"#7FBA00",d:"M12 1h10v10H12z"}),o.jsx("path",{fill:"#00A4EF",d:"M1 12h10v10H1z"}),o.jsx("path",{fill:"#FFB900",d:"M12 12h10v10H12z"})]})})]})]})})})}function Yee(){const e=qt(),t=Nr(),r=new URLSearchParams(t.search).get("view"),[s,a]=h.useState(r==="register"?"register":"login");return oe.useEffect(()=>{a(r==="register"?"register":"login")},[r]),o.jsxs("div",{className:"min-h-screen bg-white flex flex-col font-sans",style:{fontFamily:"Inter, Arial, sans-serif"},children:[o.jsx("div",{className:"absolute left-0 top-0 p-8 text-2xl font-extrabold tracking-tight text-black",style:{fontFamily:"Inter, Arial, sans-serif"},children:"LOGO"}),o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsxs(On,{className:"w-full max-w-lg shadow-none border-none bg-transparent min-h-[650px] flex flex-col justify-center",children:[o.jsx(tn,{className:"text-center pb-2",children:o.jsx(nn,{className:"text-5xl md:text-6xl font-extrabold mb-8",style:{color:"#232323",fontFamily:"Inter, Arial, sans-serif",fontWeight:800},children:s==="register"?"Register":"Log in"})}),o.jsx(gt,{className:"flex flex-col justify-center",children:o.jsxs("div",{className:"space-y-8",children:[s==="register"?o.jsx(Vee,{onSwitchToLogin:()=>{e("/login")}}):o.jsx(zee,{}),o.jsx("div",{className:"text-center text-xl mt-6",style:{fontFamily:"Inter, Arial, sans-serif",color:"#A1A1AA",fontWeight:600},children:s==="register"?o.jsxs(o.Fragment,{children:["Already have an account?"," ",o.jsx("button",{onClick:()=>e("/login"),className:"font-bold hover:underline",style:{color:"#4B2A06",fontFamily:"Inter, Arial, sans-serif"},children:"Log in"})]}):o.jsxs(o.Fragment,{children:["Don't have an Account ?"," ",o.jsx("button",{onClick:()=>e("/login?view=register"),className:"font-bold hover:underline",style:{color:"#4B2A06",fontFamily:"Inter, Arial, sans-serif"},children:"Register"}),o.jsx("div",{className:"mt-4",children:o.jsx("a",{href:"/forgot-password",className:"font-bold hover:underline",style:{color:"#4B2A06",fontFamily:"Inter, Arial, sans-serif"},onClick:i=>{i.preventDefault(),console.log("Forgot Password link clicked from AuthPage"),window.location.href="/forgot-password"},children:"Forgot Password?"})})]})})]})})]})})]})}const qee=()=>{const[e]=Zm(),{login:t}=Nn(),n=qt();return h.useEffect(()=>{const r=e.get("token"),s=e.get("refreshToken");if(r&&s)try{t(r,s),n("/dashboard")}catch(a){console.error("Error processing token:",a),O.error("Authentication failed. Please try again."),n("/login")}else O.error("No authentication token received."),n("/login")},[e,t,n]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Ze,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Completing sign in..."}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Please wait while we complete your authentication."})]})})},Gee=si({email:tr().email({message:"Invalid email address."})});function Kee(){const[e,t]=h.useState(!1),[n,r]=h.useState(!1),s=qt(),a=zo({resolver:Wo(Gee),defaultValues:{email:""}});async function i(l){console.log("Form submitted with email:",l.email),t(!0);try{console.log("Calling authService.forgotPassword"),await Ls.forgotPassword(l.email),console.log("forgotPassword API call successful"),r(!0),O.success("If that email is registered, a reset link has been sent.")}catch(c){console.error("Error in forgotPassword:",c),O.success("If that email is registered, a reset link has been sent."),r(!0)}finally{t(!1)}}return n?o.jsxs("div",{className:"w-full max-w-lg mx-auto text-center space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-[#444]",children:"Check your email"}),o.jsx("p",{className:"text-[#666]",children:"We've sent a password reset link to your email address. Please check your inbox and follow the instructions."}),o.jsx(Re,{onClick:()=>s("/login"),className:"mt-4 bg-[#4B2A06] text-white hover:bg-[#3a2004]",children:"Return to Login"})]}):o.jsx(qo,{...a,children:o.jsxs("form",{onSubmit:a.handleSubmit(i),className:"space-y-6 w-full max-w-lg mx-auto",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-[#444] mb-2",children:"Forgot your password?"}),o.jsx("p",{className:"text-[#666]",children:"Enter your email address and we'll send you a link to reset your password."})]}),o.jsx(yn,{control:a.control,name:"email",render:({field:l})=>o.jsxs(on,{children:[o.jsx(ln,{className:"text-xl font-extrabold text-[#444] mb-2",style:{fontFamily:"Inter, Arial, sans-serif"},children:"Email"}),o.jsx(cn,{children:o.jsx(xt,{placeholder:"Your email",className:"outline-none border border-input rounded-xl px-6 py-6 text-lg focus:ring-0 focus:border-[#E5E5E5] shadow-none bg-white h-16",...l})}),o.jsx(bn,{})]})}),o.jsxs("div",{className:"flex flex-col space-y-4",children:[o.jsxs(Re,{type:"submit",className:"w-full bg-[#4B2A06] text-white text-xl font-bold py-6 rounded-xl shadow-none hover:bg-[#3a2004] transition h-16",disabled:e,style:{fontFamily:"Inter, Arial, sans-serif"},children:[e&&o.jsx(Ze,{className:"mr-2 h-5 w-5 animate-spin"}),"Send Reset Link"]}),o.jsx(Re,{type:"button",variant:"outline",onClick:()=>s("/login"),className:"w-full border-[#4B2A06] text-[#4B2A06] text-xl font-bold py-6 rounded-xl shadow-none hover:bg-[#f9f5f1] transition h-16",style:{fontFamily:"Inter, Arial, sans-serif"},children:"Back to Login"})]})]})})}function Qee(){return console.log("ForgotPasswordPage component rendered"),o.jsxs("div",{className:"min-h-screen bg-white flex flex-col font-sans",style:{fontFamily:"Inter, Arial, sans-serif"},children:[o.jsx("div",{className:"absolute left-0 top-0 p-8 text-2xl font-extrabold tracking-tight text-black",style:{fontFamily:"Inter, Arial, sans-serif"},children:"LOGO"}),o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsxs(On,{className:"w-full max-w-lg shadow-none border-none bg-transparent min-h-[650px] flex flex-col justify-center",children:[o.jsx(tn,{className:"text-center pb-2",children:o.jsx(nn,{className:"text-5xl md:text-6xl font-extrabold mb-8",style:{color:"#232323",fontFamily:"Inter, Arial, sans-serif",fontWeight:800},children:"Forgot Password"})}),o.jsx(gt,{className:"flex flex-col justify-center",children:o.jsx(Kee,{})})]})})]})}const Xee=si({password:tr().min(8,{message:"Password must be at least 8 characters long."}).regex(/[a-z]/,{message:"Password must contain at least one lowercase letter."}).regex(/[A-Z]/,{message:"Password must contain at least one uppercase letter."}).regex(/[0-9]/,{message:"Password must contain at least one number."}).regex(/[^a-zA-Z0-9]/,{message:"Password must contain at least one special character."}),confirmPassword:tr()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function Zee(){const[e,t]=h.useState(!1),[n,r]=h.useState(!1),[s,a]=h.useState(!1),[i,l]=h.useState(!1),c=qt(),u=Nr(),d=new URLSearchParams(u.search),f=d.get("token"),m=d.get("email"),p=zo({resolver:Wo(Xee),defaultValues:{password:"",confirmPassword:""}});async function g(y){var w,v;if(!f||!m){O.error("Invalid reset link. Please request a new password reset.");return}t(!0);try{await Ls.resetPassword(m,f,y.password),r(!0),O.success("Password has been reset successfully!")}catch(b){const E=((v=(w=b==null?void 0:b.response)==null?void 0:w.data)==null?void 0:v.message)||"Password reset failed. The link may be invalid or expired.";O.error(E)}finally{t(!1)}}return!f||!m?o.jsxs("div",{className:"w-full max-w-lg mx-auto text-center space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-[#444]",children:"Invalid Reset Link"}),o.jsx("p",{className:"text-[#666]",children:"The password reset link is invalid or has expired. Please request a new password reset."}),o.jsx(Re,{onClick:()=>c("/login"),className:"mt-4 bg-[#4B2A06] text-white hover:bg-[#3a2004]",children:"Return to Login"})]}):n?o.jsxs("div",{className:"w-full max-w-lg mx-auto text-center space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-[#444]",children:"Password Reset Complete"}),o.jsx("p",{className:"text-[#666]",children:"Your password has been reset successfully. You can now log in with your new password."}),o.jsx(Re,{onClick:()=>c("/login"),className:"mt-4 bg-[#4B2A06] text-white hover:bg-[#3a2004]",children:"Go to Login"})]}):o.jsx(qo,{...p,children:o.jsxs("div",{className:"w-full max-w-lg mx-auto min-h-[520px] flex flex-col justify-center",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-[#444] mb-2",children:"Reset Your Password"}),o.jsx("p",{className:"text-[#666]",children:"Please enter your new password below."})]}),o.jsxs("form",{onSubmit:p.handleSubmit(g),className:"space-y-6",children:[o.jsx(yn,{control:p.control,name:"password",render:({field:y})=>o.jsxs(on,{children:[o.jsx(ln,{className:"text-xl font-extrabold text-[#444] mb-2",style:{fontFamily:"Inter, Arial, sans-serif"},children:"New Password"}),o.jsx(cn,{children:o.jsxs("div",{className:"relative",children:[o.jsx(xt,{type:s?"text":"password",placeholder:"Enter new password",className:"rounded-xl border border-[#E5E5E5] px-6 py-6 text-lg focus:ring-0 focus:border-[#E5E5E5] shadow-none bg-white pr-12 h-16 outline-none",...y}),o.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute inset-y-0 right-0 flex items-center pr-4 text-muted-foreground",children:s?o.jsx(_o,{className:"h-6 w-6"}):o.jsx(Xr,{className:"h-6 w-6"})})]})}),o.jsx(bn,{})]})}),o.jsx(yn,{control:p.control,name:"confirmPassword",render:({field:y})=>o.jsxs(on,{children:[o.jsx(ln,{className:"text-xl font-extrabold text-[#444] mb-2",style:{fontFamily:"Inter, Arial, sans-serif"},children:"Confirm Password"}),o.jsx(cn,{children:o.jsxs("div",{className:"relative",children:[o.jsx(xt,{type:i?"text":"password",placeholder:"Confirm new password",className:"rounded-xl border border-[#E5E5E5] px-6 py-6 text-lg focus:ring-0 focus:border-[#E5E5E5] shadow-none bg-white pr-12 h-16 outline-none",...y}),o.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute inset-y-0 right-0 flex items-center pr-4 text-muted-foreground",children:i?o.jsx(_o,{className:"h-6 w-6"}):o.jsx(Xr,{className:"h-6 w-6"})})]})}),o.jsx(bn,{})]})}),o.jsxs(Re,{type:"submit",className:"w-full bg-[#4B2A06] text-white text-base font-semibold py-3 rounded-lg shadow-none hover:bg-[#3a2004] transition",disabled:e,children:[e&&o.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"}),"Reset Password"]})]})]})})}function Jee(){return o.jsxs("div",{className:"min-h-screen bg-white flex flex-col font-sans",style:{fontFamily:"Inter, Arial, sans-serif"},children:[o.jsx("div",{className:"absolute left-0 top-0 p-8 text-2xl font-extrabold tracking-tight text-black",style:{fontFamily:"Inter, Arial, sans-serif"},children:"LOGO"}),o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsxs(On,{className:"w-full max-w-lg shadow-none border-none bg-transparent min-h-[650px] flex flex-col justify-center",children:[o.jsx(tn,{className:"text-center pb-2",children:o.jsx(nn,{className:"text-5xl md:text-6xl font-extrabold mb-8",style:{color:"#232323",fontFamily:"Inter, Arial, sans-serif",fontWeight:800},children:"Reset Password"})}),o.jsx(gt,{className:"flex flex-col justify-center",children:o.jsx(Zee,{})})]})})]})}function ete(){const[e,t]=h.useState(""),[n,r]=h.useState(""),[s,a]=h.useState(""),i=async()=>{if(!s){r("Please enter an email address");return}try{t("Testing API..."),r(""),console.log("Testing forgot password API with email:",s);const l="http://localhost:5000/api";console.log("API URL:",l),console.log("Making API request to:",`${l}/auth/forgot-password`);const c=await te.post(`${l}/auth/forgot-password`,{email:s});console.log("API Response:",c.data),t(JSON.stringify(c.data,null,2))}catch(l){console.error("API Error:",l),l.response?(console.error("Error response data:",l.response.data),console.error("Error response status:",l.response.status),r(`Error ${l.response.status}: ${JSON.stringify(l.response.data)}`)):l.request?(console.error("Error request:",l.request),r("No response received from server")):r(l.message||"An error occurred")}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:o.jsxs("div",{className:"text-center max-w-xl w-full",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Test Page"}),o.jsx("p",{className:"mb-4",children:"This is a test page to verify the forgot password functionality."}),o.jsxs("div",{className:"mb-8 p-4 border rounded",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Test Forgot Password API"}),o.jsxs("div",{className:"mb-4",children:[o.jsx("input",{type:"email",value:s,onChange:l=>a(l.target.value),placeholder:"Enter email to test",className:"w-full p-2 border rounded mb-2"}),o.jsx("button",{onClick:i,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Test Forgot Password API"})]}),e&&o.jsxs("div",{className:"mb-4 p-2 bg-green-100 border border-green-300 rounded text-left",children:[o.jsx("h3",{className:"font-bold",children:"API Response:"}),o.jsx("pre",{className:"whitespace-pre-wrap",children:e})]}),n&&o.jsxs("div",{className:"mb-4 p-2 bg-red-100 border border-red-300 rounded text-left",children:[o.jsx("h3",{className:"font-bold",children:"API Error:"}),o.jsx("pre",{className:"whitespace-pre-wrap",children:n})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{children:o.jsx("a",{href:"/",className:"text-blue-500 hover:underline",onClick:l=>{l.preventDefault(),console.log("Navigating to home"),window.location.href="/"},children:"Go to Home"})}),o.jsx("div",{children:o.jsx("a",{href:"/login",className:"text-blue-500 hover:underline",onClick:l=>{l.preventDefault(),console.log("Navigating to login"),window.location.href="/login"},children:"Go to Login"})}),o.jsx("div",{children:o.jsx("a",{href:"/forgot-password",className:"text-blue-500 hover:underline",onClick:l=>{l.preventDefault(),console.log("Navigating to forgot password"),window.location.href="/forgot-password"},children:"Go to Forgot Password"})}),o.jsx("div",{children:o.jsx("a",{href:"/reset-password?token=test-token&email=test@example.com",className:"text-blue-500 hover:underline",onClick:l=>{l.preventDefault(),console.log("Navigating to reset password"),window.location.href="/reset-password?token=test-token&email=test@example.com"},children:"Go to Reset Password (Test Link)"})})]})]})})}const ls="http://localhost:5000/api",mr={async createWorkspace(e){const t=localStorage.getItem("accessToken");return(await te.post(`${ls}/workspaces`,e,{headers:{Authorization:`Bearer ${t}`}})).data},async checkFirstLogin(){const e=localStorage.getItem("accessToken");return(await te.get(`${ls}/workspaces/check-first-login`,{headers:{Authorization:`Bearer ${e}`}})).data},async listWorkspaces(){const e=localStorage.getItem("accessToken");return(await te.get(`${ls}/workspaces`,{headers:{Authorization:`Bearer ${e}`}})).data},async getMyWorkspaces(){const e=localStorage.getItem("accessToken");return(await te.get(`${ls}/workspaces/my-workspaces`,{headers:{Authorization:`Bearer ${e}`}})).data},async getAvailableWorkspaces(){const e=localStorage.getItem("accessToken");return(await te.get(`${ls}/workspace-requests/available`,{headers:{Authorization:`Bearer ${e}`}})).data},async requestWorkspaceAccess(e,t){const n=localStorage.getItem("accessToken");return(await te.post(`${ls}/workspace-requests/request`,{workspaceId:e,message:t},{headers:{Authorization:`Bearer ${n}`}})).data},async getMyRequests(){const e=localStorage.getItem("accessToken");return(await te.get(`${ls}/workspace-requests/my-requests`,{headers:{Authorization:`Bearer ${e}`}})).data},async updateWorkspace(e,t){const n=localStorage.getItem("accessToken");return(await te.patch(`${ls}/workspaces/${e}`,t,{headers:{Authorization:`Bearer ${n}`}})).data},async archiveWorkspace(e){const t=localStorage.getItem("accessToken");return(await te.delete(`${ls}/workspaces/${e}`,{headers:{Authorization:`Bearer ${t}`}})).data},async listMembers(e){const t=localStorage.getItem("accessToken");return(await te.get(`${ls}/workspaces/${e}/members`,{headers:{Authorization:`Bearer ${t}`}})).data},async addMember(e,t){const n=localStorage.getItem("accessToken");return(await te.post(`${ls}/workspaces/${e}/members`,t,{headers:{Authorization:`Bearer ${n}`}})).data},async removeMember(e,t){const n=localStorage.getItem("accessToken");return(await te.delete(`${ls}/workspaces/${e}/members/${t}`,{headers:{Authorization:`Bearer ${n}`}})).data}};function Q1({open:e,onOpenChange:t,onCreated:n,isFirstLogin:r=!1}){const[s,a]=h.useState(""),[i,l]=h.useState(""),[c,u]=h.useState(""),[d,f]=h.useState(null),[m,p]=h.useState(!1),[g,y]=h.useState(!1),w=h.useRef(null),v=N=>(N||"").toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),b=async()=>{var C,S;const N=s.trim();if(N.length<2){O.error("Workspace name is required");return}try{p(!0);const _={name:N,slug:i?v(i):void 0,description:c.trim()||void 0},V=(await mr.createWorkspace(_)).workspace.workspaceId;if(localStorage.setItem("currentWorkspace",V),d){y(!0),O.info(`Uploading ${d.name}...`);try{const k=localStorage.getItem("accessToken"),$=new FormData;$.append("file",d),$.append("namespace",d.name);const I=await fetch("http://localhost:5000/api/documents/upload",{method:"POST",headers:{Authorization:`Bearer ${k}`,"x-workspace":V},body:$});if(!I.ok)throw new Error("Upload failed");const Y=await I.json();if(Y!=null&&Y.document){O.success("Document uploaded successfully!");try{O.info("Generating summary...");const P=await aa.getOrCreateSession();await gA.createSummary("Generate DRHP Doc Summary",P,[],Y.document.namespace,Y.document.id,void 0,"DRHP"),O.success("Summary generation started!")}catch(P){console.error("Summary generation error:",P),O.warning("Workspace created, but summary generation failed. You can generate it later.")}}}catch(k){console.error("Upload error:",k),O.warning("Workspace created, but file upload failed. You can upload documents later.")}finally{y(!1)}}O.success("Workspace created successfully!"),a(""),l(""),u(""),f(null),w.current&&(w.current.value=""),t(!1),n==null||n(),window.location.reload()}catch(_){O.error(((S=(C=_==null?void 0:_.response)==null?void 0:C.data)==null?void 0:S.message)||"Failed to create workspace")}finally{p(!1),y(!1)}},E=N=>{var S;const C=(S=N.target.files)==null?void 0:S[0];if(C){if(C.type!=="application/pdf"){O.error("Please select a PDF file");return}f(C)}};return o.jsx(er,{open:e,onOpenChange:t,children:o.jsxs(Hn,{className:"sm:max-w-md bg-white",children:[o.jsxs(vr,{children:[o.jsx($n,{className:"text-[#4B2A06]",children:r?"Create Your First Workspace":"Create Workspace"}),r&&o.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Welcome! As the first admin of this domain, you need to create your first workspace to get started. You can optionally upload a document to summarize."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Gr,{className:"text-[#4B2A06]",children:"Workspace name"}),o.jsx(xt,{value:s,onChange:N=>a(N.target.value),placeholder:"Team Alpha",className:"bg-white border-gray-300 text-[#4B2A06] focus:border-[#E5E5E5] focus:ring-0"})]}),o.jsxs("div",{children:[o.jsx(Gr,{className:"text-[#4B2A06]",children:"Workspace URL (optional)"}),o.jsxs("div",{className:"flex",children:[o.jsx("span",{className:"px-3 py-2 bg-gray-100 border rounded-l text-sm text-[#4B2A06]",children:"/"}),o.jsx(xt,{value:i,onChange:N=>l(N.target.value),placeholder:"team-alpha",className:"rounded-l-none bg-white border-gray-300 text-[#4B2A06] focus:border-[#E5E5E5] focus:ring-0"})]})]}),o.jsxs("div",{children:[o.jsx(Gr,{className:"text-[#4B2A06]",children:"Description (optional)"}),o.jsx(U1,{value:c,onChange:N=>u(N.target.value),placeholder:"Describe this workspace",rows:3,className:"bg-white border-gray-300 text-[#4B2A06] focus:border-[#E5E5E5] focus:ring-0"})]}),o.jsxs("div",{children:[o.jsx(Gr,{className:"text-[#4B2A06]",children:"Upload Document (optional)"}),o.jsxs("div",{className:"mt-2",children:[o.jsx("input",{ref:w,type:"file",accept:"application/pdf",onChange:E,className:"hidden",id:"workspace-file-upload"}),o.jsxs("label",{htmlFor:"workspace-file-upload",className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-md cursor-pointer hover:bg-gray-50 text-[#4B2A06]",children:[o.jsx(db,{className:"h-4 w-4"}),o.jsx("span",{children:d?d.name:"Choose PDF file to upload and summarize"})]}),d&&o.jsx("button",{type:"button",onClick:()=>{f(null),w.current&&(w.current.value="")},className:"mt-2 text-sm text-red-600 hover:text-red-800",children:"Remove file"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"If you upload a document, it will be automatically summarized after workspace creation."})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(Re,{variant:"outline",onClick:()=>t(!1),className:"bg-white text-[#4B2A06] border-gray-300 hover:bg-gray-50 hover:text-[#4B2A06]",children:"Cancel"}),o.jsx(Re,{onClick:b,disabled:m||g,className:"bg-[#4B2A06] text-white hover:bg-[#3A2004] disabled:bg-gray-400",children:m?g?"Uploading...":"Creating...":"Create"})]})]})]})})}const tte=()=>{const{isAuthenticated:e,loading:t,user:n}=Nn(),r=qt(),[s,a]=h.useState(()=>{const v=localStorage.getItem("recent_documents");return v?JSON.parse(v):[]}),[i,l]=h.useState(null),[c,u]=h.useState(!0),[d,f]=h.useState(!1),[m,p]=h.useState(!0);h.useEffect(()=>{!t&&!e&&r("/login",{replace:!0})},[e,t,r]),h.useEffect(()=>{(async()=>{if(!t&&e&&n)try{const b=await mr.checkFirstLogin();b.needsWorkspace&&b.isAdmin&&f(!0)}catch(b){console.error("Error checking first login:",b)}finally{p(!1)}else p(!1)})()},[t,e,n]);const g=v=>{l(v),r(`/doc/${v.namespace}`)},y=(v,b,E)=>{const N={id:v,name:b,uploadedAt:new Date().toISOString(),namespace:E},C=[N,...s.slice(0,4)];a(C),localStorage.setItem("recent_documents",JSON.stringify(C)),l(N),r(`/doc/${E||v}`)};if(t||m)return o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsx(Ze,{className:"h-8 w-8 animate-spin"})});if(!e||!n)return o.jsx(HC,{to:"/login",replace:!0});const w={recentDocuments:s,currentDocument:i,isSidebarOpen:c,setIsSidebarOpen:u,handleDocumentSelect:g,handleUploadComplete:y};return o.jsxs(o.Fragment,{children:[o.jsx(Q1,{open:d,onOpenChange:f,isFirstLogin:!0,onCreated:()=>{f(!1),window.location.reload()}}),o.jsx(_b,{context:w})]})},nte=()=>(Nr(),o.jsx("div",{className:"min-h-screen flex flex-col bg-background",children:o.jsx("main",{className:"flex-1 flex flex-col",children:o.jsx(_b,{})})}));function rte(){var d;const{recentDocuments:e,currentDocument:t,handleDocumentSelect:n,isSidebarOpen:r,setIsSidebarOpen:s}=Ww();t!=null&&t.namespace||e&&((d=e[0])==null||d.namespace);const i=Nr().pathname==="/upload",[l,c]=h.useState(!1),u=typeof window<"u"&&window.innerWidth<640;return o.jsx("div",{className:"flex flex-col min-h-screen bg-background",children:o.jsx("div",{className:"flex-1 flex flex-col",children:o.jsxs("div",{className:"flex flex-1 min-h-0",children:[i&&u&&o.jsxs(o.Fragment,{children:[!l&&o.jsx("button",{className:"fixed top-3 left-3 z-30 bg-card border border-border rounded-full shadow p-2 flex items-center justify-center hover:bg-muted transition-colors",style:{width:40,height:40},onClick:()=>c(!0),"aria-label":"Open recent documents sidebar",children:o.jsx("span",{className:"text-xl",children:""})}),l&&o.jsxs("div",{className:"fixed inset-0 z-40 flex",children:[o.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:()=>c(!1)}),o.jsx("div",{className:"relative w-4/5 max-w-xs h-full bg-card border-r border-border flex flex-col z-50 animate-slide-in-left",children:o.jsx("button",{className:"absolute top-2 right-2 z-50 bg-muted border border-border rounded-full p-1 hover:bg-background",onClick:()=>c(!1),"aria-label":"Close sidebar",children:o.jsx("span",{className:"text-xl",children:""})})})]})]}),i&&!u&&o.jsx("div",{className:`transition-all duration-300 bg-card border-r border-border flex flex-col ${r?"w-80":"w-0"}`,style:{overflow:"hidden"},children:o.jsx("div",{className:"flex-1 overflow-y-auto",children:r&&o.jsx("button",{className:"h-10 w-10 self-end mt-5 mr-4 p-1 rounded hover:bg-muted text-foreground",onClick:()=>s(!1),title:"Hide sidebar",children:o.jsx("span",{children:""})})})}),o.jsx("div",{className:"flex-1 flex flex-col",children:o.jsx(_b,{context:Ww()})})]})})})}const ste=(e,t="Please wait until the current process completes.")=>{h.useEffect(()=>{const n=l=>{if(e)return l.preventDefault(),l.returnValue=t,t},r=l=>{e&&(l.key==="F5"||l.ctrlKey&&l.key==="r")&&(l.preventDefault(),alert(t))},s=()=>{const l=document.createElement("div");l.id="refresh-blocker",l.style.cssText=`
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        background: rgba(0, 0, 0, 0.8);
        color: white;
        text-align:center;
        height: 100%;
        padding: 20px;
        text-align: center;
        z-index: 9999;
        display: none;
      `,l.textContent=t,document.body.appendChild(l)},a=()=>{const l=document.getElementById("refresh-blocker");l&&(l.style.display="block")},i=()=>{const l=document.getElementById("refresh-blocker");l&&(l.style.display="none")};return document.getElementById("refresh-blocker")||s(),e?a():i(),window.addEventListener("beforeunload",n),window.addEventListener("keydown",r),()=>{window.removeEventListener("beforeunload",n),window.removeEventListener("keydown",r);const l=document.getElementById("refresh-blocker");l&&l.remove()}},[e,t])},ate=({onUploadSuccess:e,setIsUploading:t,open:n,onOpenChange:r})=>{const[s,a]=h.useState(null),[i,l]=h.useState(!1),c=h.useRef(null),u=m=>{var g;const p=(g=m.target.files)==null?void 0:g[0];if(p){if(p.type!=="application/pdf"){O.error("Please select a PDF file");return}a(p)}},d=m=>{!m&&!i?(r(!1),a(null),c.current&&(c.current.value="")):m&&r(!0)},f=async()=>{if(!s){O.error("Please select a file first");return}if(s.type!=="application/pdf"){O.error("Please select a PDF file");return}l(!0),t==null||t(!0);try{e&&await e(s)}catch(m){console.error("Upload error in modal:",m),O.error(m instanceof Error?m.message:"Failed to prepare upload")}finally{l(!1),t==null||t(!1)}};return o.jsx(er,{open:n,onOpenChange:d,children:o.jsxs(Hn,{className:"sm:max-w-[500px] bg-white",onClick:m=>m.stopPropagation(),children:[o.jsxs(vr,{children:[o.jsx($n,{children:"Upload DRHP Document"}),o.jsx(Ji,{children:"Upload a DRHP (Draft Red Herring Prospectus) document."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Gr,{htmlFor:"file",children:"Select DRHP PDF File"}),o.jsx(xt,{id:"file",type:"file",accept:".pdf",className:"bg-white text-gray-400 file:text-[#4B2a09] file:text-sm file:font-medium file:border-none file:cursor-pointer border border-[#E5E5E5] rounded-md",onChange:u,ref:c,disabled:i}),s&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[o.jsx(Uo,{className:"h-4 w-4"}),s.name," selected"]})]}),o.jsx("div",{className:"bg-blue-50 p-3 rounded-md",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(us,{className:"h-4 w-4 text-blue-600 mt-0.5"}),o.jsxs("div",{className:"text-sm text-blue-800",children:[o.jsx("p",{className:"font-medium",children:"Note:"}),o.jsx("p",{children:"Please ensure the PDF file is a valid DRHP document. The document will be processed and made available for summarization."})]})]})})]}),o.jsxs(gc,{children:[o.jsx(Re,{type:"button",variant:"outline",onClick:m=>{m.stopPropagation(),r(!1)},className:"bg-gray-200 text-[#4B2A06] hover:bg-gray-200 border-none hover:text-[#4B2A06]",disabled:i,children:"Cancel"}),o.jsx(Re,{type:"button",onClick:m=>{m.stopPropagation(),f()},disabled:!s||i,className:"flex items-center gap-2 bg-[#4B2A06] text-white hover:bg-[#4B2A06]/90 border-none hover:text-white",children:i?o.jsxs(o.Fragment,{children:[o.jsx(Ze,{className:"h-4 w-4 animate-spin"}),"Uploading..."]}):o.jsxs(o.Fragment,{children:[o.jsx(db,{className:"h-4 w-4"}),"Upload DRHP"]})})]})]})})};function ote(){const[e,t]=h.useState([]),[n,r]=h.useState(!1),[s,a]=h.useState(null);h.useEffect(()=>{i()},[]);const i=async()=>{try{r(!0);const c=await mr.getAvailableWorkspaces();t(c.workspaces||[])}catch(c){console.error("Error loading available workspaces:",c),O.error("Failed to load available workspaces")}finally{r(!1)}},l=async(c,u)=>{var d,f;try{a(c),await mr.requestWorkspaceAccess(c),O.success(`Request sent for "${u}"`),await i()}catch(m){console.error("Error requesting access:",m),O.error(((f=(d=m.response)==null?void 0:d.data)==null?void 0:f.message)||"Failed to request access")}finally{a(null)}};return n?o.jsx("div",{className:"text-sm text-gray-500 py-4",children:"Loading available workspaces..."}):e.length===0?null:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Available Workspaces"}),e.map(c=>o.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-md hover:bg-gray-50",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[o.jsx(Bo,{className:"h-4 w-4 text-[#4B2A06] flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:c.name}),c.description&&o.jsx("p",{className:"text-xs text-gray-500 truncate",children:c.description})]})]}),o.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:c.hasPendingRequest?o.jsxs("div",{className:"flex items-center gap-1 text-xs text-amber-600",children:[o.jsx(Fh,{className:"h-3 w-3"}),o.jsx("span",{children:"Pending"})]}):o.jsx(Re,{size:"sm",onClick:()=>l(c.workspaceId,c.name),disabled:s===c.workspaceId,className:"bg-[#4B2A06] text-white hover:bg-[#3A2004] text-xs p-1",children:s===c.workspaceId?"Requesting...":o.jsxs(o.Fragment,{children:[o.jsx(Li,{className:"h-3 w-3 mr-1"}),"Join"]})})})]},c.workspaceId))]})}const ite=({onFolderOpen:e,onFolderDeleted:t,refreshNotifications:n})=>{qt();const{user:r}=Nn(),[s,a]=h.useState([]),[i,l]=h.useState(!1),[c,u]=h.useState(!0),[d,f]=h.useState(!1),[m,p]=h.useState(0),[g,y]=h.useState(""),[w,v]=h.useState(!1),[b,E]=h.useState(null),[N,C]=h.useState(!1),S=h.useRef(null),[_,H]=h.useState(null),[V,k]=h.useState(""),[$,I]=h.useState([]),[Y,P]=h.useState(""),[L,M]=h.useState(!1),[K,F]=h.useState(!0),[D,T]=h.useState(!1),[G,ne]=h.useState(!1),[A,W]=h.useState(null),[z,ae]=h.useState(null),J=async()=>{try{l(!0);const ye=await Zr.listChildren("root"),Ce=((ye==null?void 0:ye.items)||[]).filter(He=>He.kind==="directory").map(He=>He.item);a(Ce)}catch{O.error("Failed to load folders")}finally{l(!1)}},ce=async()=>{var ye,Ce;try{M(!0);const He=await Ct.getUserWorkspaces();I(He.workspaces||[]);const Ge=He.currentWorkspace||((Ce=(ye=He.workspaces)==null?void 0:ye[0])==null?void 0:Ce.workspaceDomain)||"";if(P(Ge),Ge){const{setCurrentWorkspace:U}=await qh(async()=>{const{setCurrentWorkspace:X}=await Promise.resolve().then(()=>pE);return{setCurrentWorkspace:X}},void 0);U(Ge)}He.workspaces.length}catch(He){console.error("Error loading workspaces:",He)}finally{M(!1)}},xe=async ye=>{var Ce;try{const Ge=(await Ct.switchWorkspace(ye)).currentWorkspace||ye;P(Ge);const{setCurrentWorkspace:U}=await qh(async()=>{const{setCurrentWorkspace:X}=await Promise.resolve().then(()=>pE);return{setCurrentWorkspace:X}},void 0);U(Ge),O.success(`Switched to ${((Ce=$.find(X=>X.workspaceDomain===ye))==null?void 0:Ce.workspaceName)||ye}`),window.location.reload()}catch(He){console.error("Error switching workspace:",He),O.error("Failed to switch workspace")}},re=ye=>{const Ce=(ye.workspaceName||"").trim();if(Ce&&Ce.toLowerCase()!==`${(ye.workspaceDomain||"").toLowerCase()} workspace`)return Ce;const He=(ye.workspaceDomain||"").split(".")[0];return`${He.charAt(0).toUpperCase()+He.slice(1)} Workspace`};h.useEffect(()=>{J(),ce();let ye=!0;const Ce=async()=>{try{const Ge=await _a.list({unread:!0,page:1,pageSize:1});if(console.log("Unread notifications response:",Ge),ye){const U=Ge.total||0;p(U),console.log("Set unread count to:",U)}}catch(Ge){console.error("Failed to load unread count:",Ge),ye&&p(0)}};Ce();const He=setInterval(Ce,3e4);return()=>{ye=!1,clearInterval(He)}},[]),h.useEffect(()=>{n&&(async()=>{try{const He=(await _a.list({unread:!0,page:1,pageSize:1})).total||0;p(He),console.log("Refreshed unread count to:",He)}catch(Ce){console.error("Failed to refresh unread count:",Ce)}})()},[n]),h.useEffect(()=>{const ye=Ce=>{if(!w)return;const He=S.current;He&&!He.contains(Ce.target)&&v(!1)};return document.addEventListener("mousedown",ye),()=>document.removeEventListener("mousedown",ye)},[w]);const _e=async()=>{var ye;if(!g.trim()){O.error("Folder name is required");return}try{f(!0);const Ce=await Zr.create(g.trim(),null);y(""),v(!1),await J(),Ce!=null&&Ce.id&&(e==null||e({id:Ce.id,name:Ce.name})),O.success("Folder created")}catch(Ce){((ye=Ce==null?void 0:Ce.response)==null?void 0:ye.status)===409?O.error("A folder with this name already exists"):O.error("Failed to create folder")}finally{f(!1)}},Ie=async()=>{if(b)try{C(!0),await Zr.delete(b.id),E(null),await J(),t==null||t(),O.success("Folder and all documents deleted")}catch{O.error("Failed to delete folder")}finally{C(!1)}},Xe=ye=>{H(ye),k(ye.name)},tt=()=>{H(null),k("")},Ut=async()=>{var Ce,He;if(!_)return;const ye=V.trim();if(!ye||ye===_.name){tt();return}try{await Zr.update(_.id,{name:ye}),O.success("Folder renamed"),await J()}catch(Ge){O.error(((He=(Ce=Ge==null?void 0:Ge.response)==null?void 0:Ce.data)==null?void 0:He.error)||"Failed to rename folder")}finally{tt()}};return o.jsxs("aside",{className:"hidden md:flex md:flex-col md:w-[260px] shrink-0 border-r border-gray-200 bg-white",children:[o.jsxs("div",{className:"p-4 relative",children:[o.jsxs("button",{onClick:()=>v(ye=>!ye),"aria-label":"Create folder",className:"flex items-center justify-between w-full  rounded-xl px-4 py-3 bg-[#ECE9E2] text-[#4B2A06] font-semibold",children:[o.jsx("span",{children:"New Folder"}),o.jsx(Li,{className:"h-5 w-5"})]}),w&&o.jsxs("div",{ref:S,className:"absolute left-4 right-4 mt-2 bg-white border border-gray-200 rounded-lg shadow p-3 z-10",children:[o.jsxs("div",{className:"mb-3 p-2 bg-blue-50 border border-blue-200 rounded-md",children:[o.jsx("p",{className:"text-xs text-blue-800 font-medium mb-1",children:" Folder Naming Instructions"}),o.jsxs("p",{className:"text-xs text-blue-700",children:["Use ",o.jsx("strong",{children:"company name"})," as the folder name. In the folders you can manage both DRHP and RHP documents of the same company."]})]}),o.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Company Folder Name"}),o.jsx("input",{value:g,onChange:ye=>y(ye.target.value),onKeyDown:ye=>{ye.key==="Enter"&&_e()},className:"w-full border rounded px-2 py-1 text-sm mb-2",placeholder:"e.g. Acme Corporation",autoFocus:!0}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{className:"text-sm px-3 py-1 rounded border",onClick:()=>{v(!1),y("")},children:"Cancel"}),o.jsx("button",{className:"text-sm px-3 py-1 rounded bg-[#4B2A06] text-white disabled:opacity-50",disabled:d,onClick:_e,children:d?"Creating...":"Create"})]})]})]}),(r==null?void 0:r.role)==="admin"&&o.jsx("div",{className:"px-4 py-2",children:o.jsxs("button",{onClick:()=>T(!0),className:"w-full flex items-center justify-between rounded-xl px-4 py-3 bg-[#ECE9E2] text-[#4B2A06] font-semibold hover:bg-[#DDD5C9] transition-colors",title:"Create new workspace",children:[o.jsx("span",{children:"New Workspace"}),o.jsx(Li,{className:"h-5 w-5"})]})}),o.jsxs("nav",{className:"px-4 pb-2 space-y-2 border-b max-h-[35vh] border-gray-200",children:[o.jsxs("button",{className:"w-full flex items-center gap-3 px-5 justify-between text-sm text-gray-800 hover:text-[#4B2A06]",onClick:()=>F(ye=>!ye),children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Bo,{className:"h-5 w-5"}),"Workspaces"]}),o.jsx("div",{className:"flex items-center gap-2",children:K?o.jsx(sc,{className:"h-4 w-4"}):o.jsx(Mh,{className:"h-4 w-4"})})]}),K&&o.jsx("div",{className:"pl-7 pr-2 max-h-[30vh] overflow-y-auto space-y-2",children:L?o.jsx("div",{className:"text-xs text-gray-500 py-2",children:"Loading..."}):$.length===0?o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-xs text-gray-500 py-2",children:"No workspaces. Create one to get started."}),o.jsx("div",{className:"mt-2",children:o.jsx(ote,{})})]}):o.jsx("ul",{className:"space-y-1",children:$.map(ye=>o.jsx("li",{className:"group relative",onMouseEnter:()=>ae(ye.workspaceDomain),onMouseLeave:()=>ae(null),children:o.jsxs("button",{className:`w-full flex items-center gap-2 text-left px-3 py-2 text-sm rounded-md truncate ${Y===ye.workspaceDomain?"bg-[#ECE9E2] text-[#4B2A06] font-medium":"text-gray-700 hover:text-[#4B2A06] hover:bg-gray-50"}`,title:re(ye),onClick:()=>xe(ye.workspaceDomain),children:[o.jsx(Bo,{className:"h-4 w-4 flex-shrink-0"}),o.jsx("span",{className:"truncate flex-1",children:re(ye)}),(r==null?void 0:r.role)==="admin"&&z===ye.workspaceDomain&&o.jsx("div",{className:"ml-auto p-1 rounded hover:bg-[#DDD5C9] transition-colors flex-shrink-0 cursor-pointer",onClick:Ce=>{Ce.stopPropagation(),W({workspaceId:ye.workspaceDomain,workspaceName:re(ye)}),ne(!0)},onKeyDown:Ce=>{(Ce.key==="Enter"||Ce.key===" ")&&(Ce.preventDefault(),Ce.stopPropagation(),W({workspaceId:ye.workspaceDomain,workspaceName:re(ye)}),ne(!0))},role:"button",tabIndex:0,title:"Invite to workspace",children:o.jsx(Bm,{className:"h-3 w-3 text-[#4B2A06]"})})]})},ye.workspaceDomain))})})]}),o.jsxs("nav",{className:"px-4 space-y-2 pt-2 max-h-[40vh]",children:[o.jsxs("button",{className:"w-full flex items-center gap-3 px-5 justify-between text-sm text-gray-800 hover:text-[#4B2A06]",onClick:()=>u(ye=>!ye),children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(nd,{className:"h-5 w-5"}),"Folders"]}),o.jsx("div",{className:"flex items-center  gap-2",children:c?o.jsx(sc,{className:"h-4 w-4"}):o.jsx(Mh,{className:"h-4 w-4"})})]}),c&&o.jsx("div",{className:"pl-7 pr-2 max-h-[40vh] overflow-y-auto",children:i?o.jsx("div",{className:"text-xs text-gray-500 py-2",children:"Loading..."}):s.length===0?o.jsx("div",{className:"text-xs text-gray-500 py-2",children:"No folders yet"}):o.jsx("ul",{className:"space-y-1 scrollbar-hide",children:s.map(ye=>o.jsx("li",{className:"group",children:o.jsx("div",{className:"flex items-center gap-2",children:(_==null?void 0:_.id)===ye.id?o.jsxs(o.Fragment,{children:[o.jsx("input",{value:V,onChange:Ce=>k(Ce.target.value),onKeyDown:Ce=>{Ce.key==="Enter"&&Ut(),Ce.key==="Escape"&&tt()},className:"flex-1 px-2 py-1 text-sm border rounded",autoFocus:!0}),o.jsx("button",{className:"text-green-700 hover:text-green-800",title:"Save",onClick:Ut,children:o.jsx(Oa,{className:"h-4 w-4"})}),o.jsx("button",{className:"text-gray-600 hover:text-gray-800",title:"Cancel",onClick:tt,children:o.jsx(Bn,{className:"h-4 w-4"})})]}):o.jsx(o.Fragment,{children:o.jsxs("button",{className:"flex-1 flex items-center justify-between text-left px-4 py-2 text-sm text-gray-700 hover:text-[#4B2A06] hover:bg-[#ECE9E2] rounded-md truncate",title:ye.name,onClick:()=>e==null?void 0:e(ye),children:[ye.name,o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"opacity-0 group-hover:opacity-100 text-[#5A6473] hover:text-blue-600 transition-opacity cursor-pointer",onClick:Ce=>{Ce.stopPropagation(),Xe(ye)},onKeyDown:Ce=>{(Ce.key==="Enter"||Ce.key===" ")&&(Ce.preventDefault(),Ce.stopPropagation(),Xe(ye))},role:"button",tabIndex:0,title:"Rename folder",children:o.jsx(Ok,{className:"h-4 w-4"})}),o.jsx("div",{className:"opacity-0 group-hover:opacity-100  text-[#5A6473] hover:text-red-600 transition-opacity cursor-pointer",onClick:Ce=>{Ce.stopPropagation(),E(ye)},onKeyDown:Ce=>{(Ce.key==="Enter"||Ce.key===" ")&&(Ce.preventDefault(),Ce.stopPropagation(),E(ye))},role:"button",tabIndex:0,title:"Delete folder",children:o.jsx(Kn,{className:"h-4 w-4"})})]})]})})})},ye.id))})})]}),b&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:o.jsx(Kn,{className:"w-5 h-5 text-red-600"})})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete Company Folder"}),o.jsx("p",{className:"text-sm text-gray-500",children:"This action cannot be undone"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("p",{className:"text-gray-700 mb-3",children:["Are you sure you want to delete the folder ",o.jsxs("strong",{children:['"',b.name,'"']}),"?"]}),o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-red-600 text-sm font-bold",children:"!"})})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-red-800 mb-2",children:"Warning: All documents will be permanently deleted"}),o.jsxs("ul",{className:"text-sm text-red-700 space-y-1",children:[o.jsxs("li",{children:[" All ",o.jsx("strong",{children:"DRHP documents"})," in this folder"]}),o.jsxs("li",{children:[" All ",o.jsx("strong",{children:"RHP documents"})," in this folder"]}),o.jsxs("li",{children:[" All ",o.jsx("strong",{children:"summaries"})," related to these documents"]}),o.jsxs("li",{children:[" All ",o.jsx("strong",{children:"chat conversations"})," related to these documents"]}),o.jsxs("li",{children:[" All ",o.jsx("strong",{children:"comparison reports"})," between DRHP and RHP"]})]})]})]})})]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",onClick:()=>E(null),disabled:N,children:"Cancel"}),o.jsx("button",{className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-md disabled:opacity-50 transition-colors",onClick:Ie,disabled:N,children:N?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Deleting..."]}):"Delete Permanently"})]})]})}),o.jsx(Q1,{open:D,onOpenChange:T,onCreated:()=>{T(!1),ce(),window.location.reload()},isFirstLogin:!1}),A&&o.jsx(er,{open:G,onOpenChange:ne,children:o.jsxs(Hn,{className:"w-[90vw] max-w-[800px] p-0",hideClose:!0,children:[o.jsx($n,{className:"sr-only",children:"Workspace Invitations"}),o.jsx(Ji,{className:"sr-only",children:"Manage workspace invitations and user access"}),o.jsx(WI,{})]})})]})},lte=({open:e,onOpenChange:t,onSelectDestination:n,currentDirectoryId:r})=>{const[s,a]=h.useState([{id:null,name:"All files"}]),[i,l]=h.useState([]),[c,u]=h.useState(!1),[d,f]=h.useState(!1),[m,p]=h.useState(null);h.useEffect(()=>{e&&(a([{id:null,name:"All files"}]),p(null),g("root"))},[e]);const g=async b=>{try{u(!0);const E=await Zr.listChildren(b,{pageSize:500}),N=((E==null?void 0:E.items)||[]).filter(C=>C.kind==="directory");l(N)}catch{O.error("Failed to load folders")}finally{u(!1)}},y=async b=>{a(E=>[...E,{id:b.id,name:b.name}]),p(null),await g(b.id)},w=async()=>{if(s.length<=1)return;const b=[...s.slice(0,-1)];a(b),await g(b[b.length-1].id?b[b.length-1].id:"root")},v=async()=>{try{f(!0);const b=m??(s[s.length-1].id||null);await n(b),t(!1),O.success("Document moved")}catch{O.error("Failed to move document")}finally{f(!1)}};return e?o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(nd,{className:"h-5 w-5 text-[#4B2A06]"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Move document"})]}),o.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>t(!1),children:""})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-3",children:[s.length>1?o.jsxs("button",{className:"inline-flex items-center gap-1 text-[#4B2A06] hover:underline",onClick:w,children:[o.jsx(td,{className:"h-4 w-4"})," Up"]}):o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(Pk,{className:"h-4 w-4"})," Root"]}),o.jsx("span",{className:"mx-1",children:"/"}),o.jsx("span",{className:"truncate",title:s[s.length-1].name,children:s[s.length-1].name})]}),o.jsx("div",{className:"border rounded-md max-h-72 overflow-y-auto",children:c?o.jsxs("div",{className:"flex items-center justify-center py-10 text-gray-500",children:[o.jsx(Ze,{className:"h-5 w-5 animate-spin mr-2"})," Loading folders..."]}):i.length===0?o.jsx("div",{className:"p-4 text-sm text-gray-500",children:"No folders here."}):o.jsx("ul",{children:i.map(b=>o.jsxs("li",{className:`flex items-center gap-2 px-3 py-2 border-b last:border-b-0 cursor-pointer ${m===b.item.id?"bg-[#ECE9E2]":"hover:bg-gray-50"}`,onClick:()=>p(b.item.id),onDoubleClick:()=>y({id:b.item.id,name:b.item.name}),title:"Click to select, double-click to open",children:[o.jsx("input",{type:"radio",name:"dest-folder",checked:m===b.item.id,onChange:()=>p(b.item.id),className:"h-4 w-4 accent-[#4B2A06]"}),o.jsx(nd,{className:"h-4 w-4 text-[#4B2A06]"}),o.jsx("span",{className:"truncate",children:b.item.name})]},b.item.id))})}),o.jsxs("div",{className:"flex items-center justify-between mt-4",children:[o.jsx("div",{className:"text-xs text-gray-500",children:m?"Selected: folder":`Current: ${r?"In a folder":"Root"}`}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300 text-sm",onClick:()=>t(!1),disabled:d,children:"Cancel"}),o.jsx("button",{className:"px-4 py-2 rounded bg-[#4B2A06] text-white text-sm hover:bg-[#3A2004] disabled:opacity-50",onClick:v,disabled:d,children:d?o.jsxs("span",{className:"inline-flex items-center gap-2",children:[o.jsx(Ze,{className:"h-4 w-4 animate-spin"})," Moving..."]}):"Move here"})]})]})]})}):null},cte=({open:e,onOpenChange:t,documentId:n,documentName:r,onMoveComplete:s})=>{const[a,i]=h.useState([]),[l,c]=h.useState(!1),[u,d]=h.useState(!1),[f,m]=h.useState(""),[p,g]=h.useState("");h.useEffect(()=>{e&&(y(),w())},[e]);const y=async()=>{try{c(!0);const b=await mr.listWorkspaces();i(b.workspaces||[])}catch(b){O.error("Failed to load workspaces"),console.error("Error loading workspaces:",b)}finally{c(!1)}},w=()=>{const b=localStorage.getItem("currentWorkspace");b&&g(b)},v=async()=>{if(!f||!n){O.error("Please select a workspace");return}if(f===p){O.error("Document is already in this workspace");return}try{d(!0);const b=localStorage.getItem("accessToken"),E=await fetch(`http://localhost:5000/api/workspaces/${p}/move-document`,{method:"POST",headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json","x-workspace":p},body:JSON.stringify({documentId:n,targetWorkspaceId:f})});if(!E.ok){const N=await E.json();throw new Error(N.message||"Failed to move document")}O.success("Document moved successfully"),t(!1),s==null||s()}catch(b){console.error("Error moving document:",b),O.error(b.message||"Failed to move document")}finally{d(!1)}};return e?o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-lg p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Bo,{className:"h-5 w-5 text-[#4B2A06]"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Move Document to Workspace"})]}),o.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>t(!1),disabled:u,children:o.jsx(Bn,{className:"h-5 w-5"})})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Moving: ",o.jsx("span",{className:"font-medium",children:r})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"Select a workspace to move this document to. The document and its folder will be moved."})]}),o.jsx("div",{className:"border rounded-md max-h-72 overflow-y-auto mb-4",children:l?o.jsxs("div",{className:"flex items-center justify-center py-10 text-gray-500",children:[o.jsx(Ze,{className:"h-5 w-5 animate-spin mr-2"})," Loading workspaces..."]}):a.length===0?o.jsx("div",{className:"p-4 text-sm text-gray-500",children:"No workspaces available."}):o.jsx("ul",{children:a.map(b=>o.jsxs("li",{className:`flex items-center gap-2 px-3 py-2 border-b last:border-b-0 cursor-pointer ${f===b.workspaceId?"bg-[#ECE9E2]":"hover:bg-gray-50"} ${b.workspaceId===p?"opacity-50":""}`,onClick:()=>{b.workspaceId!==p&&m(b.workspaceId)},children:[o.jsx("input",{type:"radio",name:"target-workspace",checked:f===b.workspaceId,onChange:()=>{b.workspaceId!==p&&m(b.workspaceId)},disabled:b.workspaceId===p,className:"h-4 w-4 accent-[#4B2A06]"}),o.jsx(Bo,{className:"h-4 w-4 text-[#4B2A06]"}),o.jsxs("span",{className:"truncate",children:[b.name,b.workspaceId===p&&" (Current)"]})]},b.workspaceId))})}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300 text-sm",onClick:()=>t(!1),disabled:u,children:"Cancel"}),o.jsx("button",{className:"px-4 py-2 rounded bg-[#4B2A06] text-white text-sm hover:bg-[#3A2004] disabled:opacity-50",onClick:v,disabled:u||!f,children:u?o.jsxs("span",{className:"inline-flex items-center gap-2",children:[o.jsx(Ze,{className:"h-4 w-4 animate-spin"})," Moving..."]}):"Move Document"})]})]})}):null},ute=()=>{const[e,t]=h.useState([]),[n,r]=h.useState(!1),[s,a]=h.useState(!1),[i,l]=h.useState(null),[c,u]=h.useState(null),[d,f]=h.useState(!1),[m,p]=h.useState(""),[g,y]=h.useState(""),[w,v]=h.useState(""),b=qt(),[E]=Zm(),{user:N,logout:C,isAuthenticated:S}=Nn(),_=h.useRef(null),[H]=h.useState(()=>aa.initializeSession()),[V,k]=h.useState(null),[$,I]=h.useState(!1),[Y,P]=h.useState(null),[L,M]=h.useState(""),[K,F]=h.useState(!1),[D,T]=h.useState(null),[G,ne]=h.useState(null),A=h.useRef({}),[W,z]=h.useState(!1),[ae,J]=h.useState("list"),[ce,xe]=h.useState(()=>{const Z=localStorage.getItem("currentFolder");if(Z)try{const pe=JSON.parse(Z);if(pe&&(pe.id===null||typeof pe.id=="string")&&typeof pe.name=="string")return pe}catch{}return null});h.useEffect(()=>{ce?localStorage.setItem("currentFolder",JSON.stringify(ce)):localStorage.removeItem("currentFolder")},[ce]);const[re,_e]=h.useState(null),[Ie,Xe]=h.useState("all"),[tt,Ut]=h.useState(!1),[ye,Ce]=h.useState(!1),[He,Ge]=h.useState(null),[U,X]=h.useState(null),[le,Ee]=h.useState(null),[Te,me]=h.useState(""),[q,ue]=h.useState(()=>{const Z=localStorage.getItem("documentTypeFilter");return Z==="DRHP"||Z==="RHP"?Z:"DRHP"});h.useEffect(()=>{localStorage.setItem("documentTypeFilter",q)},[q]);const[ve,Fe]=h.useState(!1),[Je,_t]=h.useState(""),[Tn,Pt]=h.useState(!1),[Lt,jn]=h.useState(!1),[Et,Gt]=h.useState(null),[Kt,$r]=h.useState(!1),[el,ai]=h.useState(null),[oi,Sr]=h.useState([]),[qa,We]=h.useState(!1),[ht,Nt]=h.useState(!1);ste(s,"A file is currently uploading. Please wait."),h.useEffect(()=>{const Z=pe=>{pe.status==="failed"?O.error(`Upload failed: ${pe.error||"Unknown error"}`):pe.status==="completed"&&(O.success("Upload completed successfully!"),Ht())};if(window.io)return window.io.on("upload_status",Z),()=>{window.io.off("upload_status",Z)}},[]);const Ht=()=>{r(!0),l(null);const Z=localStorage.getItem("sharedLinkToken"),pe=E.get("linkToken");if(Z&&!pe){(async()=>{try{const Ye=await Io.resolveLink(Z);if((Ye==null?void 0:Ye.resourceType)==="document"){const at=await It.getById(Ye.resourceId,Z);t(at?[at]:[]),r(!1);return}}catch{}It.getAll({directoryId:(ce==null?void 0:ce.id)??"root"}).then(Ye=>{let at=Ye||[];ce||(q==="DRHP"?at=at.filter(ft=>(ft==null?void 0:ft.type)==="DRHP"):q==="RHP"&&(at=at.filter(ft=>(ft==null?void 0:ft.type)==="RHP"))),t(at),r(!1)}).catch(()=>{l("Failed to load documents"),r(!1)})})();return}It.getAll({directoryId:(ce==null?void 0:ce.id)??"root"}).then(Ye=>{let at=Ye||[];ce||(q==="DRHP"?at=at.filter(ft=>(ft==null?void 0:ft.type)==="DRHP"):q==="RHP"&&(at=at.filter(ft=>(ft==null?void 0:ft.type)==="RHP"))),t(at),r(!1)}).catch(Ye=>{l("Failed to load documents"),r(!1)})};h.useEffect(()=>{Ht()},[ce==null?void 0:ce.id,q]),h.useEffect(()=>{const Z=E.get("linkToken");Z&&(localStorage.setItem("sharedLinkToken",Z),or(Z))},[E]);const or=async Z=>{try{r(!0);const pe=await Io.resolveLink(Z);if(pe.resourceType==="document"){const Ye=await It.getById(pe.resourceId,Z);xe(null),t(Ye?[Ye]:[]),O.success("You have access to a shared document")}else pe.resourceType==="directory"&&(xe({id:pe.resourceId,name:"Shared Folder"}),O.success("Accessing shared folder..."))}catch(pe){console.error("Error resolving link token:",pe),O.error("Invalid or expired share link")}finally{r(!1)}},is=Z=>{Z.target.files&&Z.target.files[0]&&Cr(Z.target.files[0],Je)},kr=async Z=>{ai(Z),$r(!0),We(!0);try{const pe=await It.getAvailableForCompare(Z.id);Sr(pe.availableDocuments)}catch(pe){console.error("Error fetching available documents:",pe),O.error("Failed to load documents for comparison")}finally{We(!1)}},ir=async(Z,pe)=>{try{We(!0);const Ye=Z.type==="DRHP"?Z.id:pe.id,at=Z.type==="RHP"?Z.id:pe.id;await It.linkForCompare(Ye,at),$r(!1),ai(null),Sr([]),b(`/compare/${Ye}`),O.success("Documents linked successfully! Redirecting to comparison...")}catch(Ye){console.error("Error linking documents:",Ye),O.error("Failed to link documents for comparison")}finally{We(!1)}},Cr=async(Z,pe="DRHP")=>{var cr,ii;if(Z.type!=="application/pdf"){O.error("Please select a PDF file");return}const Ye=Z.name.toLowerCase(),at=(e||[]).find(Sn=>{var Ks;return((Ks=Sn==null?void 0:Sn.namespace)==null?void 0:Ks.toLowerCase())===Ye});if(at){ne(at.id),setTimeout(()=>{const Sn=A.current[at.id];Sn&&Sn.scrollIntoView({behavior:"smooth",block:"center"})},150),O(o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(us,{className:"h-4 w-4 text-destructive"}),o.jsxs("span",{children:['Document "',at.name,'" already exists and is highlighted below.']})]}),{duration:4e3});return}a(!0);const ft=O.loading(o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("span",{children:["Checking ",Z.name,"..."]})}));try{const Sn=await f1.checkExistingDocument(Z.name);if(Sn.exists&&Sn.document){O.dismiss(ft),ne(Sn.document.id),e!=null&&e.length||await Ht(),setTimeout(()=>{const Wn=A.current[Sn.document.id];Wn&&Wn.scrollIntoView({behavior:"smooth",block:"center"})},200),O(o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(us,{className:"h-4 w-4 text-destructive"}),o.jsxs("span",{children:['Document "',Sn.document.name,'" already exists and is highlighted below.']})]}),{duration:4e3});return}const Ks=localStorage.getItem("accessToken"),Uc=new FormData;Uc.append("file",Z),Uc.append("namespace",Z.name),Uc.append("type",pe),ce!=null&&ce.id&&Uc.append("directoryId",ce.id);const Up=await fetch("http://localhost:5000/api/documents/upload",{method:"POST",headers:{Authorization:`Bearer ${Ks}`},body:Uc});let $t=await Up.json();if(!Up.ok){if(Up.status===409){O.dismiss(ft),ne((cr=$t==null?void 0:$t.existingDocument)==null?void 0:cr.id),setTimeout(()=>{var Z1;const Wn=A.current[(Z1=$t==null?void 0:$t.existingDocument)==null?void 0:Z1.id];Wn&&Wn.scrollIntoView({behavior:"smooth",block:"center"})},200),O(o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(us,{className:"h-4 w-4 text-destructive"}),o.jsxs("span",{children:['Document "',(ii=$t==null?void 0:$t.existingDocument)==null?void 0:ii.name,'" already exists and is highlighted below.']})]}),{duration:4e3});return}throw new Error(($t==null?void 0:$t.error)||"Failed to upload file to backend")}if($t&&$t.existingDocument){O.dismiss(ft),ne($t.existingDocument.id),setTimeout(()=>{const Wn=A.current[$t.existingDocument.id];Wn&&Wn.scrollIntoView({behavior:"smooth",block:"center"})},200),O(o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(us,{className:"h-4 w-4 text-destructive "}),o.jsxs("span",{children:['Document "',$t.existingDocument.name,'" already exists and is highlighted below.']})]}),{duration:4e3});return}if(!$t||!$t.document)throw new Error(($t==null?void 0:$t.error)||"Upload failed");console.log("file response:",$t);const sl=$t.document;O.dismiss(ft),O.loading(o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ze,{className:"h-4 w-4 animate-spin"}),o.jsxs("span",{children:["Processing ",Z.name,"... This may take a few moments."]})]}),{id:`upload-processing-${sl.id}`,duration:1/0});let Jd=0;const X1=120,Hp=5e3,$p=async()=>{try{const Wn=await It.getById(sl.id);if(Wn.status==="completed"||Wn.status==="ready"){O.dismiss(`upload-processing-${sl.id}`),O.success(o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Uo,{className:"h-4 w-4 text-green-600"}),o.jsxs("span",{children:[Z.name," processed successfully!"]})]})),T(Wn),F(!0),Ht(),a(!1);return}if(Wn.status==="failed"||Wn.status==="error"){O.dismiss(`upload-processing-${sl.id}`),O.error(o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(us,{className:"h-4 w-4 text-destructive"}),o.jsxs("span",{children:["Processing failed for ",Z.name,". Please try uploading again."]})]})),a(!1);return}Jd++,Jd<X1?setTimeout($p,Hp):(O.dismiss(`upload-processing-${sl.id}`),O.warning(o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(us,{className:"h-4 w-4 text-yellow-600"}),o.jsxs("span",{children:[Z.name," is taking longer than expected. You can check its status later."]})]})),a(!1),Ht())}catch(Wn){console.error("Error polling document status:",Wn),Jd++,Jd<X1?setTimeout($p,Hp):(O.dismiss(`upload-processing-${sl.id}`),O.error("Failed to check processing status. Please refresh the page."),a(!1))}};setTimeout($p,Hp)}catch(Sn){console.error("Upload error:",Sn),O.error(o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(us,{className:"h-4 w-4 text-destructive"}),o.jsx("span",{children:Sn instanceof Error?Sn.message:"Upload failed"})]}),{id:ft,duration:4e3})}finally{a(!1)}},tl=e.filter(Z=>{if(w&&!Z.name.toLowerCase().includes(w.toLowerCase()))return!1;let pe;if(Z.uploadedAt)pe=new Date(Z.uploadedAt);else if(Z.date)pe=new Date(Z.date);else return!0;if(isNaN(pe.getTime()))return!0;const Ye=m?new Date(m):null,at=g?new Date(g):null;if(Ye&&pe<Ye||at&&pe>at)return!1;if(Ie!=="all"){const ft=new Date;let cr;switch(Ie){case"today":cr=new Date,cr.setHours(0,0,0,0);break;case"last7":cr=new Date(ft.getTime()-7*24*60*60*1e3);break;case"last15":cr=new Date(ft.getTime()-15*24*60*60*1e3);break;case"last30":cr=new Date(ft.getTime()-30*24*60*60*1e3);break;default:return!0}if(console.log(`Filter: ${Ie}, Filter Start: ${cr.toLocaleDateString()}, Doc Date: ${pe.toLocaleDateString()}, Doc Name: ${Z.name}, Pass: ${pe>=cr}`),pe<cr)return!1}return!0}),Qd=async Z=>{k(Z),I(!0)},Fp=async()=>{if(V){Nt(!0);try{await It.delete(V.id),O.success("Document deleted successfully"),Ht()}catch{O.error("Failed to delete document")}finally{Nt(!1),I(!1),k(null)}}},Xd=Z=>{P(Z.id),M(Z.name)},Zd=Z=>{M(Z.target.value)},nl=async Z=>{if(!L.trim()||L===Z.name){P(null);return}try{await It.update(Z.id,{name:L.trim()}),O.success("Document renamed successfully"),Ht()}catch{O.error("Failed to rename document")}finally{P(null)}},rl=(Z,pe)=>{Z.key==="Enter"?nl(pe):Z.key==="Escape"&&P(null)},Q=Z=>{Ge(Z.id),X(Z.directoryId??null)},fe=async Z=>{He&&(await It.update(He,{directoryId:Z}),Ge(null),X(null),Ht())},Ae=()=>{F(!1),T(null)},ct=()=>{b("/dashboard")},Tt=()=>{z(!1)},Ga=Z=>{Z&&b(`/doc/${Z.id}`),z(!1)},lr=Z=>{Z&&b(`/doc/${Z.documentId}?chatId=${Z.id}`),z(!1)},sn=()=>{z(!1)},wa=()=>{(m||g)&&Ce(!0),f(!1)},Bp=()=>{p(""),y(""),Ce(!1)};return h.useEffect(()=>{const Z=pe=>{if(W){const Ye=document.querySelector('[data-sidebar="true"]'),at=document.querySelector('[data-hamburger="true"]');Ye&&!Ye.contains(pe.target)&&at&&!at.contains(pe.target)&&z(!1)}if(tt){const Ye=document.querySelector('[data-time-filter="true"]');Ye&&!Ye.contains(pe.target)&&Ut(!1)}if(ve){const Ye=document.querySelector('[data-upload-dropdown="true"]');Ye&&!Ye.contains(pe.target)&&Fe(!1)}};return(W||tt||ve)&&document.addEventListener("mousedown",Z),()=>{document.removeEventListener("mousedown",Z)}},[W,tt,ve]),o.jsxs("div",{className:"min-h-screen bg-white flex flex-col font-sans relative",style:{fontFamily:"Inter, Arial, sans-serif"},children:[s&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[9999]",children:o.jsx("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4 shadow-2xl",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx(Ze,{className:"h-16 w-16 animate-spin text-[#4B2A06]"}),o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Processing Document"}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Your document is being uploaded and processed through our system."}),o.jsx("p",{className:"text-xs text-gray-500",children:"Please do not close this window or refresh the page."}),o.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-xs text-gray-400",children:[o.jsx(Ze,{className:"h-3 w-3 animate-spin"}),o.jsx("span",{children:"This may take a few moments..."})]})]})]})})}),o.jsx(Hs,{showSearch:!0,searchValue:w,onSearchChange:v,onSidebarOpen:()=>z(!0),sidebarOpen:W}),o.jsxs("div",{className:"flex-1 flex flex-row min-w-0",children:[o.jsx(ite,{onFolderOpen:Z=>xe({id:Z.id,name:Z.name}),onFolderDeleted:()=>{xe(null),Ht()}}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[o.jsx("div",{className:`fixed top-0 left-0 h-full z-50 transition-all duration-300 ${W?"w-[15%] min-w-[200px]":"w-0 min-w-0 max-w-0"} bg-white shadow-xl`,style:{overflow:"hidden"},"data-sidebar":"true",children:W&&o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[o.jsxs("button",{onClick:ct,className:"flex items-center gap-2 text-[#7C7C7C] hover:text-[#4B2A06] transition-colors",children:[o.jsx(td,{className:"h-5 w-5"}),o.jsx("span",{className:"text-sm font-medium",children:"Back"})]}),o.jsx("button",{onClick:Tt,className:"text-[#7C7C7C] hover:text-[#4B2A06] transition-colors",children:o.jsx(Bn,{className:"h-5 w-5"})})]}),o.jsx("div",{className:"p-4",children:o.jsxs("button",{className:"w-full flex items-center justify-between bg-[#ECE9E2] rounded-2xl px-5 py-4 text-[#4B2A06] text-[1.1rem] font-bold shadow-none border-none hover:bg-[#E0D7CE] transition",style:{fontWeight:700,fontSize:"1.1rem",borderRadius:"18px"},onClick:sn,children:[o.jsx("span",{children:"New Chat"}),o.jsx(Li,{className:"h-7 w-7 text-[#4B2A06]"})]})}),o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx(q3,{selectedDocumentId:null,selectedChatId:null,onBack:ct,onClose:Tt,onSelectDocument:Ga,onSelectChat:lr,onNewChat:sn})})]})}),o.jsxs("main",{className:`flex-1 flex flex-col pt-[1.5vw] pr-[1.5vw] pb-[4vh] relative max-w-[77vw] mx-auto w-full min-h-0 transition-all duration-300 ${W?"ml-[15%] max-w-[77vw]":""}`,children:[o.jsx("div",{className:"flex flex-col space-y-[1.5vw] mb-[1.5vw]",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("div",{className:"flex flex-col",children:(N==null?void 0:N.role)==="admin"&&o.jsxs("div",{className:"flex gap-[1vw]",children:[o.jsxs("button",{onClick:()=>b("/admin"),className:"flex items-center gap-[0.5vw] bg-[#4B2A06] text-white font-semibold px-[1.5vw] py-[0.5vw] rounded-lg text-lg hover:bg-[#3A2004] transition-colors",children:[o.jsx(oc,{className:"h-5 w-5"}),"Admin Dashboard"]}),o.jsxs("button",{onClick:()=>b("/admin/users"),className:"flex items-center gap-[0.5vw] bg-[#FF7A1A] text-white font-semibold px-[1.5vw] py-[0.5vw] rounded-lg text-lg hover:bg-[#E56A0A] transition-colors",children:[o.jsx(Sc,{className:"h-5 w-5"}),"User Management"]})]})}),o.jsxs("div",{className:"flex flex-col items-end relative",children:[o.jsx("input",{type:"file",ref:_,onChange:is,accept:".pdf",className:"hidden outline-none",disabled:s}),o.jsxs("div",{className:"relative",children:[o.jsx("button",{className:"flex items-center gap-[0.5vw] bg-[#4B2A06] text-white font-semibold px-4 py-2 rounded-lg shadow-lg text-lg transition hover:bg-[#3A2004] focus:outline-none",onClick:()=>Fe(!ve),disabled:s,title:"Choose document type to upload",children:s?o.jsxs(o.Fragment,{children:[o.jsx(Ze,{className:"h-[1.5vw] w-[1.5vw] min-w-[24px] min-h-[24px] animate-spin"}),"Processing..."]}):o.jsxs(o.Fragment,{children:["Upload Document",o.jsx(sc,{className:"h-4 w-4"})]})}),ve&&!s&&o.jsxs("div",{className:"absolute right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg z-20 min-w-[200px]","data-upload-dropdown":"true",children:[o.jsxs("button",{className:"w-full text-left px-4 py-3 text-sm hover:bg-gray-50 flex items-center gap-2",onClick:()=>{_t("DRHP"),Fe(!1),jn(!0)},children:[o.jsx(Yt,{className:"h-4 w-4 text-[#4B2A06]"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Upload DRHP"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Draft Red Herring Prospectus"})]})]}),o.jsxs("button",{className:"w-full text-left px-4 py-3 text-sm hover:bg-gray-50 flex items-center gap-2 border-t border-gray-100",onClick:()=>{_t("RHP"),Fe(!1),Pt(!0)},children:[o.jsx(Yt,{className:"h-4 w-4 text-[#FF7A1A]"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Upload RHP"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Red Herring Prospectus"})]})]})]})]})]})]})}),o.jsxs("div",{className:"flex justify-between items-center mb-[2vw]",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[!ce&&o.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[o.jsxs("button",{className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all ${q==="DRHP"?"bg-white text-[#4B2A06] shadow-sm":"text-gray-600 hover:text-gray-800"}`,onClick:()=>ue("DRHP"),type:"button",children:[o.jsx(Yt,{className:"h-4 w-4"}),"DRHP"]}),o.jsxs("button",{className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all ${q==="RHP"?"bg-white text-[#4B2A06] shadow-sm":"text-gray-600 hover:text-gray-800"}`,onClick:()=>ue("RHP"),type:"button",children:[o.jsx(Yt,{className:"h-4 w-4"}),"RHP"]})]}),o.jsxs("div",{className:"relative mr-[0.5vw]",children:[o.jsx("button",{className:`flex items-center gap-[0.5vw] font-semibold px-[1.5vw] py-[0.5vw] rounded-lg text-base transition-colors ${ye?"bg-[#4B2A06] text-white hover:bg-[#3A2004]":"bg-[#F3F4F6] text-[#5A6473] hover:bg-[#E5E7EB]"}`,onClick:()=>f(Z=>!Z),type:"button",children:ye?o.jsxs(o.Fragment,{children:[m&&g?`${m} - ${g}`:m?`From ${m}`:g?`Until ${g}`:"Date Range",o.jsx(Bn,{className:"h-[0.8vw] w-[0.8vw] min-w-[12px] min-h-[12px] ml-1",onClick:Z=>{Z.stopPropagation(),Bp()}})]}):o.jsxs(o.Fragment,{children:["Date Range"," ",o.jsx(Fm,{className:"h-[1vw] w-[1vw] min-w-[16px] min-h-[16px]"})]})}),d&&o.jsxs("div",{className:"absolute left-0 mt-[0.5vw] bg-white border border-[#E5E5E5] rounded-lg shadow-lg p-[1vw] flex gap-[1vw] z-20",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("label",{className:"text-xs mb-1 text-[#232323]",children:"Start Date"}),o.jsx("input",{type:"date",value:m,onChange:Z=>p(Z.target.value),className:"border border-[#E5E5E5] rounded px-[0.5vw] py-[0.3vw] outline-none"})]}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("label",{className:"text-xs mb-1 text-[#232323]",children:"End Date"}),o.jsx("input",{type:"date",value:g,onChange:Z=>y(Z.target.value),className:"border border-[#E5E5E5] rounded px-[0.5vw] py-[0.3vw] outline-none"})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("button",{className:"px-[1vw] py-[0.3vw] rounded bg-[#4B2A06] text-white text-sm font-semibold hover:bg-[#3A2004]",onClick:wa,children:"Apply"}),o.jsx("button",{className:"px-[1vw] py-[0.3vw] rounded bg-gray-200 text-gray-700 text-sm font-semibold hover:bg-gray-300",onClick:()=>f(!1),children:"Cancel"})]})]})]}),(ce==null?void 0:ce.name)&&o.jsxs("button",{className:"flex items-center bg-[#F3F4F6] gap-[0.5vw] text-[#5A6473] font-semibold rounded-lg  px-[1.2vw] py-[0.5vw] text-sm hover:text-[#4B2A06]",onClick:()=>xe(null),title:"Back to all files",children:[o.jsx(td,{className:"h-[0.9vw] w-[0.9vw] min-w-[14px] min-h-[14px] "}),o.jsx("div",{className:"flex items-center  bg-[#F3F4F6] text-[#4B2A06] font-semibold  rounded-lg text-base",children:o.jsx("span",{className:"truncate max-w-[18vw]",title:ce.name,children:ce.name})})]})]}),o.jsx("div",{className:"flex items-center gap-[0.5vw]",children:o.jsxs("div",{className:"flex bg-[#F3F4F6] rounded-lg p-1",children:[o.jsxs("button",{className:`flex items-center gap-1 px-4 py-2 rounded-md text-sm font-semibold transition-colors ${ae==="list"?"bg-white text-[#4B2A06] shadow-sm":"text-[#5A6473] hover:text-[#4B2A06]"}`,onClick:()=>J("list"),title:"List view",children:[o.jsx(YD,{className:"h-4 w-4"}),o.jsx("span",{children:"List"})]}),o.jsxs("button",{className:`flex items-center gap-1 px-4 py-2 rounded-md text-sm font-semibold transition-colors ${ae==="card"?"bg-white text-[#4B2A06] shadow-sm":"text-[#5A6473] hover:text-[#4B2A06]"}`,onClick:()=>J("card"),title:"Card view",children:[o.jsx(WD,{className:"h-4 w-4"}),o.jsx("span",{children:"Cards"})]})]})})]}),o.jsx("div",{className:"flex-1 min-h-0",children:o.jsx("div",{className:`${(N==null?void 0:N.role)==="admin"?"h-[68vh]":"h-[67vh]"} overflow-y-auto`,children:n?o.jsx("div",{className:"flex justify-center items-center h-[10vh] text-lg text-muted-foreground",children:"Loading documents..."}):i?o.jsx("div",{className:"flex justify-center items-center h-[10vh] text-lg text-destructive",children:i}):o.jsx(o.Fragment,{children:ae==="card"?o.jsx("div",{className:"grid grid-cols-4 gap-[1.5vw] mb-[1vw]",children:tl.length===0?o.jsx("div",{className:"col-span-4 text-center text-muted-foreground",children:"No documents found."}):tl.map(Z=>o.jsxs("div",{ref:pe=>A.current[Z.id]=pe,className:`flex flex-col items-start bg-[#F3F4F6] rounded-xl p-[1vw] min-w-[180px] min-h-[110px] w-full cursor-pointer hover:bg-[#ECECEC] transition relative
                            ${c&&c.id===Z.id?"ring-2 ring-[#4B2A06] bg-[#ECECEC]":""}
                            ${G===Z.id?"ring-4 ring-orange-400 bg-yellow-100 animate-pulse":""}
                          `,onClick:()=>{ce&&localStorage.setItem("currentFolder",JSON.stringify(ce)),b(`/doc/${Z.id||Z.namespace}`)},onAnimationEnd:()=>{G===Z.id&&ne(null)},children:[o.jsxs("div",{className:"flex w-full justify-between items-start",children:[o.jsx(Yt,{className:"h-3 w-3 text-[#4B2A06] mb-[1vw]"}),o.jsxs("div",{className:"flex ",children:[o.jsx("button",{className:"text-muted-foreground hover:text-[#4B2A06] p-[0.3vw] flex items-center justify-center",onClick:pe=>{pe.stopPropagation(),Z.type==="RHP"?kr(Z):Z.relatedRhpId?b(`/compare/${Z.id}`):kr(Z)},title:Z.relatedRhpId||Z.relatedDrhpId?"View comparison report":"Compare with other document",disabled:qa,children:Z.relatedRhpId||Z.relatedDrhpId?o.jsx("img",{className:"h-4 w-4 object-contain",src:"https://img.icons8.com/pastel-glyph/128/document--v1.png",alt:"view"}):o.jsx("img",{className:"h-3 w-3 object-contain",src:"https://img.icons8.com/ios/50/compare.png",alt:"compare"})}),o.jsx("button",{className:"text-muted-foreground hover:text-[#4B2A06] p-[0.3vw]",onClick:pe=>{pe.stopPropagation(),Xd(Z)},title:"Rename document",children:o.jsx(rx,{className:"h-3 w-3"})}),o.jsx("button",{className:"text-muted-foreground hover:text-[#4B2A06] p-[0.3vw]",onClick:pe=>{pe.stopPropagation(),Q(Z)},title:"Move to folder",children:o.jsx(nd,{className:"h-3 w-3"})}),(N==null?void 0:N.role)==="admin"&&o.jsx("button",{className:"text-muted-foreground hover:text-[#4B2A06] p-[0.3vw]",onClick:pe=>{pe.stopPropagation(),Ee(Z.id),me(Z.name||Z.namespace||"Document")},title:"Move to workspace (Admin only)",children:o.jsx(Bo,{className:"h-3 w-3"})}),o.jsx("button",{className:"text-muted-foreground hover:text-[#4B2A06] p-[0.3vw]",onClick:pe=>{pe.stopPropagation(),_e(Z.id)},title:"Share",children:o.jsx(rd,{className:"h-3 w-3"})}),o.jsx("button",{className:" text-muted-foreground hover:text-destructive p-[0.3vw]",onClick:pe=>{pe.stopPropagation(),Qd(Z)},title:"Delete document",children:o.jsx(Kn,{className:"h-3 w-3"})})]})]}),Y===Z.id?o.jsxs("div",{className:"flex items-center w-full mt-[0.5vw] mb-[0.5vw]",children:[o.jsx("input",{className:"font-semibold text-[#232323] mb-1 max-w-full truncate block border border-gray-300 rounded px-[0.5vw] py-[0.3vw] outline-none focus:outline-none focus:ring-0 focus:border-gray-300",style:{maxWidth:"120px"},value:L,autoFocus:!0,onClick:pe=>pe.stopPropagation(),onFocus:pe=>pe.stopPropagation(),onChange:Zd,onBlur:()=>nl(Z),onKeyDown:pe=>rl(pe,Z)}),o.jsx("button",{className:"ml-[0.5vw] text-muted-foreground hover:text-destructive",onClick:pe=>{pe.stopPropagation(),P(null)},title:"Cancel rename",children:o.jsx(Bn,{className:"h-[0.8vw] w-[0.8vw] min-w-[12px] min-h-[12px]"})})]}):o.jsx("span",{className:"font-semibold text-[#232323] mb-1 max-w-full truncate block",style:{maxWidth:"180px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Z.name}),o.jsx("span",{className:"text-[#A1A1AA] text-sm",children:Z.size||(Z.fileSize?`${Math.round(Z.fileSize/1024)} KB`:"")}),o.jsxs("div",{className:"flex items-center justify-between w-full mt-[0.5vw]",children:[o.jsx("span",{className:"text-[#A1A1AA] text-xs",children:Z.uploadedAt?new Date(Z.uploadedAt).toLocaleDateString():""}),o.jsx("div",{className:"flex justify-between items-center ",children:Z.type==="DRHP"&&Z.relatedRhpId?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-xs px-2 py-1 mx-1 rounded-full bg-[#ECE9E2] text-[#4B2A06]",children:"DRHP"}),o.jsx("span",{className:"text-xs px-2 py-1 mx-1 rounded-full bg-[#ECE9E2] text-[#4B2A06]",children:"RHP"})]}):Z.type==="RHP"&&Z.relatedDrhpId?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-xs px-2 py-1 mx-1 rounded-full bg-[#ECE9E2] text-[#4B2A06]",children:"RHP"}),o.jsx("span",{className:"text-xs px-2 py-1 mx-1 rounded-full bg-[#ECE9E2] text-[#4B2A06]",children:"DRHP"})]}):o.jsx("span",{className:"text-xs px-2 py-1 mx-1 rounded-full bg-[#ECE9E2] text-[#4B2A06]",children:Z.type})})]})]},Z.id))}):o.jsxs("div",{className:"bg-white overflow-hidden",children:[o.jsx("div",{className:"bg-gray-50 border-b border-gray-200 rounded-lg px-6 py-3",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4 text-sm font-semibold text-gray-600 ",children:[o.jsx("div",{className:"col-span-6",children:"Name"}),o.jsx("div",{className:"col-span-2",children:"Doc type"}),o.jsx("div",{className:"col-span-3",children:"Last modified"}),o.jsx("div",{className:"col-span-1 text-right",children:"Actions"})]})}),tl.length===0?o.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No documents found."}):tl.map(Z=>o.jsxs("div",{ref:pe=>A.current[Z.id]=pe,className:`grid grid-cols-12 gap-4 px-6 py-4 border-b border-gray-200 rounded-lg shadow-sm hover:bg-gray-50 cursor-pointer transition-colors relative
                            ${c&&c.id===Z.id?"bg-blue-50 border-blue-200":""}
                            ${G===Z.id?"bg-yellow-100 border-yellow-300 animate-pulse":""}
                          `,onClick:()=>{ce&&localStorage.setItem("currentFolder",JSON.stringify(ce)),b(`/doc/${Z.id||Z.namespace}`)},onAnimationEnd:()=>{G===Z.id&&ne(null)},children:[o.jsxs("div",{className:"col-span-6 flex items-center gap-3",children:[o.jsx(Yt,{className:"h-3 w-3 text-[#4B2A06] flex-shrink-0"}),o.jsx("div",{className:"flex-1 min-w-0",children:Y===Z.id?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{className:"font-medium text-gray-900 border border-gray-300 rounded px-2 py-1 text-sm outline-none focus:outline-none focus:ring-0 focus:border-gray-300",value:L,autoFocus:!0,onClick:pe=>pe.stopPropagation(),onFocus:pe=>pe.stopPropagation(),onChange:Zd,onBlur:()=>nl(Z),onKeyDown:pe=>rl(pe,Z)}),o.jsx("button",{className:"text-gray-400 hover:text-red-500",onClick:pe=>{pe.stopPropagation(),P(null)},title:"Cancel rename",children:o.jsx(Bn,{className:"h-4 w-4"})})]}):o.jsx("span",{className:"font-medium text-gray-900 truncate",children:Z.name})})]}),o.jsx("div",{className:"col-span-2 flex items-center",children:o.jsx("div",{className:"flex gap-1",children:Z.type==="DRHP"&&Z.relatedRhpId?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-[#ECE9E2] text-[#4B2A06]",children:"DRHP"}),o.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-[#ECE9E2] text-[#4B2A06]",children:"RHP"})]}):Z.type==="RHP"&&Z.relatedDrhpId?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-[#ECE9E2] text-[#4B2A06]",children:"RHP"}),o.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-[#ECE9E2] text-[#4B2A06]",children:"DRHP"})]}):o.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-[#ECE9E2] text-[#4B2A06]",children:Z.type})})}),o.jsx("div",{className:"col-span-3 flex items-center",children:o.jsx("span",{className:"text-sm text-gray-600",children:Z.uploadedAt?new Date(Z.uploadedAt).toLocaleDateString():""})}),o.jsx("div",{className:"col-span-1 flex items-center justify-end",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{className:"text-muted-foreground hover:text-[#4B2A06] p-[0.3vw] flex items-center justify-center min-w-[24px] min-h-[24px]",onClick:pe=>{pe.stopPropagation(),Z.type==="RHP"?kr(Z):Z.relatedRhpId?b(`/compare/${Z.id}`):kr(Z)},title:Z.relatedRhpId||Z.relatedDrhpId?"View comparison report":"Compare with other document",disabled:qa,style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Z.relatedRhpId||Z.relatedDrhpId?o.jsx("img",{className:"h-4 w-4 object-contain",src:"https://img.icons8.com/pastel-glyph/128/document--v1.png",alt:"view",style:{display:"block",maxWidth:"100%",height:"auto",minWidth:"12px",minHeight:"12px"},onError:pe=>{console.log("Image failed to load:",pe),pe.currentTarget.style.display="none"}}):o.jsx("img",{className:"h-4 w-4 object-contain",src:"https://img.icons8.com/ios/50/compare.png",alt:"compare",style:{display:"block",maxWidth:"100%",height:"auto",minWidth:"12px",minHeight:"12px"},onError:pe=>{console.log("Image failed to load:",pe),pe.currentTarget.style.display="none"}})}),o.jsx("button",{className:"text-[#4B2A06] hover:text-[#4B2A06] p-1",onClick:pe=>{pe.stopPropagation(),Xd(Z)},title:"Rename document",children:o.jsx(rx,{className:"h-3 w-3"})}),o.jsx("button",{className:"text-[#4B2A06] hover:text-[#4B2A06] p-1",onClick:pe=>{pe.stopPropagation(),Q(Z)},title:"Move to folder",children:o.jsx(nd,{className:"h-3 w-3"})}),o.jsx("button",{className:"text-[#4B2A06] hover:text-[#4B2A06] p-1",onClick:pe=>{pe.stopPropagation(),_e(Z.id)},title:"Share",children:o.jsx(rd,{className:"h-3 w-3 hover:bg-gray-200 rounded-sm "})}),o.jsx("button",{className:"text-[#4B2A06] hover:text-red-600 p-1",onClick:pe=>{pe.stopPropagation(),Qd(Z)},title:"Delete document",children:o.jsx(Kn,{className:"h-3 w-3"})})]})})]},Z.id))]})})})}),$&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-[2vw] max-w-sm w-full",children:[o.jsx("h2",{className:"text-lg font-bold mb-[1vw]",children:"Delete Document"}),o.jsxs("p",{className:"mb-[2vw]",children:['Are you sure you want to delete "',V==null?void 0:V.name,'"? This action cannot be undone.']}),o.jsxs("div",{className:"flex justify-end gap-[1vw]",children:[o.jsx("button",{className:"px-[1vw] py-[0.5vw] rounded bg-gray-200 hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>I(!1),disabled:ht,children:"Cancel"}),o.jsx("button",{className:"px-[1vw] py-[0.5vw] rounded bg-red-600 text-white hover:bg-red-700 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:Fp,disabled:ht,children:ht?o.jsxs(o.Fragment,{children:[o.jsx(Ze,{className:"h-4 w-4 animate-spin"}),o.jsx("span",{children:"Deleting..."})]}):"Delete"})]})]})}),K&&D&&o.jsx("div",{className:"fixed inset-0 px-10 z-50 flex items-center justify-center bg-black bg-opacity-30",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-[2vw] max-w-sm w-full flex flex-col items-center",children:[o.jsx(Uo,{className:"h-12 w-12 text-green-500 mb-4"}),o.jsx("h2",{className:"text-xl font-bold mb-2",children:"Document saved successfully!"}),o.jsxs("p",{className:"mb-4 text-center",children:["Your document ",o.jsx("b",{children:D.name})," has been uploaded and saved."]}),o.jsx("button",{className:"px-6 py-2 rounded bg-[#4B2A06] text-white font-semibold hover:bg-[#3A2004]",onClick:Ae,children:"OK"})]})})]}),o.jsx(h1,{resourceType:"document",resourceId:re,open:!!re,onOpenChange:Z=>!Z&&_e(null)}),o.jsx(lte,{open:!!He,onOpenChange:Z=>{Z||(Ge(null),X(null))},onSelectDestination:fe,currentDirectoryId:U}),o.jsx(cte,{open:!!le,onOpenChange:Z=>{Z||(Ee(null),me(""))},documentId:le||"",documentName:Te,onMoveComplete:()=>{Ee(null),me(""),Ht()}}),o.jsx(ate,{open:Lt,onOpenChange:Z=>{s||jn(Z)},setIsUploading:a,onUploadSuccess:Z=>Cr(Z,"DRHP").finally(()=>{setTimeout(()=>{jn(!1)},500)})}),Tn&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Upload RHP Document"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select a Red Herring Prospectus (RHP) document to upload. This will be linked to a DRHP document."}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select RHP File"}),o.jsx("input",{type:"file",accept:".pdf",onChange:Z=>{Z.target.files&&Z.target.files[0]&&Gt(Z.target.files[0])},className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm"})]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",onClick:()=>{Pt(!1),Gt(null)},disabled:s,children:"Cancel"}),o.jsx("button",{className:"px-4 py-2 text-sm font-medium text-white bg-[#4B2A06] hover:bg-[#3A2004] rounded-md disabled:opacity-50",onClick:()=>{Et&&(Pt(!1),Cr(Et,"RHP"),Gt(null))},disabled:!Et||s,children:"Continue"})]})]})}),o.jsx(VI,{open:Kt,onClose:()=>{$r(!1),ai(null),Sr([])},selectedDocument:el,availableDocuments:oi,onDocumentSelect:ir,loading:qa})]})]})]})},dte=()=>o.jsx(ute,{}),fte="http://localhost:5678",hte=`${fte}/webhook/compare-rhp-drhp`,mte={async createComparison(e,t,n,r,s,a,i){var l,c,u,d;try{const f={drhpNamespace:e,rhpNamespace:t,prompt:n,drhpDocumentId:s,rhpDocumentId:a,sessionId:r.id,timestamp:new Date().toISOString(),domain:(()=>{try{const p=localStorage.getItem("accessToken");if(!p)return;const g=JSON.parse(atob(p.split(".")[1]));return g==null?void 0:g.domain}catch{return}})(),documentId:s,documentType:"Comparison"};try{const p=localStorage.getItem("accessToken");if(p){const y=JSON.parse(atob(p.split(".")[1])),w=y==null?void 0:y.domainId;w?f.domainId=w:console.warn("domainId not found in JWT token for report request")}const g=localStorage.getItem("currentWorkspace");g&&(f.workspaceId=g)}catch(p){console.error("Error extracting domainId from token:",p)}console.log(" Sending to n8n report webhook payload:",{drhpNamespace:f.drhpNamespace,rhpNamespace:f.rhpNamespace,domainId:f.domainId,workspaceId:f.workspaceId,domain:f.domain});const m=await te.post(hte,f,{headers:{"Content-Type":"application/json"},signal:i});return{executionId:(l=m.data)==null?void 0:l.executionId,status:(c=m.data)==null?void 0:c.status,jobId:(u=m.data)==null?void 0:u.jobId,error:(d=m.data)==null?void 0:d.error}}catch(f){return te.isCancel(f)?{error:"Request was canceled by the user."}:{error:f instanceof Error?f.message:"Unknown error"}}}},pte=()=>{const{drhpId:e}=Ab(),[t]=Zm(),n=t.get("linkToken")||localStorage.getItem("sharedLinkToken")||void 0,r=qt(),{user:s}=Nn(),[a]=h.useState(()=>aa.initializeSession()),[i,l]=h.useState(null),[c,u]=h.useState(null),[d,f]=h.useState([]),[m,p]=h.useState(null),[g,y]=h.useState(!0),[w,v]=h.useState(!1),[b,E]=h.useState(!1),[N,C]=h.useState(1),S=h.useRef(null),[_,H]=h.useState(null),[V,k]=h.useState(!0),$=h.useRef({jobId:null,status:null}),I=h.useRef(i),Y=h.useRef(c),P=h.useRef(m);h.useEffect(()=>{I.current=i},[i]),h.useEffect(()=>{Y.current=c},[c]),h.useEffect(()=>{P.current=m},[m]);const L=async()=>{if(e)try{y(!0);const W=await It.getById(e,n);l(W);let z=null;W.relatedRhpId&&(z=await It.getById(W.relatedRhpId,n),u(z));const ce=(await la.getAll()).filter(xe=>xe.drhpNamespace===W.namespace||z&&xe.rhpNamespace===z.rhpNamespace).sort((xe,re)=>new Date(re.updatedAt).getTime()-new Date(xe.updatedAt).getTime());if(f(ce),ce.length>0){const xe=ce[0];console.log("Initial fetch - Selecting latest report:",xe.title,"Updated:",xe.updatedAt),p(xe)}else console.log("Initial fetch - No reports found"),p(null)}catch(W){console.error("Error fetching data:",W),O.error("Failed to load document and reports")}finally{y(!1)}},M=async(W=0)=>{if(!(!i||!c)){W>0&&await new Promise(z=>setTimeout(z,W));try{const J=(await la.getAll()).filter(ce=>ce.drhpNamespace===i.namespace||c&&ce.rhpNamespace===c.rhpNamespace).sort((ce,xe)=>new Date(xe.updatedAt).getTime()-new Date(ce.updatedAt).getTime());if(f(J),J.length>0){const ce=J[0];console.log("refreshReports - Selecting latest report:",ce.id,ce.title,"Updated:",ce.updatedAt),p(ce)}else console.log("refreshReports - No reports found for this document pair"),p(null)}catch(z){console.error("Error refreshing reports:",z)}}};h.useEffect(()=>{L()},[e]),h.useEffect(()=>{if(d.length>0){const W=d.reduce((z,ae)=>new Date(z.updatedAt).getTime()>new Date(ae.updatedAt).getTime()?z:ae);(!m||m.id!==W.id)&&(console.log("Auto-selecting latest report:",W.title,"Updated:",W.updatedAt),p(W))}},[d,m]),h.useEffect(()=>{(async()=>{const W=await Io.resolveTokenRole();H(W)})()},[]),h.useEffect(()=>{if(e){const W=`report_processing_${e}`;Number(localStorage.getItem(W))&&v(!0)}},[e]),h.useEffect(()=>{if(!e)return;const W=`report_processing_${e}`,z=Number(localStorage.getItem(W));if(w&&d&&d.length>0&&z){const ae=d.reduce((J,ce)=>new Date(J.updatedAt).getTime()>new Date(ce.updatedAt).getTime()?J:ce);new Date(ae.updatedAt).getTime()>z&&(localStorage.removeItem(W),v(!1))}},[d,w,e]),h.useEffect(()=>{const W=Bl("https://smart-rhtp-backend-2.onrender.com",{transports:["websocket"]});return W.on("compare_status",async z=>{const{jobId:ae,status:J,error:ce,reportId:xe}=z,re=J==null?void 0:J.trim().toLowerCase();if(!($.current.jobId===ae&&$.current.status===re))if($.current={jobId:ae,status:re},re==="completed"||re==="success"){O.success("Comparison completed successfully!"),v(!1),e&&localStorage.removeItem(`report_processing_${e}`);const _e=async(Ie=3,Xe=1e3)=>{try{await new Promise(He=>setTimeout(He,Xe));const tt=await la.getAll(),Ut=I.current,ye=Y.current;if(!Ut||!ye){Ie>0&&(console.log(`Documents not ready, retrying... (${Ie} retries left)`),await _e(Ie-1,Xe+500));return}const Ce=tt.filter(He=>He.drhpNamespace===Ut.namespace||ye&&He.rhpNamespace===ye.rhpNamespace);if(Ce.length>0){const He=Ce.sort((U,X)=>new Date(X.updatedAt).getTime()-new Date(U.updatedAt).getTime()),Ge=He[0];console.log(" Selecting latest report after completion:",Ge.id,"Title:",Ge.title,"Updated:",Ge.updatedAt),f(He),p(Ge),xe&&xe!==Ge.id&&tt.find(X=>X.id===xe)&&console.log("Found report by reportId, but latest is newer. Using latest:",Ge.id)}else Ie>0?(console.log(`No reports found, retrying... (${Ie} retries left)`),await _e(Ie-1,Xe+500)):console.warn("No reports found after all retries")}catch(tt){console.error("Error refreshing reports after completion:",tt),Ie>0&&await _e(Ie-1,Xe+500)}};_e()}else if(re==="failed")O.error(`Comparison failed: ${ce||"Unknown error"}`),v(!1),e&&localStorage.removeItem(`report_processing_${e}`);else if(re==="processing"){if(v(!0),e){const _e=`report_processing_${e}`;localStorage.getItem(_e)||localStorage.setItem(_e,Date.now().toString())}}else v(!1),e&&localStorage.removeItem(`report_processing_${e}`)}),()=>{W.disconnect()}},[e]),h.useEffect(()=>{const W=async()=>{if(!e)return;const ae=`report_processing_${e}`;localStorage.getItem(ae)&&(await M(),d&&d.length>0&&(v(!1),localStorage.removeItem(ae),localStorage.setItem(`report_ready_${e}`,"1"),O.success("Comparison report is ready!")))};W();const z=()=>W();return window.addEventListener("focus",z),()=>window.removeEventListener("focus",z)},[e,i==null?void 0:i.namespace,c==null?void 0:c.rhpNamespace]),h.useEffect(()=>{if(!e)return;const W=async()=>{w&&await M()};return window.addEventListener("focus",W),()=>window.removeEventListener("focus",W)},[w,e]);const K=async()=>{if(!i||!c){O.error("Both DRHP and RHP documents are required");return}const W="Compare these documents and provide a detailed analysis";try{if(v(!0),e){const J=Date.now();localStorage.setItem(`report_processing_${e}`,J.toString())}O.info("Comparison request sent. Please wait...");const z=i.namespace,ae=c.rhpNamespace||c.namespace;await mte.createComparison(z,ae,W,a,i.id,c.id)}catch(z){console.error("Error creating comparison report:",z),O.error("Failed to initiate comparison report"),v(!1),e&&localStorage.removeItem(`report_processing_${e}`)}},F=async()=>{if(c)try{E(!0),await It.delete(c.id),O.success("RHP document deleted successfully"),await L()}catch(W){console.error("Error deleting RHP document:",W),O.error("Failed to delete RHP document")}finally{E(!1)}};function D(W){return W.replace(/<style[^>]*>[\s\S]*?<\/style>/gi,"")}const T=async()=>{if(!m)return;let W;try{W=O.loading("Download processing...");const z=await la.downloadDocx(m.id),ae=window.URL.createObjectURL(z),J=document.createElement("a");J.href=ae,J.download=`${m.title}.docx`,document.body.appendChild(J),J.click(),window.URL.revokeObjectURL(ae),document.body.removeChild(J),O.dismiss(W),O.success("DOCX downloaded successfully")}catch(z){O.dismiss(W),console.error("Error downloading DOCX:",z),O.error("Failed to download DOCX")}},G=()=>C(W=>Math.min(Math.round((W+.1)*10)/10,2)),ne=()=>C(W=>Math.max(Math.round((W-.1)*10)/10,1)),A=()=>{if(S.current){const W=window.open("","","width=900,height=650");W&&(W.document.write(`
          <html>
            <head>
              <title>Print Report</title>
              <style>
                body { 
                  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; 
                  margin: 0; 
                  padding: 2rem; 
                  line-height: 1.6;
                  color: #1F2937;
                }
                .summary-content {
                  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
                  line-height: 1.6;
                  color: #1F2937;
                }
                .summary-content h1 { 
                  font-size: 28px; 
                  font-weight: 800; 
                  color: #1F2937; 
                  margin: 24px 0 16px 0; 
                  padding-bottom: 8px;
                  border-bottom: 2px solid #4B2A06;
                  line-height: 1.3;
                }
                .summary-content h2 { 
                  font-size: 22px; 
                  font-weight: 700; 
                  color: #1F2937; 
                  margin: 20px 0 12px 0; 
                  padding-left: 8px;
                  border-left: 4px solid #4B2A06;
                  line-height: 1.4;
                }
                .summary-content h3 { 
                  font-size: 18px; 
                  font-weight: 600; 
                  color: #374151; 
                  margin: 16px 0 10px 0; 
                  line-height: 1.4;
                }
                .summary-content h4 { 
                  font-size: 16px; 
                  font-weight: 600; 
                  color: #374151; 
                  margin: 14px 0 8px 0; 
                  line-height: 1.4;
                }
                .summary-content h5 { 
                  font-size: 14px; 
                  font-weight: 600; 
                  color: #4B5563; 
                  margin: 12px 0 6px 0; 
                  line-height: 1.4;
                }
                .summary-content h6 { 
                  font-size: 13px; 
                  font-weight: 600; 
                  color: #4B5563; 
                  margin: 10px 0 4px 0; 
                  line-height: 1.4;
                }
                .summary-content p { 
                  margin: 12px 0; 
                  line-height: 1.7;
                  text-align: justify;
                }
                .summary-content ul, .summary-content ol { 
                  margin: 12px 0; 
                  padding-left: 24px; 
                  line-height: 1.6;
                }
                .summary-content li { 
                  margin: 6px 0; 
                  line-height: 1.6;
                }
                .summary-content blockquote { 
                  margin: 16px 0; 
                  padding: 12px 16px; 
                  background: #F9FAFB; 
                  border-left: 4px solid #4B2A06; 
                  font-style: italic;
                  color: #4B5563;
                }
                .summary-content b, .summary-content strong { 
                  font-weight: 700; 
                  color: #1F2937;
                }
                .summary-content i, .summary-content em { 
                  font-style: italic; 
                  color: #4B5563;
                }
                .summary-content hr { 
                  border: none; 
                  border-top: 2px solid #E5E7EB; 
                  margin: 24px 0; 
                }
                .summary-content table {
                  border-collapse: collapse;
                  width: 100%;
                  border: 2px solid #d1d5de;
                  margin: 20px 0;
                  font-size: 14px;
                  background: #ECE9E2;
                  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
                }
                .summary-content th, .summary-content td {
                  border: 1px solid #d1d5de;
                  padding: 10px 12px;
                  text-align: left;
                  vertical-align: top;
                }
                .summary-content th {
                  background: #4B2A06;
                  color: white;
                  font-weight: 600;
                  font-size: 13px;
                }
                .summary-content tr:nth-child(even) td {
                  background: #F5F5F5;
                }
                .summary-content tr:nth-child(odd) td {
                  background: #ECE9E2;
                }
                .summary-content code {
                  background: #F3F4F6;
                  padding: 2px 6px;
                  border-radius: 4px;
                  font-family: 'Courier New', monospace;
                  font-size: 13px;
                  color: #1F2937;
                }
                .summary-content pre {
                  background: #F3F4F6;
                  padding: 16px;
                  border-radius: 8px;
                  overflow-x: auto;
                  margin: 16px 0;
                  border: 1px solid #E5E7EB;
                }
                .summary-content pre code {
                  background: none;
                  padding: 0;
                  font-size: 13px;
                }
                @media print {
                  .summary-content table {
                    border-collapse: collapse !important;
                    width: 100% !important;
                    border: 2px solid #d1d5de !important;
                    background: #ECE9E2 !important;
                    box-shadow: none !important;
                  }
                  .summary-content th, .summary-content td {
                    border: 1px solid #d1d5de !important;
                    padding: 10px 12px !important;
                    text-align: left !important;
                    vertical-align: top !important;
                  }
                  .summary-content th {
                    background: #4B2A06 !important;
                    color: white !important;
                    font-weight: 600 !important;
                    font-size: 13px !important;
                  }
                  .summary-content tr:nth-child(even) td {
                    background: #F5F5F5 !important;
                  }
                  .summary-content tr:nth-child(odd) td {
                    background: #ECE9E2 !important;
                  }
                  .summary-content h1, .summary-content h2, .summary-content h3, 
                  .summary-content h4, .summary-content h5, .summary-content h6 {
                    color: #1F2937 !important;
                    page-break-after: avoid;
                  }
                  .summary-content p, .summary-content li {
                    orphans: 3;
                    widows: 3;
                  }
                }
              </style>
            </head>
            <body>
              <div class="summary-content">
                ${S.current.innerHTML}
              </div>
            </body>
          </html>
        `),W.document.close(),W.focus(),W.print())}};return g?o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(Hs,{title:"Compare Documents"}),o.jsx("div",{className:"flex items-center justify-center h-[90vh]",children:o.jsx(Ze,{className:"h-8 w-8 animate-spin"})})]}):i?o.jsxs("div",{className:"h-screen w-[100vw] flex flex-col bg-white overflow-x-hidden",children:[o.jsx("div",{className:" fixed top-0 left-0 right-0 z-50 h-[10vh]",children:o.jsx(Hs,{title:"Compare Documents"})}),o.jsxs("div",{className:"h-[90vh] flex mt-[10vh]",children:[o.jsx("div",{className:`transition-all duration-300 ease-in-out ${V?"w-80":"w-16"} fixed top-[10vh] left-0 bg-white border-r border-gray-200 h-[90vh] px-5 flex flex-col overflow-hidden`,children:V&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"px-4 py-2 flex items-center justify-between",children:[o.jsx("h2",{className:"text-lg font-semibold text-[#4B2A06] ",children:"Documents"}),o.jsx("button",{onClick:()=>k(!1),className:"p-2 hover:bg-gray-100 rounded-md",children:o.jsx(Bn,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 ",children:[o.jsxs(On,{className:"w-full bg-white rounded-md  border border-gray-200",children:[o.jsx(tn,{className:"pb-2",children:o.jsxs(nn,{className:"flex items-center gap-2 text-sm",children:[o.jsx(Yt,{className:"h-4 w-4"}),"DRHP Document",i.hasRhp&&o.jsx(ZD,{className:"h-4 w-4 text-yellow-500"})]})}),o.jsx(gt,{className:"pt-0  ",children:o.jsxs("div",{className:"space-y-1 text-xs",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Name:"})," ",i.name]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Namespace:"})," ",i.namespace]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Uploaded:"})," ",new Date(i.uploadedAt).toLocaleDateString()]}),o.jsx(An,{variant:"secondary",className:"text-xs bg-[#ECE9E2] text-[#4B2A06] hover:bg-[#ECE9E2] hover:text-[#4B2A06]",children:"DRHP"})]})})]}),o.jsxs(On,{className:"w-full relative bg-white rounded-md  border border-gray-200",children:[c&&o.jsx("div",{className:"absolute top-2 right-2 z-10",children:o.jsxs(V3,{children:[o.jsx(cX,{asChild:!0,children:o.jsx(Re,{variant:"outline",size:"sm",className:"h-6 w-6 p-0 hover:bg-[#ECE9E2] text-[#4B2A06] bg-[#ECE9E2]",disabled:b,title:"Delete Document",children:b?o.jsx(Ze,{className:"h-3 w-3 animate-spin"}):o.jsx(Kn,{className:"h-3 w-3 "})})}),o.jsxs(E1,{children:[o.jsxs(N1,{children:[o.jsx(S1,{children:"Delete Document"}),o.jsx(k1,{children:"Are you sure you want to delete this document and its linked RHP? This action cannot be undone."})]}),o.jsxs(T1,{children:[o.jsx(A1,{children:"Cancel"}),o.jsx(C1,{onClick:F,children:"Delete"})]})]})]})}),o.jsx(tn,{className:"pb-2",children:o.jsxs(nn,{className:"flex items-center gap-2 text-sm",children:[o.jsx(Yt,{className:"h-4 w-4"}),"RHP Document"]})}),o.jsx(gt,{className:"pt-0",children:c?o.jsxs("div",{className:"space-y-1 text-xs",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Name:"})," ",c.name]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Namespace:"})," ",c.rhpNamespace]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Uploaded:"})," ",new Date(c.uploadedAt).toLocaleDateString()]}),o.jsx(An,{variant:"secondary",className:"text-xs text-xs bg-[#ECE9E2] text-[#4B2A06] hover:bg-[#ECE9E2] hover:text-[#4B2A06]",children:"RHP"})]}):o.jsxs("div",{className:"text-center py-4",children:[o.jsx(us,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),o.jsx("p",{className:"text-gray-600 text-xs",children:"No RHP document found"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Upload an RHP document to enable comparison"})]})})]})]}),c&&o.jsx("div",{className:"px-4 py-2 ",children:o.jsx(Re,{className:"w-full bg-[#4B2A06] hover:bg-[#6b3a0a] text-white font-semibold",onClick:K,disabled:w||_==="viewer",children:w?o.jsxs(o.Fragment,{children:[o.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Lh,{className:"mr-1 h-4 w-4"}),"Compare Documents"]})})})]})}),!V&&o.jsx("button",{onClick:()=>k(!0),className:"absolute top-[12vh] left-3 z-50 p-2 bg-white border border-gray-200 rounded-md shadow-md hover:bg-gray-50",children:o.jsx(GD,{className:"h-5 w-5"})}),o.jsx("div",{className:`flex-1 flex h-full transition-all duration-300 ease-in-out mx-10 ${V?"ml-80":"ml-16"}`,children:o.jsxs("div",{className:"flex-1 flex flex-col bg-gray-50  mx-auto",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between px-4 py-3 bg-white gap-2 sm:gap-0  ",children:[o.jsx("div",{className:"font-bold text-md md:text-lg ml-12",children:"Comparison Report"}),o.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[o.jsx("button",{className:"p-1  rounded hover:bg-gray-100",onClick:ne,title:"Zoom Out",disabled:N<=1,children:o.jsx(qD,{className:"h-4 w-4"})}),o.jsxs("span",{className:"w-8 text-center text-sm",children:[Math.round(N*100),"%"]}),o.jsx("button",{className:"p-1 rounded hover:bg-gray-100",onClick:G,title:"Zoom In",disabled:N>=2,children:o.jsx(Li,{className:"h-4 w-4 "})}),o.jsx("button",{className:"p-1  rounded hover:bg-gray-100",onClick:T,title:"Download DOCX",children:o.jsx(Yt,{className:"h-4 w-4 "})}),o.jsx("button",{className:"p-1 rounded hover:bg-gray-100",onClick:A,title:"Print",children:o.jsx(Bh,{className:"h-4 w-4 "})})]})]}),o.jsx("div",{className:" bg-white flex-1 overflow-hidden",children:w?o.jsxs("div",{className:"flex flex-1 items-center justify-center",children:[o.jsx(Ze,{className:"h-12 w-12 animate-spin text-[#4B2A06]"}),o.jsx("span",{className:"ml-4 text-lg",children:"Loading Summary......"})]}):m?o.jsxs("div",{className:"h-full mx-5 my-4 ",children:[o.jsx("style",{children:`
              .summary-content {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
                line-height: 1.6;
                color: #1F2937;
              }
              .summary-content h1 { 
                font-size: 28px; 
                font-weight: 800; 
                color: #1F2937; 
                margin: 24px 0 16px 0; 
                padding-bottom: 8px;
                border-bottom: 2px solid #4B2A06;
                line-height: 1.3;
              }
              .summary-content h2 { 
                font-size: 22px; 
                font-weight: 700; 
                color: #1F2937; 
                margin: 20px 0 12px 0; 
                padding-left: 8px;
                border-left: 4px solid #4B2A06;
                line-height: 1.4;
              }
              .summary-content h3 { 
                font-size: 18px; 
                font-weight: 600; 
                color: #374151; 
                margin: 16px 0 10px 0; 
                line-height: 1.4;
              }
              .summary-content h4 { 
                font-size: 16px; 
                font-weight: 600; 
                color: #374151; 
                margin: 14px 0 8px 0; 
                line-height: 1.4;
              }
              .summary-content h5 { 
                font-size: 14px; 
                font-weight: 600; 
                color: #4B5563; 
                margin: 12px 0 6px 0; 
                line-height: 1.4;
              }
              .summary-content h6 { 
                font-size: 13px; 
                font-weight: 600; 
                color: #4B5563; 
                margin: 10px 0 4px 0; 
                line-height: 1.4;
              }
              .summary-content p { 
                margin: 12px 0; 
                line-height: 1.7;
                text-align: justify;
              }
              .summary-content ul, .summary-content ol { 
                margin: 12px 0; 
                padding-left: 24px; 
                line-height: 1.6;
              }
              .summary-content li { 
                margin: 6px 0; 
                line-height: 1.6;
              }
              .summary-content blockquote { 
                margin: 16px 0; 
                padding: 12px 16px; 
                background: #F9FAFB; 
                border-left: 4px solid #4B2A06; 
                font-style: italic;
                color: #4B5563;
              }
              .summary-content b, .summary-content strong { 
                font-weight: 700; 
                color: #1F2937;
              }
              .summary-content i, .summary-content em { 
                font-style: italic; 
                color: #4B5563;
              }
              .summary-content hr { 
                border: none; 
                border-top: 2px solid #E5E7EB; 
                margin: 24px 0; 
              }
              .summary-content table {
                border-collapse: collapse;
                width: 100%;
                border: 2px solid #d1d5de;
                margin: 20px 0;
                font-size: 14px;
                background: #ECE9E2;
                box-shadow: 0 2px 4px rgba(0,0,0,0.1);
              }
              .summary-content th, .summary-content td {
                border: 1px solid #d1d5de;
                padding: 10px 12px;
                text-align: left;
                vertical-align: top;
              }
              .summary-content th {
                background: #4B2A06;
                color: white;
                font-weight: 600;
                font-size: 13px;
              }
              .summary-content tr:nth-child(even) td {
                background: #F5F5F5;
              }
              .summary-content tr:nth-child(odd) td {
                background: #ECE9E2;
              }
              .summary-content code {
                background: #F3F4F6;
                padding: 2px 6px;
                border-radius: 4px;
                font-family: 'Courier New', monospace;
                font-size: 13px;
                color: #1F2937;
              }
              .summary-content pre {
                background: #F3F4F6;
                padding: 16px;
                border-radius: 8px;
                overflow-x: auto;
                margin: 16px 0;
                border: 1px solid #E5E7EB;
              }
              .summary-content pre code {
                background: none;
                padding: 0;
                font-size: 13px;
              }
            `}),o.jsx("div",{className:"h-[95%] hide-scrollbar ml-12 bg-[#ECE9E2] rounded-md overflow-y-auto",style:{zoom:N},children:o.jsx("div",{ref:S,className:"summary-content text-foreground/90 leading-relaxed py-8 px-5",style:{width:"100%",wordBreak:"break-word",overflowWrap:"break-word"},dangerouslySetInnerHTML:{__html:D(m.content)}})})]}):o.jsx("div",{className:"flex-1 h-full flex items-center justify-center text-gray-400",children:o.jsxs("div",{className:"text-center ",children:[o.jsx(Lh,{className:"h-12 w-12 m-auto mb-4 "}),o.jsx("p",{children:"No comparison report available"}),o.jsx("p",{className:"text-sm",children:'Click "Compare Documents" to generate a report'})]})})})]})})]})]}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(Hs,{title:"Compare Documents"}),o.jsx("div",{className:"flex items-center justify-center h-[90vh]",children:o.jsxs("div",{className:"text-center",children:[o.jsx(us,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),o.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Document Not Found"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"The DRHP document could not be found."}),o.jsx(Re,{onClick:()=>r("/dashboard"),children:"Back to Dashboard"})]})})]})},jr="http://localhost:5000/api";console.log("API_URL in userService:",jr);const qr={async getAllUsers(e){const t=new URLSearchParams;return e.page&&t.append("page",e.page.toString()),e.limit&&t.append("limit",e.limit.toString()),e.search&&t.append("search",e.search),e.role&&t.append("role",e.role),e.status&&t.append("status",e.status),(await te.get(`${jr}/users?${t.toString()}`)).data},async getUserStats(){return(await te.get(`${jr}/users/stats`)).data},async getUserById(e){return(await te.get(`${jr}/users/${e}`)).data},async createUser(e){return(await te.post(`${jr}/users`,e)).data},async updateUser(e,t){return(await te.put(`${jr}/users/${e}`,t)).data},async deleteUser(e){return(await te.delete(`${jr}/users/${e}`)).data},async activateUser(e){return(await te.patch(`${jr}/users/${e}/activate`)).data},async getMyProfile(){return(await te.get(`${jr}/users/me/profile`)).data},async updateMyProfile(e){return(await te.put(`${jr}/users/me/profile`,e)).data},async changeMyPassword(e){return(await te.put(`${jr}/users/me/password`,e)).data},async verifyPasswordChangeOtp(e){return(await te.post(`${jr}/users/me/password/otp-verify`,{otp:e})).data},async initiateProfileUpdateOtp(e){return(await te.post(`${jr}/users/me/profile/otp-initiate`,{pendingUpdate:e})).data},async verifyProfileUpdateOtp(e){return(await te.post(`${jr}/users/me/profile/otp-verify`,{otp:e})).data}};var gte="Separator",PN="horizontal",xte=["horizontal","vertical"],uR=h.forwardRef((e,t)=>{const{decorative:n,orientation:r=PN,...s}=e,a=yte(r)?r:PN,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return o.jsx(Ue.div,{"data-orientation":a,...l,...s,ref:t})});uR.displayName=gte;function yte(e){return xte.includes(e)}var dR=uR;const ly=h.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>o.jsx(dR,{ref:s,decorative:n,orientation:t,className:Oe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));ly.displayName=dR.displayName;const bte=si({name:tr().min(1,"Name is required").optional(),gender:pm(["male","female","other","prefer-not-to-say"]).optional()}),vte=si({oldPassword:tr().min(1,"Current password is required"),newPassword:tr().min(8,"Password must be at least 8 characters").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[0-9]/,"Password must contain at least one number").regex(/[^a-zA-Z0-9]/,"Password must contain at least one special character"),confirmPassword:tr()}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function wte(){const{user:e}=Nn(),{logout:t}=Nn(),[n,r]=h.useState("profile"),s=Y=>{if(!Y)return"U";if(Y.name&&Y.name.trim()){const P=Y.name.trim().split(" ");return P.length>=2?(P[0][0]+P[P.length-1][0]).toUpperCase():Y.name.substring(0,2).toUpperCase()}if(Y.email){const[P]=Y.email.split("@");return P.split(".").map(L=>L[0]).join("").toUpperCase().slice(0,2)}return"U"},[a,i]=h.useState(null),[l,c]=h.useState(!0),[u,d]=h.useState(null),[f,m]=h.useState(!1),[p,g]=h.useState(!1),[y,w]=h.useState(!1),v=zo({resolver:Wo(bte),defaultValues:{name:"",gender:"prefer-not-to-say"}}),b=zo({resolver:Wo(vte),defaultValues:{oldPassword:"",newPassword:"",confirmPassword:""}});h.useEffect(()=>{e&&E()},[e]);const E=async()=>{var Y,P;try{c(!0);const L=await qr.getMyProfile();i(L),v.reset({name:L.name||"",gender:L.gender||"prefer-not-to-say"})}catch(L){const M=((P=(Y=L.response)==null?void 0:Y.data)==null?void 0:P.message)||L.message||"Failed to load profile";O.error(M)}finally{c(!1)}},[N,C]=h.useState(!1),[S,_]=h.useState(""),[H,V]=h.useState(null),k=async Y=>{var P,L;try{d("profile"),V(Y),await qr.initiateProfileUpdateOtp(Y),C(!0),O.success("OTP sent to your email")}catch(M){const K=((L=(P=M.response)==null?void 0:P.data)==null?void 0:L.message)||M.message||"Failed to initiate verification";O.error(K)}finally{d(null)}},$=async()=>{var Y,P;try{d("otp"),H?(await qr.verifyProfileUpdateOtp(S),O.success("Profile updated successfully")):(await qr.verifyPasswordChangeOtp(S),O.success("Password changed successfully"),b.reset()),C(!1),_(""),V(null),E()}catch(L){const M=((P=(Y=L.response)==null?void 0:Y.data)==null?void 0:P.message)||L.message||"Failed to verify OTP";O.error(M)}finally{d(null)}},I=async Y=>{var P,L;try{d("password"),await qr.changeMyPassword({oldPassword:Y.oldPassword,newPassword:Y.newPassword}),C(!0),O.success("OTP sent to your email")}catch(M){const K=((L=(P=M.response)==null?void 0:P.data)==null?void 0:L.message)||"Failed to change password";O.error(K)}finally{d(null)}};return l?o.jsx("div",{className:"container mx-auto p-6",children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx(Ze,{className:"h-8 w-8 animate-spin"})})}):a?o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsx(Hs,{title:"Settings",showSearch:!0,searchValue:"",onSearchChange:()=>{}}),o.jsx("div",{className:"fixed w-[100vw] mx-auto h-[100vh] ",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 ",children:[o.jsxs("aside",{className:"w-[22vw] h-[90vh] lg:col-span-1  sticky top-[80px] self-start border-r border-gray-200 py-6 pl-6",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Settings"}),o.jsxs("button",{onClick:()=>r("profile"),className:`w-full text-left px-4 py-8 flex flex-col gap-1 ${n==="profile"?"bg-[#ECE9E2] text-[#4B2A06] border-r-[4px] border-r-[#4B2A06]":"bg-white hover:bg-gray-50"}`,children:[o.jsxs("div",{className:"flex items-center gap-2 text-base font-semibold",children:[o.jsx(Ci,{className:"h-4 w-4"})," Profile"]}),o.jsx("div",{className:"text-xs leading-snug",children:"Settings related to your personal information and account"})]}),o.jsxs("button",{onClick:()=>r("summary"),className:`w-full text-left px-4 py-8  flex flex-col gap-1 ${n==="summary"?"bg-[#ECE9E2] text-[#4B2A06] border-r-[4px] border-r-[#4B2A06]":"bg-white hover:bg-gray-50"}`,children:[o.jsxs("div",{className:"flex items-center gap-2 text-base font-semibold",children:[o.jsx(Yt,{className:"h-4 w-4"}),"Account summary"]}),o.jsx("div",{className:"text-xs leading-snug",children:"View account summary"})]}),o.jsxs("button",{onClick:()=>r("security"),className:`w-full text-left px-4 py-8 flex flex-col gap-1 ${n==="security"?"bg-[#ECE9E2] text-[#4B2A06] border-r-[4px] border-r-[#4B2A06]":"bg-white hover:bg-gray-50"}`,children:[o.jsxs("div",{className:"flex items-center gap-2 text-base font-semibold",children:[o.jsx(oc,{className:"h-4 w-4"})," Security"]}),o.jsx("div",{className:"text-xs leading-snug",children:"All settings related to security and password"})]})]}),o.jsxs("section",{className:" w-[70vw] lg:col-span-3 space-y-6 max-h-[calc(100vh-100px)]  overflow-y-auto p-6 scrollbar-hide",children:[n==="profile"&&o.jsxs(o.Fragment,{children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 mt-2",children:"Profile Settings"}),o.jsxs("div",{className:" shadow-md border-t  border-gray-200 rounded-xl",children:[o.jsx(tn,{children:o.jsxs(nn,{className:"flex items-center gap-2 text-gray-500",children:[o.jsx(Ci,{className:"h-5 w-5 text-gray-500"}),"Profile Information"]})}),o.jsx(gt,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-md bg-white/60 border border-gray-200",children:[o.jsx(Ll,{className:"h-4 w-4 text-gray-500"}),o.jsx("span",{className:"font-medium",children:a.email})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"Email cannot be changed"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Role"}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-md bg-white/60 border border-gray-200",children:[o.jsx(oc,{className:"h-4 w-4 text-gray-500"}),o.jsx("span",{className:"px-2 py-0.5 rounded-full bg-white/80 border border-gray-200 text-sm",children:a.role})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-md bg-white/60 border border-gray-200",children:[o.jsx("span",{className:`inline-block h-2.5 w-2.5 rounded-full ${a.status==="active"?"bg-green-500":"bg-red-500"}`}),o.jsx("span",{className:"px-2 py-0.5 rounded-full bg-white/80 border border-gray-200 text-sm capitalize",children:a.status})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Member Since"}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-md bg-white/60 border border-gray-200",children:[o.jsx(Fm,{className:"h-4 w-4 text-gray-500"}),o.jsx("span",{children:new Date(a.createdAt).toLocaleDateString()})]})]})]})})]}),o.jsxs("div",{className:"shadow-md border-t  border-gray-200 rounded-xl",children:[o.jsx(tn,{children:o.jsxs(nn,{className:"flex items-center gap-2",children:[o.jsx(Ci,{className:"h-5 w-5"}),"Profile Display"]})}),o.jsx(gt,{children:o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx(F1,{className:"  h-24 w-24 ",children:o.jsx(B1,{className:"text-2xl font-bold bg-[#ECE9E2] text-[#4B2A06]",children:s(a)})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Your profile initials will update automatically when you change your name"}),o.jsxs("div",{className:"text-sm",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Current initials:"})," ",s(a)]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Based on:"})," ",a.name||a.email]})]})]})]})})]}),o.jsxs("div",{className:"shadow-md border-t  border-gray-200 rounded-xl",children:[o.jsx(tn,{children:o.jsx(nn,{children:"Update Profile"})}),o.jsx(gt,{children:o.jsx(qo,{...v,children:o.jsxs("form",{onSubmit:Y=>v.handleSubmit(k)(Y),className:"space-y-4 ",children:[o.jsx(yn,{control:v.control,name:"name",render:({field:Y})=>o.jsxs(on,{children:[o.jsx(ln,{className:"text-gray-500",children:"Full Name"}),o.jsx(cn,{children:o.jsx(xt,{className:"border border-gray-200 rounded-xl bg-white/60",placeholder:"Enter your full name",...Y})}),o.jsx(bn,{})]})}),o.jsx(yn,{control:v.control,name:"gender",render:({field:Y})=>o.jsxs(on,{children:[o.jsxs(ln,{className:"flex items-center gap-2 text-gray-500",children:[o.jsx(Sc,{className:"h-4 w-4"}),"Gender"]}),o.jsxs(xr,{onValueChange:Y.onChange,defaultValue:Y.value,children:[o.jsx(cn,{children:o.jsx(Zn,{className:"border border-gray-200 rounded-xl bg-white/60",children:o.jsx(yr,{placeholder:"Select your gender"})})}),o.jsxs(Jn,{className:"border border-gray-200 rounded-xl bg-white",children:[o.jsx($e,{value:"male",children:"Male"}),o.jsx($e,{value:"female",children:"Female"}),o.jsx($e,{value:"other",children:"Other"}),o.jsx($e,{value:"prefer-not-to-say",children:"Prefer not to say"})]})]}),o.jsx(bn,{})]})}),o.jsxs(Re,{type:"submit",className:"bg-[#4B2A06] w-full text-white rounded-xl hover:bg-[#3a2004] transition  ",disabled:u==="profile",children:[u==="profile"&&o.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Profile"]})]})})})]}),N&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:o.jsxs("div",{className:"bg-white w-full max-w-sm rounded-xl shadow-lg p-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Verify Profile Update"}),o.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Enter the 6-digit OTP sent to your email address."}),o.jsx(xt,{value:S,onChange:Y=>_(Y.target.value.replace(/[^0-9]/g,"").slice(0,6)),placeholder:"Enter OTP",className:"border border-gray-200 rounded-xl bg-white/60 text-center tracking-widest text-lg"}),o.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[o.jsx(Re,{variant:"ghost",onClick:()=>{C(!1),_("")},children:"Cancel"}),o.jsxs(Re,{className:"bg-[#4B2A06] text-white",onClick:$,disabled:u==="otp"||S.length!==6,children:[u==="otp"&&o.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"}),"Verify"]})]})]})}),o.jsxs("div",{className:"shadow-md border-t  border-gray-200 rounded-xl",children:[o.jsx(tn,{children:o.jsx(nn,{className:"text-base",children:"Account actions"})}),o.jsx(gt,{className:"flex items-center justify-end gap-6 ",children:o.jsxs(Re,{variant:"ghost",onClick:()=>t(),className:"flex items-center gap-2  bg-[#ECE9E2] text-[#4B2A06] hover:bg-[#ECE9E2] transition",children:[o.jsx(Dk,{className:"h-4 w-4"})," Log out"]})})]})]}),n==="security"&&o.jsxs(o.Fragment,{children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 mt-2",children:"Security Settings"}),o.jsxs("div",{className:"shadow-md border-t w-full border-gray-200 rounded-xl",children:[o.jsx(tn,{children:o.jsx(nn,{className:"text-gray-500",children:"Change Password"})}),o.jsx(gt,{children:o.jsx(qo,{...b,children:o.jsxs("form",{onSubmit:b.handleSubmit(I),className:"space-y-4 w-full",children:[o.jsx(yn,{control:b.control,name:"oldPassword",render:({field:Y})=>o.jsxs(on,{children:[o.jsx(ln,{children:"Current Password"}),o.jsx(cn,{children:o.jsxs("div",{className:"relative",children:[o.jsx(xt,{className:"border border-gray-200 rounded-xl bg-white/60 pr-10",type:f?"text":"password",placeholder:"Enter current password",...Y}),o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>m(!f),children:f?o.jsx(_o,{className:"h-4 w-4"}):o.jsx(Xr,{className:"h-4 w-4"})})]})}),o.jsx(bn,{})]})}),o.jsx(yn,{control:b.control,name:"newPassword",render:({field:Y})=>o.jsxs(on,{children:[o.jsx(ln,{children:"New Password"}),o.jsx(cn,{children:o.jsxs("div",{className:"relative",children:[o.jsx(xt,{className:"border border-gray-200 rounded-xl bg-white/60 pr-10",type:p?"text":"password",placeholder:"Enter new password",...Y}),o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>g(!p),children:p?o.jsx(_o,{className:"h-4 w-4"}):o.jsx(Xr,{className:"h-4 w-4"})})]})}),o.jsx(bn,{})]})}),o.jsx(yn,{control:b.control,name:"confirmPassword",render:({field:Y})=>o.jsxs(on,{children:[o.jsx(ln,{children:"Confirm New Password"}),o.jsx(cn,{children:o.jsxs("div",{className:"relative",children:[o.jsx(xt,{className:"border border-gray-200 rounded-xl bg-white/60 pr-10",type:y?"text":"password",placeholder:"Confirm new password",...Y}),o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>w(!y),children:y?o.jsx(_o,{className:"h-4 w-4"}):o.jsx(Xr,{className:"h-4 w-4"})})]})}),o.jsx(bn,{})]})}),o.jsxs(Re,{type:"submit",className:"bg-[#4B2A06] w-full text-white rounded-xl hover:bg-[#3a2004]  ",disabled:u==="password",children:[u==="password"&&o.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"}),"Change Password"]})]})})})]}),o.jsxs("div",{className:"shadow-md border-t  border-gray-200 rounded-xl",children:[o.jsx(tn,{children:o.jsx(nn,{className:"text-lg ",children:"Security Tips"})}),o.jsx(gt,{className:"space-y-3",children:o.jsxs("div",{className:"text-sm space-y-2",children:[o.jsx("p",{className:"text-gray-500",children:" Use a strong, unique password"}),o.jsx("p",{className:"text-gray-500",children:" Never share your credentials"}),o.jsx("p",{className:"text-gray-500",children:" Log out when using shared devices"}),o.jsx("p",{className:"text-gray-500",children:" Keep your email address updated"})]})})]})]}),n==="summary"&&o.jsxs(o.Fragment,{children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 mt-2",children:"Account Summary"}),o.jsx("div",{className:"shadow-md border-t  border-gray-200 rounded-xl",children:o.jsxs(gt,{className:" mt-4 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Account Type"}),o.jsx(An,{variant:a.role==="admin"?"default":"secondary",children:a.role==="admin"?"Administrator":"Regular User"})]}),o.jsx(ly,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Account Status"}),o.jsx(An,{variant:a.status==="active"?"default":"destructive",children:a.status==="active"?"Active":"Suspended"})]}),o.jsx(ly,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Last Login"}),o.jsx("span",{className:"text-sm font-medium",children:new Date(a.lastLogin).toLocaleDateString()})]})]})})]})]})]})})]}):o.jsx("div",{className:"container mx-auto p-6",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-gray-500",children:"Profile not found"})})})}const Ete=({summaryId:e,open:t,onOpenChange:n,title:r})=>{const[s,a]=h.useState(""),[i,l]=h.useState(!1),c=d=>d.replace(/<style[^>]*>[\s\S]*?<\/style>/gi,"").replace(/<link[^>]*>/gi,""),u=d=>{if(!d)return d;const f=/([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})/g,m=/(?:(https?:\/\/)|\bwww\.)[\w.-]+(?:\.[\w.-]+)+(?:[\w\-._~:/?#\[\]@!$&'()*+,;=%]*)/g;let p=d.replace(f,g=>`<a href="mailto:${g}">${g}</a>`);return p=p.replace(m,g=>`<a href="${g.startsWith("http://")||g.startsWith("https://")?g:`http://${g}`}" target="_blank" rel="noopener noreferrer">${g}</a>`),p};return h.useEffect(()=>{(async()=>{if(!(!e||!t)){l(!0);try{const m=(await Pr.getAll()||[]).find(g=>g.id===e),p=(m==null?void 0:m.content)||"<div style='padding:8px;color:#666'>No content</div>";a(u(c(p)))}catch{a("<div style='padding:8px;color:#666'>Failed to load content</div>")}finally{l(!1)}}})()},[e,t]),o.jsx(er,{open:t,onOpenChange:n,children:o.jsxs(Hn,{className:"sm:max-w-3xl bg-white",onClick:d=>d.stopPropagation(),children:[o.jsx(vr,{children:o.jsx($n,{children:r||"Summary"})}),o.jsx("div",{className:"max-h-[70vh] overflow-auto border rounded-md p-3 bg-white",children:i?o.jsx("div",{className:"text-gray-500",children:"Loading..."}):o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
                .preview-html table { border-collapse: collapse; width: 100%; margin: 12px 0; }
                .preview-html th, .preview-html td { border: 1px solid #D1D5DB; padding: 6px 8px; text-align: left; }
                .preview-html th { background: #F3F4F6; font-weight: 600; }
                .preview-html tr:nth-child(even) td { background: #FAFAFA; }
                .preview-html h1 { font-size: 22px; font-weight: 700; color: #1F2937; margin: 10px 0; }
                .preview-html h2 { font-size: 20px; font-weight: 700; color: #1F2937; margin: 10px 0; }
                .preview-html h3 { font-size: 18px; font-weight: 700; color: #1F2937; margin: 10px 0; }
                .preview-html h4 { font-size: 16px; font-weight: 700; color: #1F2937; margin: 10px 0; }
                .preview-html h5 { font-size: 14px; font-weight: 700; color: #1F2937; margin: 10px 0; }
                .preview-html h6 { font-size: 12px; font-weight: 700; color: #1F2937; margin: 10px 0; }
                .preview-html b, .preview-html strong { font-weight: 700; }
                .preview-html hr { border: none; border-top: 1px solid #E5E7EB; margin: 12px 0; }
                .preview-html a { color: #1d4ed8; text-decoration: underline; word-break: break-word; }
              `}),o.jsx("div",{className:"preview-html",dangerouslySetInnerHTML:{__html:s}})]})})]})})},Nte=({reportId:e,open:t,onOpenChange:n,title:r})=>{const[s,a]=h.useState(""),[i,l]=h.useState(!1),c=u=>u.replace(/<style[^>]*>[\s\S]*?<\/style>/gi,"").replace(/<link[^>]*>/gi,"");return h.useEffect(()=>{(async()=>{if(!(!e||!t)){l(!0);try{const f=(await la.getAll()||[]).find(p=>p.id===e),m=(f==null?void 0:f.content)||"<div style='padding:8px;color:#666'>No content</div>";a(c(m))}catch{a("<div style='padding:8px;color:#666'>Failed to load content</div>")}finally{l(!1)}}})()},[e,t]),o.jsx(er,{open:t,onOpenChange:n,children:o.jsxs(Hn,{className:"sm:max-w-4xl bg-white",onClick:u=>u.stopPropagation(),children:[o.jsx(vr,{children:o.jsx($n,{children:r||"Report"})}),o.jsx("div",{className:"max-h-[70vh] overflow-auto border rounded-md p-3 bg-white",children:i?o.jsx("div",{className:"text-gray-500",children:"Loading..."}):o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
                .preview-html table { border-collapse: collapse; width: 100%; margin: 12px 0; }
                .preview-html th, .preview-html td { border: 1px solid #D1D5DB; padding: 6px 8px; text-align: left; }
                .preview-html th { background: #F3F4F6; font-weight: 600; }
                .preview-html tr:nth-child(even) td { background: #FAFAFA; }
                .preview-html h1, .preview-html h2, .preview-html h3, .preview-html h4 { font-weight: 700; color: #1F2937; margin: 10px 0; }
                .preview-html b, .preview-html strong { font-weight: 700; }
                .preview-html hr { border: none; border-top: 1px solid #E5E7EB; margin: 12px 0; }
              `}),o.jsx("div",{className:"preview-html",dangerouslySetInnerHTML:{__html:s}})]})})]})})};function Tte({workspaceId:e,workspaceName:t}){const[n,r]=h.useState([]),[s,a]=h.useState(!1),[i,l]=h.useState(null);h.useEffect(()=>{c()},[e]);const c=async()=>{var d;try{a(!0);const f=localStorage.getItem("accessToken"),m=await te.get(`http://localhost:5000/api/workspace-requests/workspace/${e}/pending`,{headers:{Authorization:`Bearer ${f}`}});r(m.data.requests||[])}catch(f){console.error("Error loading requests:",f),((d=f.response)==null?void 0:d.status)!==403&&O.error("Failed to load workspace requests")}finally{a(!1)}},u=async(d,f)=>{var m,p;try{l(d);const g=localStorage.getItem("accessToken");await te.post(`http://localhost:5000/api/workspace-requests/${d}/review`,{action:f},{headers:{Authorization:`Bearer ${g}`}}),O.success(f==="approve"?"Workspace access approved":"Workspace access rejected"),await c()}catch(g){console.error("Error reviewing request:",g),O.error(((p=(m=g.response)==null?void 0:m.data)==null?void 0:p.message)||"Failed to review request")}finally{l(null)}};return s?o.jsx("div",{className:"text-sm text-gray-500 py-4",children:"Loading requests..."}):n.length===0?o.jsx("div",{className:"text-sm text-gray-500 py-4",children:"No pending requests for this workspace."}):o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h4",{className:"text-sm font-semibold text-gray-700",children:["Pending Requests for ",t]}),n.map(d=>o.jsx("div",{className:"p-3 border border-gray-200 rounded-md bg-white",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(Ci,{className:"h-4 w-4 text-gray-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:d.userId.name||d.userId.email})]}),o.jsx("p",{className:"text-xs text-gray-600 mb-1",children:d.userId.email}),d.message&&o.jsxs("p",{className:"text-xs text-gray-500 mt-1 italic",children:['"',d.message,'"']}),o.jsx("div",{className:"flex items-center gap-2 mt-2",children:o.jsxs(An,{variant:"outline",className:"text-xs",children:[o.jsx(Fh,{className:"h-3 w-3 mr-1"}),"Requested ",new Date(d.requestedAt).toLocaleDateString()]})})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[o.jsx(Re,{size:"sm",onClick:()=>u(d._id,"approve"),disabled:i===d._id,className:"bg-green-600 hover:bg-green-700 text-white text-xs px-3 py-1 h-7",children:i===d._id?"Processing...":o.jsxs(o.Fragment,{children:[o.jsx(Oa,{className:"h-3 w-3 mr-1"}),"Approve"]})}),o.jsxs(Re,{size:"sm",variant:"outline",onClick:()=>u(d._id,"reject"),disabled:i===d._id,className:"text-red-600 border-red-300 hover:bg-red-50 text-xs px-3 py-1 h-7",children:[o.jsx(Bn,{className:"h-3 w-3 mr-1"}),"Reject"]})]})]})},d._id))]})}function Ste(){const[e,t]=h.useState([]),[n,r]=h.useState(!0),[s,a]=h.useState(null),[i]=h.useState(()=>Ve());h.useEffect(()=>{l()},[]);const l=async()=>{try{r(!0);const m=await Ct.getWorkspaceInvitations();t(m)}catch(m){console.error("Error loading invitations:",m),O.error("Failed to load invitations")}finally{r(!1)}},c=async(m,p)=>{var g,y;try{if(a(m.invitationId),m.status==="accepted"){const v=(await Ct.getWorkspaceMembers()).members.find(b=>b.email.toLowerCase()===m.inviteeEmail.toLowerCase());if(v){let b="editor";p==="viewer"?b="viewer":(p==="editor"||p==="user")&&(b="editor"),await Ct.updateMemberRole(v.userId,b),O.success(`Updated role for ${m.inviteeEmail}`)}else O.error("User not found. They may need to accept the invitation first.")}else O.info("Role will be applied when invitation is accepted");l()}catch(w){console.error("Error updating role:",w),O.error(((y=(g=w.response)==null?void 0:g.data)==null?void 0:y.message)||"Failed to update role")}finally{a(null)}},u=async(m,p)=>{var g,y;if(window.confirm(`Revoke access for ${p}?`))try{a(p),await Ct.revokeUserAccess(m),O.success(`Access revoked for ${p}`),l()}catch(w){console.error("Error revoking access:",w),O.error(((y=(g=w.response)==null?void 0:g.data)==null?void 0:y.message)||"Failed to revoke access")}finally{a(null)}},d=e.filter(m=>m.status==="accepted"),f=e.filter(m=>m.status==="pending");return n?o.jsxs("div",{className:" rounded-lg",children:[o.jsx(tn,{className:" border-gray-200",children:o.jsxs(nn,{className:"flex items-center gap-2 text-[#4B2A06]",children:[o.jsx(Sc,{className:"h-5 w-5"}),"Workspace Members"]})}),o.jsx(gt,{className:"bg-white",children:o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Ze,{className:"h-6 w-6 animate-spin mx-auto text-gray-400"}),o.jsx("p",{className:"text-sm text-[rgba(114, 120, 127, 1)] mt-2",children:"Loading members..."})]})})]}):o.jsxs("div",{className:" border-b border-gray-200 rounded-lg",children:[o.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:o.jsx("h2",{className:"text-2xl font-bold text-[#4B2A06] mb-4 sm:mb-0",children:"Workspace Members & Invitations"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(Mk,{className:"h-4 w-4 text-gray-600"}),o.jsxs("h3",{className:"font-semibold text-[#4B2A06]",children:["Invited Members (",d.length,")"]})]}),d.length===0?o.jsx("div",{className:"text-sm text-[rgba(114, 120, 127, 1)] py-4 text-center",children:"No active members yet"}):o.jsx("div",{className:"space-y-2 max-h-[40vh] overflow-y-auto",children:d.map(m=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-gray-200 rounded-lg hover:bg-gray-50",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[o.jsx(Ll,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("div",{className:"font-medium text-sm text-[rgba(38,40,43,1)] truncate",children:m.inviteeEmail}),o.jsxs("div",{className:"text-xs text-[rgba(114, 120, 127, 1)]",children:["Invited: ",new Date(m.createdAt).toLocaleDateString()]})]}),o.jsx(An,{variant:"secondary",className:"bg-white text-[rgba(114, 120, 127, 1)] border-gray-200",children:"Active"})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-4 flex-shrink-0",children:[o.jsxs(xr,{value:m.invitedRole,onValueChange:p=>c(m,p),disabled:s===m.invitationId,children:[o.jsx(Zn,{className:"w-28 h-8 text-xs bg-white border-gray-300 text-[#4B2A06] focus:ring-0 focus:outline-none",children:o.jsx(yr,{})}),o.jsxs(Jn,{className:"bg-white border border-gray-200",children:[o.jsx($e,{className:"bg-white hover:bg-gray-100 data-[highlighted]:bg-gray-100 hover:text-[#4B2A06]",value:"user",children:"User"}),o.jsx($e,{className:"bg-white hover:bg-gray-100 data-[highlighted]:bg-gray-100 hover:text-[#4B2A06]",value:"viewer",children:"Viewer"}),o.jsx($e,{className:"bg-white hover:bg-gray-100 data-[highlighted]:bg-gray-100 hover:text-[#4B2A06]",value:"editor",children:"Editor"})]})]}),o.jsx(Re,{variant:"outline",size:"sm",onClick:()=>u(m.invitationId,m.inviteeEmail),disabled:s===m.invitationId,className:"h-8 text-xs bg-[#4B2A06] text-white hover:bg-[#4B2A06] hover:text-white focus:ring-0 focus:outline-none",children:s===m.invitationId?o.jsx(Ze,{className:"h-3 w-3 animate-spin"}):o.jsx(Fk,{className:"h-3 w-3"})})]})]},m.invitationId))})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(Ll,{className:"h-4 w-4 text-gray-600"}),o.jsxs("h3",{className:"font-semibold text-[#4B2A06]",children:["Pending Invitations (",f.length,")"]})]}),f.length===0?o.jsx("div",{className:"text-sm text-[rgba(114, 120, 127, 1)] py-4 text-center",children:"No pending invitations"}):o.jsx("div",{className:"space-y-2 max-h-[30vh] overflow-y-auto",children:f.map(m=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-gray-200 rounded-lg hover:bg-gray-50",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[o.jsx(Ll,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("div",{className:"font-medium text-sm text-[rgba(38,40,43,1)] truncate",children:m.inviteeEmail}),o.jsxs("div",{className:"text-xs text-[rgba(114, 120, 127, 1)]",children:["Invited: ",new Date(m.createdAt).toLocaleDateString(),m.expiresAt&&new Date(m.expiresAt)>new Date&&o.jsxs(o.Fragment,{children:["  Expires: ",new Date(m.expiresAt).toLocaleDateString()]})]})]}),o.jsx(An,{variant:"secondary",className:"bg-white text-[rgba(114, 120, 127, 1)] border-gray-200",children:"Pending"})]}),o.jsx("div",{className:"flex items-center gap-2 ml-4 flex-shrink-0",children:o.jsxs(xr,{value:m.invitedRole,disabled:!0,children:[o.jsx(Zn,{className:"w-28 h-8 text-xs bg-white border-gray-300 text-[#4B2A06] opacity-60 focus:ring-0 focus:outline-none",children:o.jsx(yr,{})}),o.jsxs(Jn,{className:"bg-white border border-gray-200",children:[o.jsx($e,{className:"bg-white hover:bg-gray-100 data-[highlighted]:bg-gray-100 hover:text-[#4B2A06]",value:"user",children:"User"}),o.jsx($e,{className:"bg-white hover:bg-gray-100 data-[highlighted]:bg-gray-100 hover:text-[#4B2A06]",value:"viewer",children:"Viewer"}),o.jsx($e,{className:"bg-white hover:bg-gray-100 data-[highlighted]:bg-gray-100 hover:text-[#4B2A06]",value:"editor",children:"Editor"})]})]})})]},m.invitationId))})]})]})]})}function kte(){const{user:e}=Nn(),[t,n]=h.useState([]),[r,s]=h.useState([]),[a,i]=h.useState(!0),[l,c]=h.useState(""),[u,d]=h.useState("all"),[f,m]=h.useState(null),[p,g]=h.useState(null),[y,w]=h.useState(!1),[v,b]=h.useState(null),[E,N]=h.useState(!1);h.useEffect(()=>{C()},[]);const C=async()=>{var I,Y;try{i(!0);const P=await Ct.getWorkspaceMembers();n(P.members||[]),s(P.pending||[])}catch(P){console.error("Error loading members:",P),O.error(((Y=(I=P.response)==null?void 0:I.data)==null?void 0:Y.message)||"Failed to load workspace members")}finally{i(!1)}},S=async(I,Y)=>{var P,L;try{m(I),await Ct.updateMemberRole(I,Y),O.success("Member role updated successfully"),await C()}catch(M){console.error("Error updating role:",M),O.error(((L=(P=M.response)==null?void 0:P.data)==null?void 0:L.message)||"Failed to update member role")}finally{m(null)}},_=async(I,Y)=>{var P,L;if(confirm(`Are you sure you want to remove ${Y} from this workspace?`))try{m(I),await Ct.removeWorkspaceMember(I),O.success("Member removed successfully"),await C()}catch(M){console.error("Error removing member:",M),O.error(((L=(P=M.response)==null?void 0:P.data)==null?void 0:L.message)||"Failed to remove member")}finally{m(null)}},H=async I=>{var Y,P;try{N(!0),g(I);const L=await Ct.getMemberPermissions(I.userId);b(L),w(!0)}catch(L){console.error("Error loading permissions:",L),O.error(((P=(Y=L.response)==null?void 0:Y.data)==null?void 0:P.message)||"Failed to load permissions")}finally{N(!1)}},V=I=>{switch(I){case"admin":return"bg-red-100 text-red-700 border-red-200";case"editor":return"bg-blue-100 text-blue-700 border-blue-200";case"viewer":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},k=t.filter(I=>{var L;const Y=I.email.toLowerCase().includes(l.toLowerCase())||((L=I.name)==null?void 0:L.toLowerCase().includes(l.toLowerCase())),P=u==="all"||I.workspaceRole===u;return Y&&P}),$=r.filter(I=>{var L;const Y=I.email.toLowerCase().includes(l.toLowerCase())||((L=I.name)==null?void 0:L.toLowerCase().includes(l.toLowerCase())),P=u==="all"||I.workspaceRole===u;return Y&&P});return a?o.jsxs("div",{className:" rounded-lg",children:[o.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:o.jsx("h2",{className:"text-2xl font-bold text-[#4B2A06] mb-4 sm:mb-0",children:"Workspace Members"})}),o.jsx(gt,{children:o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx(Ze,{className:"h-6 w-6 animate-spin text-gray-400"})})})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"rounded-lg",children:[o.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:o.jsx("h2",{className:"text-2xl font-bold text-[#4B2A06] mb-4 sm:mb-0",children:"Workspace Members"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex gap-4 mb-6",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 border-none text-gray-400"}),o.jsx(xt,{placeholder:"Search by name or email...",value:l,onChange:I=>c(I.target.value),className:"pl-10 bg-white border-gray-300 text-[#4B2A06] focus:ring-0 focus:outline-none"})]}),o.jsxs(xr,{value:u,onValueChange:d,children:[o.jsx(Zn,{className:"w-40 bg-white border-gray-300 text-[#4B2A06] focus:ring-0 focus:outline-none",children:o.jsx(yr,{placeholder:"All Roles"})}),o.jsxs(Jn,{className:"bg-white border border-gray-200",children:[o.jsx($e,{className:"bg-white hover:bg-gray-100 data-[highlighted]:bg-gray-100 hover:text-[#4B2A06]",value:"all",children:"All Roles"}),o.jsx($e,{className:"bg-white hover:bg-gray-100 data-[highlighted]:bg-gray-100 hover:text-[#4B2A06]",value:"admin",children:"Admin"}),o.jsx($e,{className:"bg-white hover:bg-gray-100 data-[highlighted]:bg-gray-100 hover:text-[#4B2A06]",value:"editor",children:"Editor"}),o.jsx($e,{className:"bg-white hover:bg-gray-100 data-[highlighted]:bg-gray-100 hover:text-[#4B2A06]",value:"viewer",children:"Viewer"})]})]})]}),o.jsxs("div",{className:"mb-8",children:[o.jsxs("h3",{className:"text-sm font-semibold text-[rgba(114, 120, 127, 1)] mb-4",children:["Active Members (",k.length,")"]}),k.length===0?o.jsx("div",{className:"text-sm text-[rgba(114, 120, 127, 1)] py-4 text-center",children:"No members found"}):o.jsx("div",{className:"space-y-2",children:k.map(I=>o.jsxs("div",{className:"flex items-center justify-between p-4 bg-white shadow-sm rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-[rgba(38,40,43,1)]",children:I.name||I.email}),o.jsx("div",{className:"text-sm text-[rgba(114, 120, 127, 1)]",children:I.email}),I.domain&&o.jsxs("div",{className:"text-xs text-[rgba(114, 120, 127, 1)] mt-1",children:["Domain: ",I.domain]})]})}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx(An,{className:V(I.workspaceRole),children:I.workspaceRole}),I.directoryAccess.length>0&&o.jsxs(An,{variant:"outline",className:"text-xs",children:[I.directoryAccess.length," directory",I.directoryAccess.length>1?"ies":"y"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Po,{children:[o.jsx(ji,{asChild:!0,children:o.jsx(Re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",disabled:f===I.userId,children:f===I.userId?o.jsx(Ze,{className:"h-4 w-4 animate-spin"}):o.jsx(Ol,{className:"h-4 w-4"})})}),o.jsxs(La,{align:"end",children:[o.jsxs(jt,{onClick:()=>H(I),children:[o.jsx(Xr,{className:"h-4 w-4 mr-2"}),"View Permissions"]}),o.jsxs(jt,{onClick:()=>{const Y=I.workspaceRole==="admin"?"editor":I.workspaceRole==="editor"?"viewer":"admin";S(I.userId,Y)},children:[o.jsx(Ok,{className:"h-4 w-4 mr-2"}),"Change Role"]}),o.jsxs(jt,{className:"text-red-600",onClick:()=>_(I.userId,I.email),children:[o.jsx(Fk,{className:"h-4 w-4 mr-2"}),"Remove Member"]})]})]}),o.jsxs(xr,{value:I.workspaceRole,onValueChange:Y=>S(I.userId,Y),disabled:f===I.userId,children:[o.jsx(Zn,{className:"w-32 h-8 text-xs bg-white border-gray-300 text-[#4B2A06] focus:ring-0 focus:outline-none",children:o.jsx(yr,{})}),o.jsxs(Jn,{className:"bg-white border border-gray-200",children:[o.jsx($e,{className:"bg-white hover:bg-gray-100 data-[highlighted]:bg-gray-100 hover:text-[#4B2A06]",value:"admin",children:"Admin"}),o.jsx($e,{className:"bg-white hover:bg-gray-100 data-[highlighted]:bg-gray-100 hover:text-[#4B2A06]",value:"editor",children:"Editor"}),o.jsx($e,{className:"bg-white hover:bg-gray-100 data-[highlighted]:bg-gray-100 hover:text-[#4B2A06]",value:"viewer",children:"Viewer"})]})]})]})]},I.userId))})]}),$.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-sm font-semibold text-[rgba(114, 120, 127, 1)] mb-4",children:["Pending Invitations (",$.length,")"]}),o.jsx("div",{className:"space-y-2",children:$.map(I=>o.jsx("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-[rgba(38,40,43,1)]",children:I.name||I.email}),o.jsx("div",{className:"text-sm text-[rgba(114, 120, 127, 1)]",children:I.email}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx(An,{className:V(I.workspaceRole),children:I.workspaceRole}),o.jsx(An,{variant:"outline",className:"text-xs",children:"Pending"}),I.directoryAccess.length>0&&o.jsxs(An,{variant:"outline",className:"text-xs",children:[I.directoryAccess.length," directory",I.directoryAccess.length>1?"ies":"y"]})]})]})},I.invitationId))})]})]})]}),o.jsx(er,{open:y,onOpenChange:w,children:o.jsxs(Hn,{className:"sm:max-w-2xl max-h-[80vh] overflow-y-auto",children:[o.jsx(vr,{children:o.jsxs($n,{children:["Permissions: ",(v==null?void 0:v.member.name)||(v==null?void 0:v.member.email)]})}),E?o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx(Ze,{className:"h-6 w-6 animate-spin text-gray-400"})}):v?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold text-[rgba(38,40,43,1)] mb-2 flex items-center gap-2",children:[o.jsx(oc,{className:"h-4 w-4"}),"Workspace Permissions"]}),o.jsxs("div",{className:"bg-white border border-gray-200 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-[rgba(114, 120, 127, 1)]",children:"Role:"}),o.jsx(An,{className:V(v.member.workspaceRole),children:v.member.workspaceRole})]}),o.jsxs("div",{className:"space-y-1 mt-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[v.permissions.workspace.canInvite?o.jsx(Oa,{className:"h-4 w-4 text-green-600"}):o.jsx(Bn,{className:"h-4 w-4 text-gray-400"}),o.jsx("span",{children:"Can invite users"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[v.permissions.workspace.canEdit?o.jsx(Oa,{className:"h-4 w-4 text-green-600"}):o.jsx(Bn,{className:"h-4 w-4 text-gray-400"}),o.jsx("span",{children:"Can edit documents"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[v.permissions.workspace.canView?o.jsx(Oa,{className:"h-4 w-4 text-green-600"}):o.jsx(Bn,{className:"h-4 w-4 text-gray-400"}),o.jsx("span",{children:"Can view documents"})]})]})]})]}),o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold text-[rgba(38,40,43,1)] mb-2 flex items-center gap-2",children:[o.jsx(Yt,{className:"h-4 w-4"}),"Directory Access (",v.permissions.directories.length,")"]}),v.permissions.directories.length===0?o.jsx("div",{className:"text-sm text-[rgba(114, 120, 127, 1)] py-2",children:"No directory access granted"}):o.jsx("div",{className:"space-y-2",children:v.permissions.directories.map(I=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-gray-200 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm text-[rgba(38,40,43,1)]",children:I.directoryName}),o.jsxs("div",{className:"text-xs text-[rgba(114, 120, 127, 1)]",children:["Granted: ",new Date(I.grantedAt).toLocaleDateString()]})]}),o.jsx(An,{className:V(I.role),children:I.role})]},I.directoryId))})]}),v.permissions.documents.length>0&&o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold text-[rgba(38,40,43,1)] mb-2 flex items-center gap-2",children:[o.jsx(HD,{className:"h-4 w-4"}),"Document Access (",v.permissions.documents.length,")"]}),o.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:v.permissions.documents.map(I=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-gray-200 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm text-[rgba(38,40,43,1)]",children:I.documentName}),o.jsxs("div",{className:"text-xs text-[rgba(114, 120, 127, 1)]",children:["Granted: ",new Date(I.grantedAt).toLocaleDateString()]})]}),o.jsx(An,{className:V(I.role),children:I.role})]},I.documentId))})]})]}):null,o.jsx(gc,{children:o.jsx(Re,{onClick:()=>w(!1),className:"bg-[#4B2A06] text-white",children:"Close"})})]})})]})}function Cte(){const e=qt(),{user:t}=Nn(),[n,r]=h.useState(!0),[s,a]=h.useState(!0),[i,l]=h.useState(!0),[c,u]=h.useState(!0),[d,f]=h.useState(!0),[m,p]=h.useState([]),[g,y]=h.useState([]),[w,v]=h.useState([]),[b,E]=h.useState([]),[N,C]=h.useState(null),[S,_]=h.useState(!1),[H,V]=h.useState(null),[k,$]=h.useState(null),[I,Y]=h.useState([]),[P,L]=h.useState(null),[M,K]=h.useState(0),[F,D]=h.useState(0),[T,G]=h.useState(0),[ne,A]=h.useState([]),[W,z]=h.useState(null),[ae,J]=h.useState([]),[ce,xe]=h.useState("7"),[re,_e]=h.useState(""),[Ie,Xe]=h.useState([]),[tt,Ut]=h.useState(!0),[ye,Ce]=h.useState(null),[He,Ge]=h.useState(""),[U,X]=h.useState(!1),[le,Ee]=h.useState(!1),[Te,me]=h.useState(!1),[q,ue]=h.useState(!1),[ve,Fe]=h.useState(null),[Je,_t]=h.useState([]),[Tn,Pt]=h.useState(""),[Lt,jn]=h.useState([]),Et=String((t==null?void 0:t.id)||(t==null?void 0:t._id)||""),[Gt,Kt]=h.useState({totalUsers:0,totalDocuments:0,totalReports:0,totalSummaries:0,totalChats:0,totalDirectories:0});h.useEffect(()=>{or()},[]);const $r=async()=>{try{Ut(!0);const fe=(await mr.listWorkspaces()).workspaces||[];Xe(fe)}catch(Q){console.error("Error loading workspaces:",Q),O.error("Failed to load workspaces")}finally{Ut(!1)}},el=async Q=>{var fe,Ae;if(He.trim())try{await mr.updateWorkspace(Q.workspaceId,{name:He.trim()}),O.success("Workspace renamed successfully"),Ce(null),Ge(""),$r()}catch(ct){O.error(((Ae=(fe=ct==null?void 0:ct.response)==null?void 0:fe.data)==null?void 0:Ae.message)||"Failed to rename workspace")}},ai=async Q=>{var fe,Ae;if(confirm(`Are you sure you want to archive workspace "${Q.name}"?`))try{await mr.archiveWorkspace(Q.workspaceId),O.success("Workspace archived successfully"),$r()}catch(ct){O.error(((Ae=(fe=ct==null?void 0:ct.response)==null?void 0:fe.data)==null?void 0:Ae.message)||"Failed to archive workspace")}},oi=async Q=>{try{Fe(Q),jn([]),Pt("");const fe=await mr.listMembers(Q.workspaceId);_t(fe.members||[]),Ee(!0)}catch{O.error("Failed to open add users")}},Sr=async Q=>{try{Fe(Q),jn([]),Pt("");const fe=await mr.listMembers(Q.workspaceId);_t(fe.members||[]),me(!0)}catch{O.error("Failed to open remove users")}},qa=(ae||[]).filter(Q=>{const fe=Je.some(Tt=>Tt._id===Q._id),Ae=(Q.name||Q.email||"").toLowerCase().includes(Tn.toLowerCase()),ct=String(Q._id)!==Et;return!fe&&Ae&&ct}),We=Je.filter(Q=>{const fe=(Q.name||Q.email||"").toLowerCase().includes(Tn.toLowerCase()),Ae=String(Q._id)!==Et,ct=Q.role!=="admin";return fe&&Ae&&ct}),ht=Q=>{jn(fe=>fe.includes(Q)?fe.filter(Ae=>Ae!==Q):[...fe,Q])},Nt=async()=>{var Q,fe;if(ve)try{await Promise.all(Lt.map(Ae=>mr.addMember(ve.workspaceId,{userId:Ae}))),O.success("Users added"),Ee(!1),$r()}catch(Ae){O.error(((fe=(Q=Ae==null?void 0:Ae.response)==null?void 0:Q.data)==null?void 0:fe.message)||"Failed to add users")}},Ht=async()=>{var Q,fe;if(ve)try{await Promise.all(Lt.map(Ae=>mr.removeMember(ve.workspaceId,Ae))),O.success("Users removed"),me(!1),$r()}catch(Ae){O.error(((fe=(Q=Ae==null?void 0:Ae.response)==null?void 0:Q.data)==null?void 0:fe.message)||"Failed to remove users")}};h.useEffect(()=>{$r()},[]);const or=async()=>{try{r(!0),console.log("Loading dashboard data for user:",t);const Q=await qr.getUserStats();z(Q);const fe=await qr.getAllUsers({limit:1e3});J(fe.users),console.log("Loading admin documents...");const Ae=await It.getAllAdmin();console.log("Admin documents loaded:",Ae),p(Ae),a(!1);const ct=await Pr.getAllAdmin();y(ct),l(!1);const Tt=await la.getAllAdmin();v(Tt),u(!1);const lr=await(async()=>{const Ye=[],at=["root"],ft=new Set;for(;at.length;){const cr=at.shift();if(!ft.has(cr)){ft.add(cr);try{const ii=await Zr.listChildren(cr),Sn=((ii==null?void 0:ii.items)||[]).filter(Ks=>Ks.kind==="directory").map(Ks=>Ks.item);Ye.push(...Sn);for(const Ks of Sn)at.push(Ks.id)}catch{}}}return Ye})();E(lr);const sn=await hr.getStats();L(sn);const wa=await hr.getAllAdmin();A((wa||[]).slice(0,3));const Bp=new Date(Date.now()-30*24*60*60*1e3),Z=(wa||[]).filter(Ye=>new Date(Ye.createdAt||Ye.updatedAt||Date.now())>=Bp);K(Z.length);const pe=new Set;for(const Ye of wa||[]){const at=(fe.users||[]).find(ft=>Ye.userId&&ft._id===Ye.userId||Ye.microsoftId&&ft.microsoftId===Ye.microsoftId||Ye.userEmail&&ft.email===Ye.userEmail);at&&at._id&&pe.add(String(at._id))}if(D(pe.size),Array.isArray(sn==null?void 0:sn.messagesPerChat)&&sn.messagesPerChat.length){const Ye=sn.messagesPerChat.reduce((at,ft)=>at+(Number(ft.count)||0),0);G(Math.round(Ye/sn.messagesPerChat.length))}else if((wa||[]).length){const Ye=(wa||[]).reduce((at,ft)=>at+(Number(ft.messageCount)||0),0);G(Math.round(Ye/Math.max((wa||[]).length,1)))}else G(0);f(!1),Kt({totalUsers:(Q==null?void 0:Q.total)||0,totalDocuments:Array.isArray(Ae)?Ae.length:0,totalReports:Array.isArray(Tt)?Tt.length:0,totalSummaries:Array.isArray(ct)?ct.length:0,totalChats:(sn==null?void 0:sn.totalChats)||(wa||[]).length||0,totalDirectories:Array.isArray(lr)?lr.length:0}),r(!1)}catch(Q){console.error("Error loading dashboard data:",Q),r(!1)}},is=async Q=>{let fe;try{fe=O.loading("Download processing..."),console.log("Downloading document:",Q._id),O.dismiss(fe),O.success("Document download initiated")}catch(Ae){O.dismiss(fe),O.error("Error downloading document: "+Ae.message),console.error("Error downloading document:",Ae)}},kr=async Q=>{try{await It.delete(Q._id),p(m.filter(fe=>fe._id!==Q._id)),Kt(fe=>({...fe,totalDocuments:fe.totalDocuments-1}))}catch(fe){console.error("Error deleting document:",fe)}},ir=async Q=>{try{const fe=localStorage.getItem("accessToken"),ct=await fetch(`http://localhost:5000/api/summaries/${Q.id}`,{headers:{Authorization:`Bearer ${fe}`}});if(!ct.ok)throw new Error("Failed to fetch summary");const Tt=await ct.json(),Ga=Tt.content||"No content available",lr=Tt.title||Q.title||"Summary",sn=window.open("","","width=900,height=650");sn&&(sn.document.write(`
          <html>
            <head>
              <title>Print Summary - ${lr}</title>
              <style>
                body { 
                  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; 
                  margin: 0; 
                  padding: 2rem; 
                  line-height: 1.6;
                  color: #1F2937;
                }
                .summary-content {
                  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
                  line-height: 1.6;
                  color: #1F2937;
                }
                .summary-content table {
                  border-collapse: collapse;
                  width: 100%;
                  border: 2px solid #d1d5de;
                  margin: 20px 0;
                  font-size: 14px;
                  background: #ECE9E2;
                  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
                }
                .summary-content th, .summary-content td {
                  border: 1px solid #d1d5de;
                  padding: 10px 12px;
                  text-align: left;
                  vertical-align: top;
                }
                .summary-content th {
                  background: #4B2A06;
                  color: white;
                  font-weight: 600;
                  font-size: 13px;
                }
                .summary-content tr:nth-child(even) td {
                  background: #F5F5F5;
                }
                .summary-content tr:nth-child(odd) td {
                  background: #ECE9E2;
                }
                @media print {
                  .summary-content table {
                    border-collapse: collapse !important;
                    width: 100% !important;
                    border: 2px solid #d1d5de !important;
                    background: #ECE9E2 !important;
                    box-shadow: none !important;
                  }
                  .summary-content th, .summary-content td {
                    border: 1px solid #d1d5de !important;
                    padding: 10px 12px !important;
                    text-align: left !important;
                    vertical-align: top !important;
                  }
                  .summary-content th {
                    background: #4B2A06 !important;
                    color: white !important;
                    font-weight: 600 !important;
                    font-size: 13px !important;
                  }
                  .summary-content tr:nth-child(even) td {
                    background: #F5F5F5 !important;
                  }
                  .summary-content tr:nth-child(odd) td {
                    background: #ECE9E2 !important;
                  }
                }
              </style>
            </head>
            <body>
              <div class="summary-content">
                ${Ga}
              </div>
            </body>
          </html>
        `),sn.document.close(),sn.focus(),sn.print())}catch(fe){console.error("Error fetching summary for print:",fe),O.error("Failed to load summary content for printing")}},Cr=async Q=>{let fe;try{fe=O.loading("Download processing...");const Ae=await Pr.downloadDocx(Q.id);if(Ae.type&&Ae.type!=="application/vnd.openxmlformats-officedocument.wordprocessingml.document"&&Ae.type!=="application/octet-stream"){const Ga=await Ae.text();let lr;try{throw lr=JSON.parse(Ga),new Error(lr.message||lr.error||"DOCX generation service unavailable")}catch{throw new Error("Invalid DOCX response from server")}}const ct=window.URL.createObjectURL(Ae),Tt=document.createElement("a");Tt.href=ct,Tt.download=`${Q.title||"summary"}.docx`,document.body.appendChild(Tt),Tt.click(),window.URL.revokeObjectURL(ct),document.body.removeChild(Tt),O.dismiss(fe),O.success("Summary DOCX downloaded successfully")}catch(Ae){O.dismiss(fe);const ct=(Ae==null?void 0:Ae.message)||"Failed to download DOCX";O.error(ct),console.error("Error downloading summary DOCX:",Ae)}},tl=async Q=>{try{await Pr.delete(Q.id),y(g.filter(fe=>fe.id!==Q.id)),Kt(fe=>({...fe,totalSummaries:fe.totalSummaries-1}))}catch(fe){console.error("Error deleting summary:",fe)}},Qd=async Q=>{try{const fe=await la.getById(Q.id),Ae=fe.content||"No content available",ct=fe.title||Q.drhpNamespace||"Report",Tt=window.open("","","width=900,height=650");Tt&&(Tt.document.write(`
          <html>
            <head>
              <title>Print Report - ${ct}</title>
              <style>
                body { 
                  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; 
                  margin: 0; 
                  padding: 2rem; 
                  line-height: 1.6;
                  color: #1F2937;
                }
                .summary-content {
                  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
                  line-height: 1.6;
                  color: #1F2937;
                }
                .summary-content table {
                  border-collapse: collapse;
                  width: 100%;
                  border: 2px solid #d1d5de;
                  margin: 20px 0;
                  font-size: 14px;
                  background: #ECE9E2;
                  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
                }
                .summary-content th, .summary-content td {
                  border: 1px solid #d1d5de;
                  padding: 10px 12px;
                  text-align: left;
                  vertical-align: top;
                }
                .summary-content th {
                  background: #4B2A06;
                  color: white;
                  font-weight: 600;
                  font-size: 13px;
                }
                .summary-content tr:nth-child(even) td {
                  background: #F5F5F5;
                }
                .summary-content tr:nth-child(odd) td {
                  background: #ECE9E2;
                }
                @media print {
                  .summary-content table {
                    border-collapse: collapse !important;
                    width: 100% !important;
                    border: 2px solid #d1d5de !important;
                    background: #ECE9E2 !important;
                    box-shadow: none !important;
                  }
                  .summary-content th, .summary-content td {
                    border: 1px solid #d1d5de !important;
                    padding: 10px 12px !important;
                    text-align: left !important;
                    vertical-align: top !important;
                  }
                  .summary-content th {
                    background: #4B2A06 !important;
                    color: white !important;
                    font-weight: 600 !important;
                    font-size: 13px !important;
                  }
                  .summary-content tr:nth-child(even) td {
                    background: #F5F5F5 !important;
                  }
                  .summary-content tr:nth-child(odd) td {
                    background: #ECE9E2 !important;
                  }
                }
              </style>
            </head>
            <body>
              <div class="summary-content">
                ${Ae}
              </div>
            </body>
          </html>
        `),Tt.document.close(),Tt.focus(),Tt.print())}catch(fe){console.error("Error fetching report for print:",fe),O.error("Failed to load report content for printing")}},Fp=async Q=>{let fe;try{fe=O.loading("Download processing...");const Ae=await la.downloadDocx(Q.id);if(Ae.type&&Ae.type!=="application/vnd.openxmlformats-officedocument.wordprocessingml.document"&&Ae.type!=="application/octet-stream"){const Ga=await Ae.text();let lr;try{throw lr=JSON.parse(Ga),new Error(lr.message||lr.error||"DOCX generation service unavailable")}catch{throw new Error("Invalid DOCX response from server")}}const ct=window.URL.createObjectURL(Ae),Tt=document.createElement("a");Tt.href=ct,Tt.download=`${Q.drhpNamespace||"report"}.docx`,document.body.appendChild(Tt),Tt.click(),window.URL.revokeObjectURL(ct),document.body.removeChild(Tt),O.dismiss(fe),O.success("Report DOCX downloaded successfully")}catch(Ae){O.dismiss(fe);const ct=(Ae==null?void 0:Ae.message)||"Failed to download DOCX";O.error(ct),console.error("Error downloading report DOCX:",Ae)}},Xd=async Q=>{try{await la.delete(Q.id),v(w.filter(fe=>fe.id!==Q.id)),Kt(fe=>({...fe,totalReports:fe.totalReports-1}))}catch(fe){console.error("Error deleting report:",fe)}},Zd=async Q=>{try{await hr.deleteAnyAdmin(Q.id||Q._id),A(ne.filter(fe=>(fe.id||fe._id)!==(Q.id||Q._id))),Kt(fe=>({...fe,totalChats:fe.totalChats-1}))}catch(fe){console.error("Error deleting chat:",fe)}},nl=Q=>new Date(Q).toLocaleDateString(),rl=(Q,fe)=>{if(fe){const Ae=ae.find(ct=>ct.microsoftId===fe);return Ae?Ae.name||Ae.email:`User ${fe.slice(-4)}`}if(Q){const Ae=ae.find(ct=>ct._id===Q);return Ae?Ae.name||Ae.email:`User ${Q.slice(-4)}`}return"Unknown User"};return!t||t.role!=="admin"?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-[#4B2A06] mb-4",children:"Access Denied"}),o.jsx("p",{className:"text-gray-600",children:"You don't have permission to access this page."})]})}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(Hs,{title:"Dashboard",showSearch:!0,searchValue:"",onSearchChange:()=>{}}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 items-start ",children:[o.jsxs("div",{className:"lg:col-span-2 my-4  border-t border-gray-100 bg-white flex flex-col shadow-sm rounded-lg items-center p-6 self-start",children:[o.jsx("div",{className:"text-lg  font-bold text-[#4B2A06] my-5",children:"Total Chats"}),o.jsxs("div",{className:"relative mt-2 w-32 h-32 lg:w-40 lg:h-40",children:[o.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 36 36",children:[o.jsx("path",{className:"text-gray-300",stroke:"currentColor",strokeWidth:"3",fill:"transparent",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}),o.jsx("path",{className:"text-[rgba(62,36,7,1)]",stroke:"currentColor",strokeWidth:"3",fill:"transparent",strokeDasharray:`${Gt.totalChats/Math.max(Gt.totalChats+10,1)*100}, 100`,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"})]}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("span",{className:"text-2xl lg:text-3xl font-bold text-[#4B2A06]",children:Gt.totalChats})})]})]}),o.jsx("div",{className:"lg:col-span-3 mt-4 ",children:o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"shadow-sm  bg-white rounded-lg",children:[o.jsx(tn,{className:"flex flex-row items-center space-y-0 pb-2",children:o.jsx(nn,{className:"text-md font-bold text-[rgba(114, 120, 127, 1)]",children:"Total Users"})}),o.jsx(gt,{children:o.jsx("div",{className:"  ml-2 text-2xl font-bold text-[rgba(38,40,43,1)]",children:n?o.jsx("div",{className:"animate-pulse bg-white/20 h-8 w-16 rounded"}):Gt.totalUsers})})]}),o.jsxs("div",{className:"shadow-sm bg-white rounded-lg",children:[o.jsx(tn,{className:"flex flex-row items-center space-y-0 pb-2",children:o.jsx(nn,{className:"text-md font-bold text-[rgba(114, 120, 127, 1)]",children:"Total Documents"})}),o.jsx(gt,{children:o.jsx("div",{className:"text-2xl ml-2 font-bold text-[rgba(38,40,43,1)]",children:n?o.jsx("div",{className:"animate-pulse bg-white/20 h-8 w-16 rounded"}):Gt.totalDocuments})})]}),o.jsxs("div",{className:"shadow-sm bg-white rounded-lg",children:[o.jsx(tn,{className:"flex flex-row items-center space-y-0  pb-2",children:o.jsx(nn,{className:"text-md font-bold text-[rgba(114, 120, 127, 1)]",children:"Total Summaries"})}),o.jsx(gt,{children:o.jsx("div",{className:"text-2xl ml-2 font-bold text-[rgba(38,40,43,1)]",children:n?o.jsx("div",{className:"animate-pulse bg-white/20 h-8 w-16 rounded"}):Gt.totalSummaries})})]}),o.jsxs("div",{className:"shadow-sm  bg-white rounded-lg",children:[o.jsx(tn,{className:"flex flex-row items-center space-y-0  pb-2",children:o.jsx(nn,{className:"text-md font-bold text-[rgba(114, 120, 127, 1)]",children:"Total Reports"})}),o.jsx(gt,{children:o.jsx("div",{className:"text-2xl ml-2 font-bold text-[rgba(38,40,43,1)]",children:n?o.jsx("div",{className:"animate-pulse bg-white/20 h-8 w-16 rounded"}):Gt.totalReports})})]})]})}),o.jsxs("div",{className:"lg:col-span-7 grid grid-cols-1 xl:grid-cols-2  border-l border-gray-200 pl-2",children:[o.jsxs("div",{className:"p-4",children:[o.jsx("h2",{className:"text-xl font-bold text-[#4B2A06] mb-3",children:"Document Management"}),o.jsxs("div",{className:"text-sm font-medium text-gray-600 mb-3",children:["All Documents (",m.length,")"]}),o.jsx("div",{className:"h-[25vh] overflow-y-auto  scrollbar-hide ",children:s?o.jsx("div",{className:"text-center py-4 text-gray-600",children:"Loading documents..."}):m.length===0?o.jsx("div",{className:"text-center py-4 text-gray-600",children:"No documents found"}):m.map((Q,fe)=>{var Ae;return o.jsxs("div",{className:"flex items-center justify-between px-2 py-2  bg-white rounded-lg hover:bg-gray-50 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[o.jsx(Yt,{className:"h-4 w-4  text-gray-600"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"font-medium text-[#4B2A06] text-sm truncate",title:Q.name||Q.namespace||`Document ${fe+1}`,style:{maxWidth:"200px"},children:(Q.name||Q.namespace||`Document ${fe+1}`).length>25?`${(Q.name||Q.namespace||`Document ${fe+1}`).substring(0,25)}...`:Q.name||Q.namespace||`Document ${fe+1}`}),o.jsxs("div",{className:"text-xs text-gray-500",children:["Created: ",nl(Q.createdAt)]}),o.jsxs("div",{className:"text-xs text-[#4B2A06] font-bold",children:["Workspace: ",((Ae=Q.workspaceId)==null?void 0:Ae.name)||"excollo"]})]})]}),o.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:o.jsxs(Po,{children:[o.jsx(ji,{asChild:!0,children:o.jsx("button",{className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"More actions",children:o.jsx(Ol,{className:"h-4 w-4 text-gray-600"})})}),o.jsxs(La,{align:"end",className:"bg-white w-48 border border-gray-200",children:[o.jsxs(jt,{onClick:()=>is(Q),className:"flex items-center gap-2 cursor-pointer hover:bg-white data-[highlighted]:bg-gray-50",children:[o.jsx(UD,{className:"h-4 w-4"}),o.jsx("span",{children:"Download"})]}),o.jsxs(jt,{className:"flex items-center gap-2 cursor-pointer hover:bg-white data-[highlighted]:bg-gray-50",children:[o.jsx(Xr,{className:"h-4 w-4"}),o.jsx(t3,{documentId:Q.id,documentName:Q.namespace||Q.name||"Document",renderAsButton:!0,buttonLabel:"View Document",buttonClassName:"text-sm text-[#4B2A06]"})]}),o.jsxs(jt,{onClick:()=>kr(Q),className:"flex items-center gap-2 cursor-pointer hover:bg-white data-[highlighted]:bg-gray-50 text-red-600 focus:text-red-600",children:[o.jsx(Kn,{className:"h-4 w-4"}),o.jsx("span",{children:"Delete"})]})]})]})})]},Q._id)})})]}),o.jsx("div",{className:"p-4",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-[#4B2A06] mb-3",children:"Summary Management"}),o.jsxs("div",{className:"text-sm font-medium text-gray-600 mb-3",children:["All Summaries (",g.length,")"]}),o.jsx("div",{className:"h-[25vh] overflow-y-auto  overflow-x-none  pr-2 scrollbar-hide",children:i?o.jsx("div",{className:"text-center py-4 text-gray-600",children:"Loading summaries..."}):g.length===0?o.jsx("div",{className:"text-center py-4 text-gray-600",children:"No summaries found"}):g.map((Q,fe)=>{var Ae;return o.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg bg-white hover:bg-[rgba(62, 36, 7, 0.13)] border-b border-gray-200 ${fe===0?"bg-[rgba(62, 36, 7, 0.13)] border-amber-200":""}`,children:[o.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[o.jsx(Yt,{className:"h-4 w-4 text-gray-600"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"font-medium text-[#4B2A06] flex items-center gap-2 text-sm truncate",title:Q.title||`Summary ${fe+1}`,style:{maxWidth:"200px"},children:(Q.title||`Summary ${fe+1}`).length>25?`${(Q.title||`Summary ${fe+1}`).substring(0,25)}...`:Q.title||`Summary ${fe+1}`}),o.jsxs("div",{className:"text-xs text-gray-500",children:["Created:"," ",nl(Q.updatedAt)]}),o.jsxs("div",{className:"text-xs text-[#4B2A06] font-bold",children:["Workspace: ",((Ae=Q.workspaceId)==null?void 0:Ae.name)||"Unknown"]}),fe===0&&o.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"Latest Summary"})]})]}),o.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:o.jsxs(Po,{children:[o.jsx(ji,{asChild:!0,children:o.jsx("button",{className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"More actions",children:o.jsx(Ol,{className:"h-4 w-4 text-gray-600"})})}),o.jsxs(La,{align:"end",className:"bg-white w-56 border border-gray-200",children:[o.jsxs(jt,{onClick:()=>ir(Q),className:"flex items-center gap-2 cursor-pointer hover:bg-white data-[highlighted]:bg-gray-50",children:[o.jsx(Bh,{className:"h-4 w-4"}),o.jsx("span",{children:"Print (Save as PDF)"})]}),o.jsxs(jt,{onClick:()=>V(Q.id),className:"flex items-center gap-2 cursor-pointer hover:bg-white data-[highlighted]:bg-gray-50",children:[o.jsx(Xr,{className:"h-4 w-4"}),o.jsx("span",{children:"View"})]}),o.jsxs(jt,{onClick:()=>Cr(Q),className:"flex items-center gap-2 cursor-pointer hover:bg-white data-[highlighted]:bg-gray-50",children:[o.jsx(Yt,{className:"h-4 w-4"}),o.jsx("span",{children:"Download DOCX"})]}),o.jsxs(jt,{onClick:()=>e(`/doc/${Q.documentId}`),className:"flex items-center gap-2 cursor-pointer hover:bg-white data-[highlighted]:bg-gray-50",children:[o.jsx(Xr,{className:"h-4 w-4"}),o.jsx("span",{children:"View Document"})]}),o.jsxs(jt,{onClick:()=>tl(Q),className:"flex items-center gap-2 cursor-pointer hover:bg-white data-[highlighted]:bg-gray-50 text-red-600 focus:text-red-600",children:[o.jsx(Kn,{className:"h-4 w-4"}),o.jsx("span",{children:"Delete"})]})]})]})})]},Q.id)})})]})})]})]}),o.jsxs("div",{className:"mt-8 border-t border-gray-200 pt-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-[#4B2A06] mb-2 sm:mb-0",children:"Directory Management"}),o.jsxs("div",{className:"text-md font-bold text-[#4B2A06]",children:["Total Directories : ",b.length]})]}),o.jsx("div",{className:"max-h-[35vh] overflow-y-auto  pr-2 scrollbar-hide",children:b.length===0?o.jsx("div",{className:"text-center py-4 text-gray-600",children:"No directories found"}):b.map(Q=>o.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-white hover:bg-gray-50 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#6B7280",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M3 7h5l2 3h11v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),o.jsx("path",{d:"M3 7V5a2 2 0 0 1 2-2h5l2 2h7a2 2 0 0 1 2 2v3"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-[#4B2A06] text-sm",children:Q.name}),o.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",Q.id]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"px-3 py-1 text-sm hover:text-[#4B2A06]  ",onClick:()=>{C(Q.id),_(!0)},title:"Share directory",children:o.jsx(rd,{className:"h-4 w-4"})}),o.jsx("button",{className:"px-3 py-1 text-sm hover:text-red-600  ",onClick:async()=>{if(window.confirm(`Delete folder "${Q.name}" and all documents inside?`))try{await Zr.delete(Q.id);const fe=b.filter(Ae=>Ae.id!==Q.id);E(fe),Kt(Ae=>({...Ae,totalDirectories:Math.max((Ae.totalDirectories||1)-1,0)}))}catch(fe){console.error("Failed to delete directory",fe),O.error("Failed to delete directory")}},title:"Delete directory",children:o.jsx(Kn,{className:"h-4 w-4"})})]})]},Q.id))})]}),o.jsx(h1,{resourceType:"directory",resourceId:N,open:S,onOpenChange:Q=>{_(Q),Q||C(null)}}),o.jsx(Ete,{summaryId:H,open:!!H,onOpenChange:Q=>{Q||V(null)},title:"Summary Preview"}),o.jsx(Nte,{reportId:k,open:!!k,onOpenChange:Q=>{Q||$(null)},title:"Report Preview"}),o.jsx(Q1,{open:U,onOpenChange:X,onCreated:()=>{$r(),X(!1)}}),o.jsx(er,{open:le,onOpenChange:Ee,children:o.jsxs(Hn,{className:"sm:max-w-lg bg-white",children:[o.jsx(vr,{children:o.jsxs($n,{className:"text-[#4B2A06]",children:["Add users to ",ve==null?void 0:ve.name]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(xt,{placeholder:"Search users by name or email",value:Tn,onChange:Q=>Pt(Q.target.value),className:"bg-white border-gray-300 text-[#4B2A06]"}),o.jsx("div",{className:"max-h-64 overflow-y-auto border border-gray-200 rounded",children:qa.length===0?o.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No users found"}):qa.map(Q=>o.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-50 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:Lt.includes(Q._id),onChange:()=>ht(Q._id)}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-sm text-[#4B2A06]",children:Q.name||Q.email}),o.jsx("div",{className:"text-xs text-gray-500",children:Q.email})]})]},Q._id))})]}),o.jsxs(gc,{children:[o.jsx(Re,{variant:"outline",onClick:()=>Ee(!1),className:"bg-white text-[#4B2A06] border-gray-300 hover:bg-gray-50",children:"Cancel"}),o.jsx(Re,{onClick:Nt,disabled:Lt.length===0,className:"bg-[#4B2A06] text-white hover:bg-[#3A2004]",children:"Add"})]})]})}),o.jsx(er,{open:Te,onOpenChange:me,children:o.jsxs(Hn,{className:"sm:max-w-lg bg-white",children:[o.jsx(vr,{children:o.jsxs($n,{className:"text-[#4B2A06]",children:["Remove users from ",ve==null?void 0:ve.name]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(xt,{placeholder:"Search members",value:Tn,onChange:Q=>Pt(Q.target.value),className:"bg-white border-gray-300 text-[#4B2A06]"}),o.jsx("div",{className:"max-h-64 overflow-y-auto border border-gray-200 rounded",children:We.length===0?o.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No members found"}):We.map(Q=>o.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-50 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:Lt.includes(Q._id),onChange:()=>ht(Q._id)}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-sm text-[#4B2A06]",children:Q.name||Q.email}),o.jsx("div",{className:"text-xs text-gray-500",children:Q.email})]})]},Q._id))})]}),o.jsxs(gc,{children:[o.jsx(Re,{variant:"outline",onClick:()=>me(!1),className:"bg-white text-[#4B2A06] border-gray-300 hover:bg-gray-50",children:"Cancel"}),o.jsx(Re,{onClick:Ht,disabled:Lt.length===0,className:"bg-[#4B2A06] text-white hover:bg-[#3A2004]",children:"Remove"})]})]})}),o.jsxs("div",{className:"mt-8 border-t border-gray-200 pt-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-[#4B2A06] mb-6",children:"Quick View"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(On,{className:"bg-[#637587] text-white cursor-pointer  transition-colors",onClick:()=>e("/admin/users"),children:o.jsxs(gt,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"User Management"}),o.jsx("p",{className:"text-sm text.white/80",children:"Manage User Roles and Permissions"})]})}),o.jsx(On,{className:"bg-[#637587] text-white cursor-pointer hover:bg-[#637587] transition-colors",onClick:()=>e("/dashboard"),children:o.jsxs(gt,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Document Management"}),o.jsx("p",{className:"text-sm text-white/80",children:"Manage Documents"})]})}),o.jsx(On,{className:"bg-[#637587] text-white cursor-pointer hover:bg-[#637587] transition-colors",onClick:()=>e("/chat-history"),children:o.jsxs(gt,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Chat Management"}),o.jsx("p",{className:"text-sm text-white/80",children:"Manage chats history"})]})}),o.jsx(On,{className:"bg-[#637587] text-white cursor-pointer hover:bg-[#637587] transition-colors",onClick:()=>e("/profile"),children:o.jsxs(gt,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Profile Management"}),o.jsx("p",{className:"text-sm text-white/80",children:"Manage profile and settings"})]})})]})]}),o.jsx("div",{className:"w-full mx-auto mt-8 border-t border-gray-200 pt-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[o.jsxs("div",{className:"lg:col-span-4 border-r border-gray-200 pr-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-[#4B2A06] ",children:"Chat Management"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-3",children:[o.jsxs("div",{className:"shadow-sm bg-white rounded-lg",children:[o.jsxs(tn,{className:"flex flex-row items-center space-y-0 ",children:[o.jsx(nn,{className:"text-md font-bold text-[rgba(114, 120, 127, 1)]",children:"Total Chats"}),o.jsx(ub,{className:"h-4 ml-2 w-4 text-[rgba(114, 120, 127, 1)]"})]}),o.jsx(gt,{children:o.jsx("div",{className:"ml-2 text-2xl font-bold text-[rgba(38,40,43,1)]",children:n?o.jsx("div",{className:"animate-pulse bg-white/20 h-8 w-16 rounded"}):Gt.totalChats})})]}),o.jsxs("div",{className:"shadow-sm bg-white rounded-lg",children:[o.jsxs(tn,{className:"flex flex-row items-center space-y-0 ",children:[o.jsx(nn,{className:"text-md font-bold text-[rgba(114, 120, 127, 1)]",children:"Avg Messages"}),o.jsx(Lh,{className:"h-4 ml-2 w-4 text-[rgba(114, 120, 127, 1)]"})]}),o.jsx(gt,{children:o.jsx("div",{className:"text-2xl ml-2 font-bold text-[rgba(38,40,43,1)]",children:n?o.jsx("div",{className:"animate-pulse bg-white/20 h-8 w-16 rounded"}):T})})]}),o.jsxs("div",{className:"shadow-sm bg-white rounded-lg",children:[o.jsxs(tn,{className:"flex flex-row items-center space-y-0 ",children:[o.jsx(nn,{className:"text-md font-bold text-[rgba(114, 120, 127, 1)]",children:"Last 30 days"}),o.jsx(Yt,{className:"h-4 ml-2 w-4 text-[rgba(114, 120, 127, 1)]"})]}),o.jsx(gt,{children:o.jsx("div",{className:"text-2xl ml-2 font-bold text-[rgba(38,40,43,1)]",children:n?o.jsx("div",{className:"animate-pulse bg.white/20 h-8 w-16 rounded"}):M})})]}),o.jsxs("div",{className:"shadow-sm bg-white rounded-lg",children:[o.jsxs(tn,{className:"flex flex-row items-center space-y-0 ",children:[o.jsx(nn,{className:"text-md font-bold text-[rgba(114, 120, 127, 1)]",children:"Active users"}),o.jsx(Ci,{className:"h-4 ml-2 w-4 text-[rgba(114, 120, 127, 1)]"})]}),o.jsx(gt,{children:o.jsx("div",{className:"text-2xl ml-2 font-bold text-[rgba(38,40,43,1)]",children:n?o.jsx("div",{className:"animate-pulse bg-white/20 h-8 w-16 rounded"}):F})})]})]})]}),o.jsxs("div",{className:"lg:col-span-8",children:[o.jsx("h3",{className:"text-2xl font-bold text-[#4B2A06] mb-5",children:"Recent Chat Sessions"}),o.jsx("div",{children:d?o.jsx("div",{className:"text-center py-8 text-gray-600",children:"Loading chat sessions..."}):ne.length===0?o.jsx("div",{className:"text-center py-8 text-gray-600",children:"No recent chat sessions found"}):ne.map((Q,fe)=>o.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg hover:bg-gray-50 transition-colors border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-[#637587] text-white rounded-full flex items-center justify-center  font-semibold text-sm",children:rl(Q.userId,Q.microsoftId).charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-[#4B2A06] text-sm",children:rl(Q.userId,Q.microsoftId)}),o.jsxs("div",{className:"text-xs text-gray-500",children:["Document: ",Q.documentId]}),o.jsxs("div",{className:"text-xs text-gray-500 font-medium",children:["Created by:"," ",rl(Q.userId,Q.microsoftId)]})]})]}),o.jsx("button",{className:"p-2 hover:bg-red-50 rounded-full transition-colors group",onClick:()=>Zd(Q),title:"Delete Chat",children:o.jsx(Kn,{className:"h-4 w-4 text-gray-400 group-hover:text-red-500"})})]},Q.id||Q._id))})]})]})}),o.jsxs("div",{className:"mt-8 border-t border-gray-200 pt-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-[#4B2A06] mb-2 sm:mb-0",children:"Report Management"}),o.jsxs("div",{className:"text-md font-bold text-[#4B2A06]",children:["Total Reports : ",w.length]})]}),o.jsx("div",{className:"h-[40vh] overflow-y-auto  pr-2 scrollbar-hide",children:c?o.jsx("div",{className:"text-center py-4 text-gray-600",children:"Loading reports..."}):w.length===0?o.jsx("div",{className:"text-center py-4 text-gray-600",children:"No reports found"}):w.map((Q,fe)=>{var Ae;return o.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-white hover:bg-gray-50 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Yt,{className:"h-4 w-4 text-gray-600"}),o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium text-[#4B2A06] text-sm",children:["Report For Document: ",Q.drhpNamespace]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["Document: ",Q.drhpNamespace]}),o.jsxs("div",{className:"text-xs text-[#4B2A06] font-bold",children:["Workspace: ",((Ae=Q.workspaceId)==null?void 0:Ae.name)||"Unknown"]})]})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs(Po,{children:[o.jsx(ji,{asChild:!0,children:o.jsx("button",{className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"More actions",children:o.jsx(Ol,{className:"h-4 w-4 text-gray-600"})})}),o.jsxs(La,{className:"bg-white w-56 border border-gray-200 ",align:"end",children:[o.jsxs(jt,{onClick:()=>Qd(Q),className:"flex items-center gap-2 cursor-pointer hover:bg-white data-[highlighted]:bg-gray-50",children:[o.jsx(Bh,{className:"h-4 w-4 "}),o.jsx("span",{children:"Print (Save as PDF)"})]}),o.jsxs(jt,{onClick:()=>$(Q.id),className:"flex items-center gap-2 cursor-pointer hover:bg-white data-[highlighted]:bg-gray-50",children:[o.jsx(Xr,{className:"h-4 w-4"}),o.jsx("span",{children:"View"})]}),o.jsxs(jt,{onClick:()=>Fp(Q),className:"flex items-center gap-2 cursor-pointer hover.bg-white data-[highlighted]:bg-gray-50",children:[o.jsx(Yt,{className:"h-4 w-4"}),o.jsx("span",{children:"Download DOCX"})]}),o.jsxs(jt,{onClick:()=>Xd(Q),className:"flex items-center gap-2 cursor-pointer hover:bg-white data-[highlighted]:bg-gray-50 text-red-600 focus:text-red-600",children:[o.jsx(Kn,{className:"h-4 w-4"}),o.jsx("span",{children:"Delete"})]})]})]})})]},Q.id)})})]}),o.jsxs("div",{className:"mt-8 border-t border-gray-200 pt-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-[#4B2A06] mb-4 sm:mb-0",children:"Workspace Management"}),o.jsxs("button",{onClick:()=>X(!0),className:"px-4 py-2 bg-[#4B2A06] text-white rounded-lg hover:bg-[#3A2004] transition-colors flex items-center gap-2",children:[o.jsx(Li,{className:"h-4 w-4"}),"Create Workspace"]})]}),o.jsxs("div",{className:"text-sm font-medium text-gray-600 mb-3",children:["All Workspaces (",Ie.length,")"]}),o.jsx("div",{className:"max-h-[30vh]  overflow-y-auto pr-2 scrollbar-hide",children:tt?o.jsx("div",{className:"text-center py-4 text-gray-600",children:"Loading workspaces..."}):Ie.length===0?o.jsx("div",{className:"text-center py-4 text-gray-600",children:"No workspaces found"}):Ie.map(Q=>o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white hover:bg-gray-50 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[o.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:Q.color||"#4B2A06"}}),o.jsx("div",{className:"min-w-0",children:(ye==null?void 0:ye.workspaceId)===Q.workspaceId?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{value:He,onChange:fe=>Ge(fe.target.value),className:"border border-gray-300 rounded px-2 py-1 text-sm w-48",placeholder:"Workspace name"}),o.jsx("button",{onClick:()=>el(Q),className:"text-green-600 hover:text-green-700",title:"Save",children:o.jsx(Oa,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>{Ce(null),Ge("")},className:"text-gray-500 hover:text-gray-700",title:"Cancel",children:o.jsx(Bn,{className:"h-4 w-4"})})]}):o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-[#4B2A06] text-sm",children:Q.name||Q.workspaceId}),o.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",Q.workspaceId,"  ",Q.status]})]})})]}),o.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:(ye==null?void 0:ye.workspaceId)!==Q.workspaceId&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>oi(Q),className:"px-2 py-1 text-sm rounded bg-white text-[#4B2A06] border border-gray-200 hover:bg-gray-50",children:"Add user"}),o.jsx("button",{onClick:()=>Sr(Q),className:"px-2 py-1 text-sm rounded bg-white text-[#4B2A06] border border-gray-200 hover:bg-gray-50",children:"Remove user"}),o.jsx("button",{onClick:()=>{Fe(Q),ue(!0)},className:"px-2 py-1 text-sm rounded bg-blue-50 text-blue-700 border border-blue-200 hover:bg-blue-100",title:"View requests",children:"Requests"}),o.jsx("button",{onClick:()=>{Ce(Q),Ge(Q.name)},className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"Rename workspace",children:o.jsx(rx,{className:"h-4 w-4 text-gray-600"})}),Q.workspaceId!=="default"&&o.jsx("button",{onClick:()=>ai(Q),className:"p-1 hover:bg-red-50 rounded transition-colors",title:"Archive workspace",children:o.jsx(Kn,{className:"h-4 w-4 text-red-600"})})]})})]},Q.workspaceId))})]}),o.jsx(L1,{className:"border-t border-gray-200 mt-5"}),o.jsx(er,{open:q,onOpenChange:ue,children:o.jsxs(Hn,{className:"max-w-2xl max-h-[70vh] overflow-y-auto",children:[o.jsx(vr,{children:o.jsx($n,{children:"Workspace Access Requests"})}),ve&&o.jsx(Tte,{workspaceId:ve.workspaceId,workspaceName:ve.name})]})}),o.jsxs("div",{className:" pt-6",children:[o.jsx(kte,{}),o.jsx(Ste,{})]})]})]})}const Ate=si({email:tr().email("Invalid email address"),name:tr().min(2,"Name must be at least 2 characters"),password:tr().min(8,"Password must be at least 8 characters"),role:pm(["admin","user"])}),_te=si({name:tr().min(2,"Name must be at least 2 characters"),role:pm(["admin","user"]),status:pm(["active","suspended"])});function jte(){const{user:e}=Nn(),t=qt(),[n,r]=h.useState([]),[s,a]=h.useState(null),[i,l]=h.useState(!0),[c,u]=h.useState(""),[d,f]=h.useState("all"),[m,p]=h.useState("all"),[g,y]=h.useState(1),[w,v]=h.useState(1),[b,E]=h.useState(0),[N,C]=h.useState(!1),[S,_]=h.useState(!1),[H,V]=h.useState(null),[k,$]=h.useState(null),[I,Y]=h.useState([]),[P,L]=h.useState(null),[M,K]=h.useState("today"),F=zo({resolver:Wo(Ate),defaultValues:{email:"",name:"",password:"",role:"user"}}),D=zo({resolver:Wo(_te),defaultValues:{name:"",role:"user",status:"active"}});h.useEffect(()=>{e&&e.role!=="admin"&&(O.error("Access denied. Admin privileges required."),t("/dashboard"))},[e,t]),h.useEffect(()=>{(e==null?void 0:e.role)==="admin"&&(T(),G())},[e,g,c,d,m]);const T=async()=>{try{l(!0);const re=await qr.getAllUsers({page:g,limit:20,search:c||void 0,role:d!=="all"?d:void 0,status:m!=="all"?m:void 0});r(re.users),v(re.pagination.pages),E(re.pagination.total)}catch(re){console.error("Error loading users:",re),O.error("Failed to load users")}finally{l(!1)}},G=async()=>{try{const re=await qr.getUserStats();a(re)}catch(re){console.error("Error loading stats:",re)}},ne=async re=>{var _e,Ie;try{$("create");const Xe={email:re.email,name:re.name,password:re.password,role:re.role};await qr.createUser(Xe),O.success("User created successfully"),C(!1),F.reset(),T(),G()}catch(Xe){const tt=((Ie=(_e=Xe.response)==null?void 0:_e.data)==null?void 0:Ie.message)||"Failed to create user";O.error(tt)}finally{$(null)}},A=async re=>{var _e,Ie;if(H)try{$("update"),await qr.updateUser(H._id,re),O.success("User updated successfully"),_(!1),V(null),D.reset(),T(),G()}catch(Xe){const tt=((Ie=(_e=Xe.response)==null?void 0:_e.data)==null?void 0:Ie.message)||"Failed to update user";O.error(tt)}finally{$(null)}},W=async re=>{var _e,Ie;if(confirm("Are you sure you want to deactivate this user?"))try{$(`delete-${re}`),await qr.deleteUser(re),O.success("User deactivated successfully"),T(),G()}catch(Xe){const tt=((Ie=(_e=Xe.response)==null?void 0:_e.data)==null?void 0:Ie.message)||"Failed to deactivate user";O.error(tt)}finally{$(null)}},z=async re=>{var _e,Ie;try{$(`activate-${re}`),await qr.activateUser(re),O.success("User activated successfully"),T(),G()}catch(Xe){const tt=((Ie=(_e=Xe.response)==null?void 0:_e.data)==null?void 0:Ie.message)||"Failed to activate user";O.error(tt)}finally{$(null)}},ae=re=>{V(re),D.reset({name:re.name||"",role:re.role,status:re.status}),_(!0)},J=re=>{u(re),y(1)},ce=re=>{Y(_e=>_e.includes(re)?_e.filter(Ie=>Ie!==re):[..._e,re])},xe=()=>{I.length===n.length?Y([]):Y(n.map(re=>re._id))};return(e==null?void 0:e.role)!=="admin"?null:o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsx(Hs,{title:"User Management",showSearch:!1,searchValue:"",onSearchChange:()=>{}}),o.jsxs("div",{className:"w-[90vw] mx-auto py-8",children:[s&&o.jsxs("div",{className:"w-[80vw]  grid grid-cols-1 md:grid-cols-5 gap-4 mb-8",children:[o.jsx(On,{className:"bg-[rgba(99,117,135,1)] text-white",children:o.jsx(gt,{className:"p-4",children:o.jsx("div",{className:"flex items-start gap-2",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-white font-bold flex items-center",children:"Total Users"}),o.jsx("p",{className:"text-2xl font-bold",children:s.total})]})})})}),o.jsx(On,{className:"bg-[rgba(99,117,135,1)] text-white",children:o.jsx(gt,{className:"p-4",children:o.jsx("div",{className:"flex items-start gap-2",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-white font-bold flex items-center",children:"Active Users"}),o.jsx("p",{className:"text-2xl font-bold",children:s.active})]})})})}),o.jsx(On,{className:"bg-[rgba(99,117,135,1)] text-white",children:o.jsx(gt,{className:"p-4",children:o.jsx("div",{className:"flex items-start gap-2",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-white flex font-bold items-center",children:"Admins"}),o.jsx("p",{className:"text-2xl font-bold",children:s.admins})]})})})}),o.jsx(On,{className:"bg-[rgba(99,117,135,1)] text-white",children:o.jsx(gt,{className:"p-4",children:o.jsx("div",{className:"flex items-start gap-2",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-white flex font-bold items-center",children:"Regular Users"}),o.jsx("p",{className:"text-2xl font-bold",children:s.users})]})})})}),o.jsx(On,{className:"bg-[rgba(99,117,135,1)] text-white",children:o.jsx(gt,{className:"p-4",children:o.jsx("div",{className:"flex items-start gap-2",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-white flex font-bold items-center",children:"Suspended"}),o.jsx("p",{className:"text-2xl font-bold",children:s.suspended})]})})})})]}),o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(xt,{placeholder:"Search",value:c,onChange:re=>J(re.target.value),className:"pl-10 bg-gray-100 border-gray-200 rounded-lg focus:ring-0 focus:outline-none bg-white"})]}),o.jsx("div",{className:"text-sm text-gray-500 ml-4",children:"Date : All"})]})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Users (",b,")"]}),o.jsxs(er,{open:N,onOpenChange:C,children:[o.jsx(Dp,{asChild:!0,children:o.jsxs(Re,{className:"flex items-center gap-2 bg-[rgba(99,117,135,1)] text-white hover:bg-[rgba(99,117,135,1)] hover:text-white focus:ring-0 focus:outline-none",children:[o.jsx(Bm,{className:"h-4 w-4"}),"Add User"]})}),o.jsxs(Hn,{className:"sm:max-w-md bg-white",children:[o.jsx(vr,{children:o.jsx($n,{children:"Create New User"})}),o.jsx(qo,{...F,children:o.jsxs("form",{onSubmit:F.handleSubmit(ne),className:"space-y-4",children:[o.jsx(yn,{control:F.control,name:"email",render:({field:re})=>o.jsxs(on,{children:[o.jsx(ln,{children:"Email"}),o.jsx(cn,{children:o.jsx(xt,{placeholder:"user@example.com",className:"bg-white border border-gray-100 rounded-lg focus:outline-none focus:ring-0",...re})}),o.jsx(bn,{})]})}),o.jsx(yn,{control:F.control,name:"name",render:({field:re})=>o.jsxs(on,{children:[o.jsx(ln,{children:"Name"}),o.jsx(cn,{children:o.jsx(xt,{placeholder:"Full Name",className:"bg-white border border-gray-100 rounded-lg focus:outline-none focus:ring-0",...re})}),o.jsx(bn,{})]})}),o.jsx(yn,{control:F.control,name:"password",render:({field:re})=>o.jsxs(on,{children:[o.jsx(ln,{children:"Password"}),o.jsx(cn,{children:o.jsx(xt,{type:"password",placeholder:"Password",className:"bg-white border border-gray-100 rounded-lg focus:outline-none focus:ring-0",...re})}),o.jsx(bn,{})]})}),o.jsx(yn,{control:F.control,name:"role",render:({field:re})=>o.jsxs(on,{children:[o.jsx(ln,{children:"Role"}),o.jsxs(xr,{onValueChange:re.onChange,defaultValue:re.value,children:[o.jsx(cn,{children:o.jsx(Zn,{className:"bg-gray-100 shadow-md  border-none focus:outline-none focus:ring-0",children:o.jsx(yr,{className:"bg-white",placeholder:"Select role"})})}),o.jsxs(Jn,{className:"bg-white border border-gray-200",children:[o.jsx($e,{className:"bg-white hover:bg-gray-100 data-[highlighted]:bg-gray-100 hover:text-[#4B2A06] ",value:"user",children:"User"}),o.jsx($e,{className:"bg-white hover:bg-gray-100 data-[highlighted]:bg-gray-100 hover:text-[#4B2A06] ",value:"admin",children:"Admin"})]})]}),o.jsx(bn,{})]})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(Re,{type:"button",variant:"outline",onClick:()=>C(!1),className:"bg-gray-200 text-[#4B2A06] hover:bg-gray-200 border-none hover:text-[#4B2A06]",children:"Cancel"}),o.jsxs(Re,{type:"submit",disabled:k==="create",className:"bg-[#4B2A06] text-white hover:bg-[#4B2A06]/90 border-none hover:text-white",children:[k==="create"&&o.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"}),"Create User"]})]})]})})]})]})]}),i?o.jsx("div",{className:"flex justify-center items-center h-32",children:o.jsx(Ze,{className:"h-8 w-8 animate-spin"})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:" overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-200",children:[o.jsx("th",{className:"text-left w-[20vw] p-3",children:o.jsx("input",{type:"checkbox",checked:I.length===n.length&&n.length>0,onChange:xe,className:"rounded border-gray-300"})}),o.jsx("th",{className:"text-center w-[20vw] p-3 font-medium text-gray-900",children:"User ID"}),o.jsx("th",{className:"text-center w-[20vw] p-3 font-medium text-gray-900",children:"User Name"}),o.jsx("th",{className:"text-center w-[20vw] p-3 font-medium text-gray-900",children:"Role"}),o.jsx("th",{className:"text-center w-[20vw] p-3 font-medium text-gray-900",children:"Status"}),o.jsx("th",{className:"text-right w-[20vw] p-3 font-medium text-gray-900",children:"Actions"})]})}),o.jsx("tbody",{children:n.map(re=>o.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[o.jsx("td",{className:" w-[20vw] p-3",children:o.jsx("input",{type:"checkbox",checked:I.includes(re._id),onChange:()=>ce(re._id),className:"rounded border-gray-300"})}),o.jsxs("td",{className:"w-[20vw] text-center p-3 text-gray-600",children:["#",re._id.slice(-4)]}),o.jsx("td",{className:"w-[20vw] text-center p-3 font-medium text-gray-900",children:re.name||re.email}),o.jsx("td",{className:"w-[20vw] text-center p-3 text-gray-600 capitalize",children:re.role}),o.jsx("td",{className:"w-[20vw] text-center p-3",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${re.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:re.status})}),o.jsx("td",{className:"w-[20vw] text-right p-3",children:o.jsxs(Po,{children:[o.jsx(ji,{asChild:!0,className:"hover:bg-gray-200 hover:text-[#4B2A06]",children:o.jsx(Re,{variant:"ghost",size:"sm",children:o.jsx(Ol,{className:"h-4 w-4 "})})}),o.jsxs(La,{align:"end",className:"bg-white border border-gray-200 ",children:[o.jsxs(jt,{onClick:()=>ae(re),className:"hover:bg-white data-[highlighted]:bg-gray-100 hover:text-[#4B2A06] ",children:[o.jsx(Lk,{className:"mr-2 h-4 w-4"}),"Edit"]}),o.jsxs(jt,{onClick:()=>{L(re),K("last7")},className:"hover:bg-white data-[highlighted]:bg-gray-100 hover:text-[#4B2A06] ",children:[o.jsx(oc,{className:"mr-2 h-4 w-4"}),"Update Document Access"]}),re.status==="active"?o.jsxs(jt,{onClick:()=>W(re._id),className:"text-red-600 hover:bg-white data-[highlighted]:bg-gray-100 hover:text-[#4B2A06] ",children:[o.jsx(Kn,{className:"mr-2 h-4 w-4"}),"Suspend"]}):o.jsxs(jt,{onClick:()=>z(re._id),className:"text-green-600 hover:bg-white data-[highlighted]:bg-gray-100 hover:text-[#4B2A06] ",children:[o.jsx(Mk,{className:"mr-2 h-4 w-4"}),"Activate"]})]})]})})]},re._id))})]})}),w>1&&o.jsxs("div",{className:"flex justify-center items-center gap-2 mt-4",children:[o.jsx(Re,{variant:"outline",size:"sm",onClick:()=>y(g-1),disabled:g===1,children:"Previous"}),o.jsxs("span",{className:"text-sm",children:["Page ",g," of ",w]}),o.jsx(Re,{variant:"outline",size:"sm",onClick:()=>y(g+1),disabled:g===w,children:"Next"})]})]})]}),o.jsx(er,{open:S,onOpenChange:_,children:o.jsxs(Hn,{className:"sm:max-w-md",children:[o.jsx(vr,{children:o.jsx($n,{children:"Edit User"})}),o.jsx(qo,{...D,children:o.jsxs("form",{onSubmit:D.handleSubmit(A),className:"space-y-4",children:[o.jsx(yn,{control:D.control,name:"name",render:({field:re})=>o.jsxs(on,{children:[o.jsx(ln,{children:"Name"}),o.jsx(cn,{children:o.jsx(xt,{placeholder:"Full Name",...re})}),o.jsx(bn,{})]})}),o.jsx(yn,{control:D.control,name:"role",render:({field:re})=>o.jsxs(on,{children:[o.jsx(ln,{children:"Role"}),o.jsxs(xr,{onValueChange:re.onChange,value:re.value,children:[o.jsx(cn,{children:o.jsx(Zn,{children:o.jsx(yr,{placeholder:"Select role"})})}),o.jsxs(Jn,{children:[o.jsx($e,{value:"user",children:"User"}),o.jsx($e,{value:"admin",children:"Admin"})]})]}),o.jsx(bn,{})]})}),o.jsx(yn,{control:D.control,name:"status",render:({field:re})=>o.jsxs(on,{children:[o.jsx(ln,{children:"Status"}),o.jsxs(xr,{onValueChange:re.onChange,value:re.value,children:[o.jsx(cn,{children:o.jsx(Zn,{children:o.jsx(yr,{placeholder:"Select status"})})}),o.jsxs(Jn,{children:[o.jsx($e,{value:"active",children:"Active"}),o.jsx($e,{value:"suspended",children:"Suspended"})]})]}),o.jsx(bn,{})]})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(Re,{type:"button",variant:"outline",onClick:()=>_(!1),children:"Cancel"}),o.jsxs(Re,{type:"submit",disabled:k==="update",children:[k==="update"&&o.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"}),"Update User"]})]})]})})]})}),o.jsx(er,{open:!!P,onOpenChange:()=>L(null),children:o.jsxs(Hn,{className:"sm:max-w-md",children:[o.jsx(vr,{children:o.jsx($n,{children:"Update Document Access"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"text-sm text-gray-600",children:"Set how much history the user can access in this workspace."}),o.jsxs(xr,{value:M,onValueChange:re=>K(re),children:[o.jsx(Zn,{children:o.jsx(yr,{})}),o.jsxs(Jn,{children:[o.jsx($e,{value:"today",children:"Today"}),o.jsx($e,{value:"last7",children:"Last 7 days"}),o.jsx($e,{value:"last15",children:"Last 15 days"}),o.jsx($e,{value:"last30",children:"Last 30 days"}),o.jsx($e,{value:"last90",children:"Last 3 months"}),o.jsx($e,{value:"all",children:"All"})]})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(Re,{variant:"outline",onClick:()=>L(null),children:"Cancel"}),o.jsxs(Re,{onClick:async()=>{var re,_e;if(P)try{$("update-buckets"),await(await qh(async()=>{const{default:Xe}=await Promise.resolve().then(()=>OJ);return{default:Xe}},void 0)).default.updateUserBuckets(P.email,[M]),O.success("Access updated"),L(null)}catch(Ie){O.error(((_e=(re=Ie.response)==null?void 0:re.data)==null?void 0:_e.message)||"Failed to update")}finally{$(null)}},disabled:k==="update-buckets",children:[k==="update-buckets"&&o.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"}),"Update"]})]})]})]})})]})]})}function Ite(){const[e,t]=h.useState([]),[n,r]=h.useState(!0),[s,a]=h.useState({}),i=async()=>{var u,d;try{r(!0);const f=await mr.listWorkspaces();t(f.workspaces||[])}catch(f){O.error(((d=(u=f==null?void 0:f.response)==null?void 0:u.data)==null?void 0:d.message)||"Failed to load workspaces")}finally{r(!1)}};h.useEffect(()=>{i()},[]);const l=async u=>{var f,m;const d=s[u.workspaceId]||{name:u.name,status:u.status};try{await mr.updateWorkspace(u.workspaceId,{name:d.name,status:d.status}),O.success("Workspace updated"),a(p=>({...p,[u.workspaceId]:{name:d.name,status:d.status}})),i()}catch(p){O.error(((m=(f=p==null?void 0:p.response)==null?void 0:f.data)==null?void 0:m.message)||"Update failed")}},c=async u=>{var d,f;try{await mr.archiveWorkspace(u.workspaceId),O.success("Workspace archived"),i()}catch(m){O.error(((f=(d=m==null?void 0:m.response)==null?void 0:d.data)==null?void 0:f.message)||"Archive failed")}};return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("h1",{className:"text-xl font-semibold",children:"Workspace Management"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Create, view, and manage workspaces under your domain"})]}),n?o.jsx("div",{children:"Loading..."}):e.length===0?o.jsx("div",{className:"text-gray-600",children:"No workspaces yet."}):o.jsx("div",{className:"space-y-3",children:e.map(u=>{const d=s[u.workspaceId]||{name:u.name,status:u.status};return o.jsxs("div",{className:"border rounded p-3 flex items-center justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"text-xs text-gray-500",children:[u.domain,"  ",u.slug,"  ",u.workspaceId]}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx(xt,{value:d.name,onChange:f=>a(m=>({...m,[u.workspaceId]:{...d,name:f.target.value}})),className:"w-64"}),o.jsxs(xr,{value:d.status,onValueChange:f=>a(m=>({...m,[u.workspaceId]:{...d,status:f}})),children:[o.jsx(Zn,{className:"w-40",children:o.jsx(yr,{})}),o.jsxs(Jn,{children:[o.jsx($e,{value:"active",children:"Active"}),o.jsx($e,{value:"suspended",children:"Suspended"}),o.jsx($e,{value:"archived",children:"Archived"})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Re,{variant:"outline",onClick:()=>l(u),children:"Save"}),o.jsx(Re,{variant:"destructive",onClick:()=>c(u),children:"Archive"})]})]},u.workspaceId)})})]})}function Rte(){const{invitationId:e}=Ab(),t=qt(),{user:n,login:r}=Nn(),[s,a]=h.useState(null),[i,l]=h.useState(!0),[c,u]=h.useState(!1),[d,f]=h.useState(null);h.useEffect(()=>{e&&m()},[e]);const m=async()=>{var b,E;try{l(!0);const N=await Ct.getInvitationDetails(e);a(N.invitation)}catch(N){console.error("Error loading invitation:",N),f(((E=(b=N.response)==null?void 0:b.data)==null?void 0:E.message)||"Failed to load invitation")}finally{l(!1)}},p=async()=>{var b,E,N,C,S,_,H,V;if(!n){t(`/login?invitation=${e}`);return}if((s==null?void 0:s.status)==="accepted"){O.info("This invitation has already been accepted"),t("/dashboard");return}try{u(!0);const k=await Ct.acceptInvitation(e);if((b=k.workspace)!=null&&b.workspaceId){await Ct.switchWorkspace(k.workspace.workspaceId),window.location.href="/dashboard";return}O.success("Invitation accepted successfully!"),t("/dashboard")}catch(k){console.error("Error accepting invitation:",k);const $=(E=k==null?void 0:k.response)==null?void 0:E.status,I=(C=(N=k==null?void 0:k.response)==null?void 0:N.data)==null?void 0:C.invitedEmail,Y=(_=(S=k==null?void 0:k.response)==null?void 0:S.data)==null?void 0:_.message;if($===400&&(Y!=null&&Y.includes("already been accepted"))){O.info("This invitation has already been accepted"),await m();return}if($===400&&((V=(H=k==null?void 0:k.response)==null?void 0:H.data)!=null&&V.alreadyAccepted)){O.info("You already have access to this workspace"),t("/dashboard");return}$===403&&I?(O.error(`Please sign in as ${I} to accept this invitation.`),t(`/login?invitation=${e}`)):O.error(Y||"Failed to accept invitation")}finally{u(!1)}},g=async()=>{var b,E;if(!n){t("/");return}try{u(!0),await Ct.declineInvitation(e),O.success("Invitation declined"),t("/dashboard")}catch(N){console.error("Error declining invitation:",N),O.error(((E=(b=N.response)==null?void 0:b.data)==null?void 0:E.message)||"Failed to decline invitation")}finally{u(!1)}},y=b=>new Date(b)<new Date,w=b=>new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});if(i)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#4B2A06] mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading invitation..."})]})});if(d||!s)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsx(On,{className:"w-full max-w-md",children:o.jsx(gt,{className:"pt-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Cl,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),o.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Invitation Not Found"}),o.jsx("p",{className:"text-gray-600 mb-4",children:d||"This invitation may have expired or been cancelled."}),o.jsx(Re,{onClick:()=>t("/"),variant:"outline",children:"Go Home"})]})})})});const v=y(s.expiresAt);return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4",children:o.jsxs(On,{className:"w-full max-w-2xl",children:[o.jsxs(tn,{className:"text-center",children:[o.jsx("div",{className:"mx-auto mb-4 p-3 bg-[#4B2A06] rounded-full w-fit",children:o.jsx(Bo,{className:"h-8 w-8 text-white"})}),o.jsx(nn,{className:"text-2xl",children:"Workspace Invitation"}),o.jsx("p",{className:"text-gray-600",children:"You've been invited to join a workspace"})]}),o.jsxs(gt,{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ci,{className:"h-5 w-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:s.inviterName}),o.jsx("p",{className:"text-sm text-gray-600",children:s.inviterEmail})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Bo,{className:"h-5 w-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:s.workspaceName}),o.jsx("p",{className:"text-sm text-gray-600",children:s.workspaceDomain})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ll,{className:"h-5 w-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Your Role"}),o.jsx(An,{variant:"outline",className:"mt-1",children:s.invitedRole})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Fm,{className:"h-5 w-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Expires"}),o.jsxs("p",{className:`text-sm ${v?"text-red-600":"text-gray-600"}`,children:[w(s.expiresAt),v&&" (Expired)"]})]})]}),s.message&&o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(ub,{className:"h-5 w-5 text-gray-500 mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Message"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.message})]})]})]}),s.status==="accepted"?o.jsxs("div",{className:"text-center",children:[o.jsx(Uo,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Invitation Already Accepted"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"This invitation has already been accepted. You have access to this workspace."}),o.jsx(Re,{onClick:()=>t("/dashboard"),className:"bg-[#4B2A06] hover:bg-[#3A2004] text-white",children:"Go to Dashboard"})]}):v?o.jsxs("div",{className:"text-center",children:[o.jsx(Cl,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Invitation Expired"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"This invitation has expired. Please contact the workspace administrator for a new invitation."}),o.jsx(Re,{onClick:()=>t("/"),variant:"outline",children:"Go Home"})]}):s.status==="declined"||s.status==="cancelled"?o.jsxs("div",{className:"text-center",children:[o.jsx(Cl,{className:"h-12 w-12 text-gray-500 mx-auto mb-4"}),o.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Invitation ",s.status==="declined"?"Declined":"Cancelled"]}),o.jsxs("p",{className:"text-gray-600 mb-4",children:["This invitation has been ",s.status,"."]}),o.jsx(Re,{onClick:()=>t("/"),variant:"outline",children:"Go Home"})]}):o.jsxs("div",{className:"flex gap-4 justify-center",children:[o.jsxs(Re,{onClick:g,variant:"outline",disabled:c,className:"flex items-center gap-2",children:[o.jsx(Cl,{className:"h-4 w-4"}),"Decline"]}),o.jsxs(Re,{onClick:p,disabled:c,className:"flex items-center gap-2 bg-[#4B2A06] hover:bg-[#3A2004] text-white",children:[o.jsx(Uo,{className:"h-4 w-4"}),c?"Processing...":"Accept Invitation"]})]}),!n&&o.jsxs("div",{className:"text-center text-sm text-gray-600",children:[o.jsx("p",{children:"You'll need to log in to accept this invitation."}),o.jsx("p",{children:`Don't have an account? You can create one after clicking "Accept Invitation".`})]})]})]})})}const Pte=()=>{const{isAuthenticated:e,loading:t}=Nn(),n=qt(),r=Nr();h.useEffect(()=>{if(t)return;const s=["/dashboard","/doc","/chat-history","/settings"],a=["/","/login","/forgot-password","/reset-password","/auth-callback","/test"],i=s.some(l=>r.pathname.startsWith(l));a.some(l=>r.pathname===l||l!=="/"&&r.pathname.startsWith(l)),i&&!e&&n("/login",{replace:!0})},[e,t,r.pathname,n])},Dte=()=>{const e=qt(),[t,n]=h.useState([]),[r,s]=h.useState(!1),[a,i]=h.useState(""),[l,c]=h.useState("all"),[u,d]=h.useState(!1),[f,m]=h.useState(1),[p,g]=h.useState(null),y=P=>{try{return new Date(P).toLocaleString(void 0,{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return P}},w=async(P=f)=>{s(!0);try{const L=await _a.list({page:P,pageSize:50});n(L.items||[]);const M=(P-1)*50+((L.items||[]).length||0);g(typeof L.total=="number"?L.total:M)}finally{s(!1)}};h.useEffect(()=>{w(f)},[f]),h.useEffect(()=>{const P=L=>{if(u){const M=document.querySelector("[data-time-filter-dropdown]");M&&!M.contains(L.target)&&d(!1)}};return u&&document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[u]);const v=async()=>{await _a.markAllRead(),await w(f),window.location.reload()},b=async P=>{await _a.markRead(P),await w(f)},E=async(P,L)=>{if(L.stopPropagation(),window.confirm("Are you sure you want to delete this notification?"))try{await _a.delete(P),await w(f)}catch(M){console.error("Failed to delete notification:",M),alert("Failed to delete notification. Please try again.")}},N=async P=>{if(!P.isRead)try{await _a.markRead(P.id)}catch{}const L=P,M=L.resourceType||L.type,K=L.resourceId||L.documentId||L.drhpId||L.id;try{switch((M||"").toLowerCase()){case"document":e(K?`/doc/${K}`:"/dashboard");break;case"summary":L.documentId?e(`/doc/${L.documentId}`):e("/dashboard");break;case"report":L.drhpId?e(`/compare/${L.drhpId}`):L.documentId?e(`/compare/${L.documentId}`):e("/dashboard");break;case"directory":e("/dashboard");break;case"user":e("/admin/users");break;default:/report/i.test(P.title)?e(`/compare/${L.drhpId||L.documentId||""}`):/summary|rhp|drhp/i.test(P.title)?e(`/doc/${L.documentId||L.resourceId||""}`):e("/dashboard")}}catch{e("/dashboard")}},S=(P=>{if(l==="all")return P;const L=new Date,M=new Date;switch(l){case"today":M.setHours(0,0,0,0);break;case"last7":M.setDate(L.getDate()-7);break;case"last15":M.setDate(L.getDate()-15);break;case"last30":M.setDate(L.getDate()-30);break;default:return P}return P.filter(K=>new Date(K.createdAt)>=M)})(t).filter(P=>(P.title||"").toLowerCase().includes(a.toLowerCase())||(P.body||"").toLowerCase().includes(a.toLowerCase())),_=50,H=typeof p=="number"?p:(f-1)*_+t.length,V=H>0,k=V?(f-1)*_+1:0,$=V?(f-1)*_+t.length:0,I=f>1,Y=typeof p=="number"?f*_<H:t.length===_;return o.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[o.jsx(Hs,{showSearch:!0,searchValue:a,onSearchChange:i,onSidebarOpen:()=>{},sidebarOpen:!1}),o.jsxs("main",{className:"flex-1 max-w-[75vw] w-full mx-auto px-6 py-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h1",{className:"text-3xl font-extrabold text-[#232323]",children:"Notifications center"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:[k,"",$," of ",H]}),o.jsx("button",{className:"p-1 rounded disabled:opacity-40 hover:bg-gray-100",onClick:()=>m(P=>Math.max(1,P-1)),disabled:!I||r,title:"Previous page",children:o.jsx(MD,{className:"h-4 w-4 text-gray-600"})}),o.jsx("button",{className:"p-1 rounded disabled:opacity-40 hover:bg-gray-100",onClick:()=>m(P=>P+1),disabled:!Y||r,title:"Next page",children:o.jsx(Mh,{className:"h-4 w-4 text-gray-600"})})]}),o.jsxs("div",{className:"relative","data-time-filter-dropdown":!0,children:[o.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50",onClick:()=>d(!u),children:[o.jsx($D,{className:"h-4 w-4"}),o.jsxs("span",{children:[l==="all"&&"All Time",l==="today"&&"Today",l==="last7"&&"Last 7 days",l==="last15"&&"Last 15 days",l==="last30"&&"Last 30 days"]}),o.jsx(sc,{className:"h-4 w-4"})]}),u&&o.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:o.jsxs("div",{className:"py-1",children:[o.jsx("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 ${l==="all"?"bg-[#F7F5F0] text-[#4B2A06]":"text-gray-700"}`,onClick:()=>{c("all"),d(!1)},children:"All Time"}),o.jsx("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 ${l==="today"?"bg-gray-100 text-[#4B2A06]":"text-gray-700"}`,onClick:()=>{c("today"),d(!1)},children:"Today"}),o.jsx("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 ${l==="last7"?"bg-[#F7F5F0] text-[#4B2A06]":"text-gray-700"}`,onClick:()=>{c("last7"),d(!1)},children:"Last 7 days"}),o.jsx("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 ${l==="last15"?"bg-[#F7F5F0] text-[#4B2A06]":"text-gray-700"}`,onClick:()=>{c("last15"),d(!1)},children:"Last 15 days"}),o.jsx("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 ${l==="last30"?"bg-[#F7F5F0] text-[#4B2A06]":"text-gray-700"}`,onClick:()=>{c("last30"),d(!1)},children:"Last 30 days"})]})})]}),o.jsxs("button",{className:"text-sm text-[#4B2A06] hover:underline flex items-center gap-2",onClick:v,children:[o.jsx(Oa,{className:"h-4 w-4"})," Mark all as read"]})]})]}),o.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["Showing ",S.length," notification",S.length!==1?"s":"",l!=="all"&&o.jsxs("span",{children:[" ","from ",l==="today"&&"today",l==="last7"&&"the last 7 days",l==="last15"&&"the last 15 days",l==="last30"&&"the last 30 days"]})]}),o.jsx("div",{className:" h-[70vh] overflow-y-auto scrollbar-hide",children:r?o.jsx("div",{className:"text-gray-500",children:"Loading..."}):S.length===0?o.jsx("div",{className:"text-gray-500",children:"No notifications"}):S.map(P=>o.jsxs("div",{className:`flex items-start  rounded-md border-b border-gray-200 px-4 py-3  ${P.isRead?"bg-white":"bg-gray-50"}`,onClick:()=>N(P),style:{cursor:"pointer"},children:[o.jsx("div",{className:"mt-1 mr-1",children:o.jsx(Ik,{className:`h-4 w-4  bg-none ${P.isRead?"text-[#4B2A06]":"text-[#FF7A1A]"}`})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("div",{className:"font-semibold text-[#232323]",children:P.title}),o.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:y(P.createdAt)})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[!P.isRead&&o.jsx("button",{className:"text-sm text-[#4B2A06] hover:underline",onClick:L=>{L.stopPropagation(),b(P.id)},children:"Mark read"}),o.jsx("button",{className:"text-red-500 hover:text-red-700 p-1",onClick:L=>E(P.id,L),title:"Delete notification",children:o.jsx(Kn,{className:"h-4 w-4"})})]})]}),P.body&&o.jsx("div",{className:"text-sm text-gray-600 mt-1",children:P.body})]})]},P.id))})]})]})},Ote=()=>{const[e,t]=h.useState([]),[n,r]=h.useState(!1),[s,a]=h.useState(""),i=async()=>{r(!0);try{const u=await mA.list({page:1,pageSize:100});t(u.items||[])}finally{r(!1)}};h.useEffect(()=>{i()},[]);const l=async u=>{try{u.kind==="directory"?await Zr.restore(u.item.id):await It.restore(u.item.id),O.success("Restored"),await i()}catch{O.error("Failed to restore")}},c=e.filter(u=>{var d;return(((d=u.item)==null?void 0:d.name)||"").toLowerCase().includes(s.toLowerCase())});return o.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[o.jsx(Hs,{showSearch:!0,searchValue:s,onSearchChange:a,onSidebarOpen:()=>{},sidebarOpen:!1}),o.jsxs("main",{className:"flex-1 max-w-5xl w-full mx-auto px-6 py-8",children:[o.jsx("h1",{className:"text-3xl font-extrabold text-[#232323] mb-6",children:"Bin"}),n?o.jsx("div",{className:"text-gray-500",children:"Loading..."}):c.length===0?o.jsx("div",{className:"text-gray-500",children:"No items in bin"}):o.jsx("div",{className:"space-y-2",children:c.map(u=>o.jsxs("div",{className:"flex items-center justify-between border rounded px-3 py-2",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-800",children:u.item.name}),o.jsx("div",{className:"text-xs text-gray-500",children:u.kind})]}),o.jsxs("button",{className:"text-[#4B2A06] hover:underline flex items-center gap-2",onClick:()=>l(u),children:[o.jsx(KD,{className:"h-4 w-4"})," Restore"]})]},`${u.kind}-${u.item.id}`))})]})]})},Lte=new SM,Mte=()=>{Pte();const e=()=>{const t=Nr(),n=nF();return oe.useEffect(()=>{const r=`scroll:${t.pathname}${t.search}`,s=sessionStorage.getItem(r),a=s!=null?Number(s):null;return requestAnimationFrame(()=>{a!==null&&!Number.isNaN(a)?window.scrollTo(0,a):window.scrollTo(0,0)}),()=>{const i=window.scrollY||document.documentElement.scrollTop||0;sessionStorage.setItem(r,String(i))}},[t.pathname,t.search,n]),oe.useEffect(()=>{const r=()=>{const s=`scroll:${t.pathname}${t.search}`,a=window.scrollY||document.documentElement.scrollTop||0;sessionStorage.setItem(s,String(a))};return window.addEventListener("beforeunload",r),()=>window.removeEventListener("beforeunload",r)},[t.pathname,t.search]),null};return o.jsxs(o.Fragment,{children:[o.jsx(e,{}),o.jsx(vF,{children:o.jsxs(zt,{element:o.jsx(nte,{}),children:[o.jsx(zt,{path:"/",element:o.jsx(WJ,{})}),o.jsx(zt,{path:"/login",element:o.jsx(Yee,{})}),o.jsx(zt,{path:"/forgot-password",element:o.jsx(Qee,{})}),o.jsx(zt,{path:"/reset-password",element:o.jsx(Jee,{})}),o.jsx(zt,{path:"/test",element:o.jsx(ete,{})}),o.jsx(zt,{path:"/auth-callback",element:o.jsx(qee,{})}),o.jsx(zt,{path:"/invitation/:invitationId",element:o.jsx(Rte,{})}),o.jsxs(zt,{element:o.jsx(tte,{}),children:[o.jsx(zt,{path:"/dashboard",element:o.jsx(dte,{})}),o.jsx(zt,{path:"/notifications",element:o.jsx(Dte,{})}),o.jsx(zt,{path:"/bin",element:o.jsx(Ote,{})}),o.jsx(zt,{path:"/compare/:drhpId",element:o.jsx(pte,{})}),o.jsx(zt,{path:"/profile",element:o.jsx(wte,{})}),o.jsx(zt,{path:"/admin",element:o.jsx(Cte,{})}),o.jsx(zt,{path:"/admin/users",element:o.jsx(jte,{})}),o.jsx(zt,{path:"/admin/workspaces",element:o.jsx(Ite,{})}),o.jsxs(zt,{element:o.jsx(rte,{}),children:[o.jsx(zt,{path:"/doc/:namespace",element:o.jsx(FJ,{})}),o.jsx(zt,{path:"/chat-history",element:o.jsx($J,{})}),o.jsx(zt,{path:"/settings",element:o.jsx(zJ,{})})]}),o.jsx(zt,{path:"*",element:o.jsx(HC,{to:"/dashboard",replace:!0})})]}),o.jsx(zt,{path:"*",element:o.jsx(BJ,{})})]})})]})},Fte=()=>o.jsx(CM,{client:Lte,children:o.jsxs(J5,{children:[o.jsx(DO,{}),o.jsx(fL,{}),o.jsx(AF,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:o.jsx(lB,{children:o.jsx(Mte,{})})})]})});tk(document.getElementById("root")).render(o.jsx(Fte,{}));function fR(){Object.keys(localStorage).forEach(e=>{e.startsWith("summary_ready_")&&(O.success("Summary is ready!"),localStorage.removeItem(e)),e.startsWith("report_ready_")&&(O.success("Comparison report is ready!"),localStorage.removeItem(e))})}window.addEventListener("focus",fR);fR();
